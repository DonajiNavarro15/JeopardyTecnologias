Ðu
fC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\GameTeamCard.cs
	namespace 	
JeopardyGame
 
. 
Cards 
{		 
public

 

class

 
GameTeamCard

 
:

  
Border

! '
{ 
private 
readonly $
PlayerInGameDataContract 1!
playerOfCardNumberOne2 G
;G H
private 
readonly $
PlayerInGameDataContract 1!
playerOfCardNumberTwo2 G
;G H
private 
	TextBlock 
userNamePlayer1 )
;) *
private 
	TextBlock 
userNamePlayer2 )
;) *
private 
	TextBlock 
points  
;  !
private 
Image 
avatarPlayer1 #
;# $
private 
Image 
avatarPlayer2 #
;# $
private 
SolidColorBrush 
color  %
;% &
private 
Grid 
grid 
; 
public 
GameTeamCard 
( $
PlayerInGameDataContract 4
playerNumber15 B
,B C$
PlayerInGameDataContractD \
playerNumber2] j
)k l
{ 	!
playerOfCardNumberOne !
=" #
playerNumber1$ 1
;1 2!
playerOfCardNumberTwo !
=" #
playerNumber2$ 1
;1 2
this 
. 
Name 
= 
$str 
+ 
playerNumber1 +
.+ ,
IdUser, 2
.2 3
ToString3 ;
(; <
)< =
+= >!
playerOfCardNumberTwo> S
.S T
IdUserT Z
.Z [
ToString[ c
(c d
)d e
;e f 
InitializeComponents  
(  !
)! "
;" #
	SetStyles 
( 
) 
; 
grid 
. 
Children 
. 
Add 
( 
userNamePlayer1 -
)- .
;. /
grid 
. 
Children 
. 
Add 
( 
points $
)$ %
;% &
grid 
. 
Children 
. 
Add 
( 
avatarPlayer1 +
)+ ,
;, -
grid   
.   
Children   
.   
Add   
(   
userNamePlayer2   -
)  - .
;  . /
grid!! 
.!! 
Children!! 
.!! 
Add!! 
(!! 
avatarPlayer2!! +
)!!+ ,
;!!, -
this"" 
."" 
Child"" 
="" 
grid"" 
;"" 
}## 	
private%% 
void%% 
	SetStyles%% 
(%% 
)%%  
{&& 	
SetBorderStyle'' 
('' 
)'' 
;'' 
SetStyleGrid(( 
((( 
)(( 
;(( 
SetStyleUserName)) 
()) 
))) 
;)) 
SetStylePoints** 
(** 
)** 
;** 
SetAvatarImage++ 
(++ 
)++ 
;++ 
},, 	
private.. 
void..  
InitializeComponents.. )
(..) *
)..* +
{// 	
grid00 
=00 
new00 
Grid00 
(00 
)00 
;00 
userNamePlayer111 
=11 
new11 !
	TextBlock11" +
(11+ ,
)11, -
;11- .
userNamePlayer222 
=22 
new22 !
	TextBlock22" +
(22+ ,
)22, -
;22- .
points33 
=33 
new33 
	TextBlock33 "
(33" #
)33# $
;33$ %
avatarPlayer144 
=44 
new44 
Image44  %
(44% &
)44& '
;44' (
avatarPlayer255 
=55 
new55 
Image55  %
(55% &
)55& '
;55' (
switch66 
(66 !
playerOfCardNumberOne66 )
.66) *
SideTeam66* 2
)662 3
{77 
case88 
$num88 
:88 
color99 
=99 
new99 
SolidColorBrush99  /
(99/ 0
Colors990 6
.996 7
	CadetBlue997 @
)99@ A
;99A B
break:: 
;:: 
case;; 
$num;; 
:;; 
color<< 
=<< 
new<< 
SolidColorBrush<<  /
(<</ 0
Colors<<0 6
.<<6 7
	IndianRed<<7 @
)<<@ A
;<<A B
break== 
;== 
}>> 
}?? 	
privateAA 
voidAA 
SetBorderStyleAA #
(AA# $
)AA$ %
{BB 	
thisCC 
.CC 
MarginCC 
=CC 
newCC 
SystemCC $
.CC$ %
WindowsCC% ,
.CC, -
	ThicknessCC- 6
(CC6 7
$numCC7 9
,CC9 :
$numCC; =
,CC= >
$numCC? A
,CCA B
$numCCC D
)CCD E
;CCE F
thisDD 
.DD 
HeightDD 
=DD 
$numDD 
;DD 
thisEE 
.EE 
WidthEE 
=EE 
$numEE 
;EE 
thisFF 
.FF 
BorderBrushFF 
=FF 
newFF "
SolidColorBrushFF# 2
(FF2 3
ColorsFF3 9
.FF9 :
	CadetBlueFF: C
)FFC D
;FFD E
thisGG 
.GG 

BackgroundGG 
=GG 
colorGG #
;GG# $
thisHH 
.HH 
HorizontalAlignmentHH $
=HH% &
SystemHH' -
.HH- .
WindowsHH. 5
.HH5 6
HorizontalAlignmentHH6 I
.HHI J
CenterHHJ P
;HHP Q
}II 	
privateKK 
voidKK 
SetStyleGridKK !
(KK! "
)KK" #
{LL 	
gridMM 
.MM 
MarginMM 
=MM 
newMM 
SystemMM $
.MM$ %
WindowsMM% ,
.MM, -
	ThicknessMM- 6
(MM6 7
$numMM7 8
)MM8 9
;MM9 :
gridNN 
.NN 
HeightNN 
=NN 
$numNN 
;NN 
gridOO 
.OO 
WidthOO 
=OO 
$numOO 
;OO 
}PP 	
privateRR 
voidRR 
SetStyleUserNameRR %
(RR% &
)RR& '
{SS 	
userNamePlayer1TT 
.TT 
MarginTT "
=TT# $
newTT% (
SystemTT) /
.TT/ 0
WindowsTT0 7
.TT7 8
	ThicknessTT8 A
(TTA B
$numTTB D
,TTD E
$numTTF G
,TTG H
$numTTI L
,TTL M
$numTTN P
)TTP Q
;TTQ R
userNamePlayer1UU 
.UU 
HeightUU "
=UU# $
$numUU% '
;UU' (
userNamePlayer1VV 
.VV 
WidthVV !
=VV" #
$numVV$ '
;VV' (
userNamePlayer1WW 
.WW 
TextAlignmentWW )
=WW* +
SystemWW, 2
.WW2 3
WindowsWW3 :
.WW: ;
TextAlignmentWW; H
.WWH I
CenterWWI O
;WWO P
userNamePlayer1XX 
.XX 
FontSizeXX $
=XX% &
$numXX' )
;XX) *
userNamePlayer1YY 
.YY 

ForegroundYY &
=YY' (
newYY) ,
SolidColorBrushYY- <
(YY< =
ColorsYY= C
.YYC D
BlackYYD I
)YYI J
;YYJ K
userNamePlayer1ZZ 
.ZZ 
TextZZ  
=ZZ! "!
playerOfCardNumberOneZZ# 8
.ZZ8 9
UserNameZZ9 A
;ZZA B
userNamePlayer2\\ 
.\\ 
Margin\\ "
=\\# $
new\\% (
System\\) /
.\\/ 0
Windows\\0 7
.\\7 8
	Thickness\\8 A
(\\A B
$num\\B E
,\\E F
$num\\G H
,\\H I
$num\\J L
,\\L M
$num\\N P
)\\P Q
;\\Q R
userNamePlayer2]] 
.]] 
Height]] "
=]]# $
$num]]% '
;]]' (
userNamePlayer2^^ 
.^^ 
Width^^ !
=^^" #
$num^^$ '
;^^' (
userNamePlayer2__ 
.__ 
TextAlignment__ )
=__* +
System__, 2
.__2 3
Windows__3 :
.__: ;
TextAlignment__; H
.__H I
Center__I O
;__O P
userNamePlayer2`` 
.`` 
FontSize`` $
=``% &
$num``' )
;``) *
userNamePlayer2aa 
.aa 

Foregroundaa &
=aa' (
newaa) ,
SolidColorBrushaa- <
(aa< =
Colorsaa= C
.aaC D
BlackaaD I
)aaI J
;aaJ K
userNamePlayer2bb 
.bb 
Textbb  
=bb! "!
playerOfCardNumberTwobb# 8
.bb8 9
UserNamebb9 A
;bbA B
}cc 	
privateee 
voidee 
SetStylePointsee #
(ee# $
)ee$ %
{ff 	
pointsgg 
.gg 
Margingg 
=gg 
newgg 
Systemgg  &
.gg& '
Windowsgg' .
.gg. /
	Thicknessgg/ 8
(gg8 9
$numgg9 ;
,gg; <
$numgg= ?
,gg? @
$numggA C
,ggC D
$numggE F
)ggF G
;ggG H
pointshh 
.hh 
Heighthh 
=hh 
$numhh 
;hh 
pointsii 
.ii 
Widthii 
=ii 
$numii 
;ii 
pointsjj 
.jj 
TextAlignmentjj  
=jj! "
Systemjj# )
.jj) *
Windowsjj* 1
.jj1 2
TextAlignmentjj2 ?
.jj? @
Centerjj@ F
;jjF G
pointskk 
.kk 
FontSizekk 
=kk 
$numkk  
;kk  !
pointsll 
.ll 

Foregroundll 
=ll 
newll  #
SolidColorBrushll$ 3
(ll3 4
Colorsll4 :
.ll: ;
Whitell; @
)ll@ A
;llA B
pointsmm 
.mm 

Backgroundmm 
=mm 
newmm  #
SolidColorBrushmm$ 3
(mm3 4
Colorsmm4 :
.mm: ;
Blackmm; @
)mm@ A
;mmA B
pointsnn 
.nn 
Opacitynn 
=nn 
$numnn  
;nn  !
pointsoo 
.oo 
Textoo 
=oo !
playerOfCardNumberOneoo /
.oo/ 0 
CurrentPointsOfRoundoo0 D
.ooD E
ToStringooE M
(ooM N
)ooN O
;ooO P
}pp 	
privaterr 
voidrr 
SetAvatarImagerr #
(rr# $
)rr$ %
{ss 	
avatarPlayer1tt 
.tt 
Sourcett  
=tt! "
newtt# &
BitmapImagett' 2
(tt2 3
newtt3 6
Uritt7 :
(tt: ;
GetSpecificResourcett; N
.ttN O
GetAvatarImagettO ]
(tt] ^!
playerOfCardNumberOnett^ s
.tts t
IdAvatarttt |
)tt| }
,tt} ~
UriKind	tt 
.
tt 
Absolute
tt 
)
tt 
)
tt 
;
tt 
avatarPlayer1uu 
.uu 
Heightuu  
=uu! "
doubleuu# )
.uu) *
NaNuu* -
;uu- .
avatarPlayer1vv 
.vv 
Widthvv 
=vv  !
$numvv" $
;vv$ %
avatarPlayer1ww 
.ww 
HorizontalAlignmentww -
=ww. /
Systemww0 6
.ww6 7
Windowsww7 >
.ww> ?
HorizontalAlignmentww? R
.wwR S
LeftwwS W
;wwW X
avatarPlayer2xx 
.xx 
Sourcexx  
=xx! "
newxx# &
BitmapImagexx' 2
(xx2 3
newxx3 6
Urixx7 :
(xx: ;
GetSpecificResourcexx; N
.xxN O
GetAvatarImagexxO ]
(xx] ^!
playerOfCardNumberTwoxx^ s
.xxs t
IdAvatarxxt |
)xx| }
,xx} ~
UriKind	xx 
.
xx 
Absolute
xx 
)
xx 
)
xx 
;
xx 
avatarPlayer2yy 
.yy 
Heightyy  
=yy! "
doubleyy# )
.yy) *
NaNyy* -
;yy- .
avatarPlayer2zz 
.zz 
Widthzz 
=zz  !
$numzz" $
;zz$ %
avatarPlayer2{{ 
.{{ 
HorizontalAlignment{{ -
={{. /
System{{0 6
.{{6 7
Windows{{7 >
.{{> ?
HorizontalAlignment{{? R
.{{R S
Right{{S X
;{{X Y
}|| 	
public~~ 
void~~ 
UpdatePoints~~  
(~~  !
int~~! $
nePoints~~% -
)~~- .
{ 	
points
 
.
 
Text
 
=
 
nePoints
 "
.
" #
ToString
# +
(
+ ,
)
, -
;
- .
}
 	
public
 
void
 
MakeBorderSpecial
 %
(
% &
)
& '
{
 	
this
 
.
 
BorderThickness
  
=
! "
new
# &
System
' -
.
- .
Windows
. 5
.
5 6
	Thickness
6 ?
(
? @
$num
@ A
)
A B
;
B C
}
 	
public
 
void
 
MakeBoredNormal
 #
(
# $
)
$ %
{
 	
this
 
.
 
BorderThickness
  
=
! "
new
# &
System
' -
.
- .
Windows
. 5
.
5 6
	Thickness
6 ?
(
? @
$num
@ A
)
A B
;
B C
}
 	
public
 
int
 
	GetPoints
 
(
 
)
 
{
 	
return
 
int
 
.
 
Parse
 
(
 
points
 #
.
# $
Text
$ (
)
( )
;
) *
}
 	
}
 
} å
C:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\DialogWindows\ConfirmationDialogWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
DialogWindows $
{ 
public 

partial 
class $
ConfirmationDialogWindow 1
:2 3
Window4 :
{ 
public 
bool 
CloseWindow 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
public $
ConfirmationDialogWindow '
(' (
String( .
title/ 4
,4 5
String6 <
message= D
,D E
WindowF L
currentWindowM Z
)Z [
{ 	
InitializeComponent 
(  
)  !
;! "
txbErrorTitle 
. 
Text 
=  
title! &
;& '
txbErrorMessage 
. 
Text  
=! "
message# *
;* +
CloseWindow 
= 
false 
;  
} 	
private 
void 
ClickAccept  
(  !
object! '
sender( .
,. /
RoutedEventArgs0 ?
e@ A
)A B
{ 	
CloseWindow 
= 
true 
; 
this 
. 
Close 
( 
) 
; 
} 	
private 
void 
ClickCancel  
(  !
object! '
sender( .
,. /
RoutedEventArgs0 ?
e@ A
)A B
{   	
CloseWindow!! 
=!! 
false!! 
;!!  
this"" 
."" 
Close"" 
("" 
)"" 
;"" 
}## 	
}$$ 
}%% ª:
iC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\ChatMessageCard.cs
	namespace		 	
JeopardyGame		
 
.		 
Helpers		 
{

 
public 

class 
ChatMessageCard  
:! "
Border# )
{ 
private 

StackPanel 
stpUserMessage )
;) *
private 
	TextBlock 
lblUserName %
;% &
private 
	TextBlock 

txbMessage $
;$ %
public 
ChatMessageCard 
( 
String %
userName& .
,. /
String1 7
message8 ?
)? @
{ 	
SetCardStyle 
( 
) 
;  
InitializeComponents  
(  !
)! "
;" #
SetUserNameStyle 
( 
userName %
)% &
;& '
SetMessageStyle 
( 
message #
)# $
;$ %
SetStackPanelStyle 
( 
)  
;  !
this 
. 
Child 
= 
stpUserMessage '
;' (
} 	
private 
void 
SetCardStyle !
(! "
)" #
{ 	
this 
. 
Margin 
= 
new 
System $
.$ %
Windows% ,
., -
	Thickness- 6
(6 7
$num7 8
,8 9
$num: ;
,; <
$num= >
,> ?
$num@ A
)A B
;B C
this 
. 
Width 
= 
double 
.  
NaN  #
;# $
this 
. 
MaxWidth 
= 
$num 
;  
this 
. 
Height 
= 
double  
.  !
NaN! $
;$ %
this   
.   

Background   
=   
new   !
SolidColorBrush  " 1
(  1 2
Colors  2 8
.  8 9
White  9 >
)  > ?
;  ? @
this!! 
.!! 
Opacity!! 
=!! 
$num!! 
;!! 
this"" 
."" 
CornerRadius"" 
="" 
new""  #
System""$ *
.""* +
Windows""+ 2
.""2 3
CornerRadius""3 ?
(""? @
$num""@ B
)""B C
;""C D
}## 	
private%% 
void%%  
InitializeComponents%% )
(%%) *
)%%* +
{&& 	
lblUserName'' 
='' 
new'' 
	TextBlock'' '
(''' (
)''( )
;'') *

txbMessage(( 
=(( 
new(( 
	TextBlock(( &
(((& '
)((' (
;((( )
stpUserMessage)) 
=)) 
new))  

StackPanel))! +
())+ ,
))), -
;))- .
}** 	
private,, 
void,, 
SetStackPanelStyle,, '
(,,' (
),,( )
{-- 	
stpUserMessage.. 
... 
Orientation.. &
=..' (
Orientation..) 4
...4 5
Vertical..5 =
;..= >
stpUserMessage// 
.// 
Height// !
=//" #
Double//$ *
.//* +
NaN//+ .
;//. /
stpUserMessage00 
.00 
Width00  
=00! "
Double00# )
.00) *
NaN00* -
;00- .
stpUserMessage11 
.11 
MaxWidth11 #
=11$ %
$num11& )
;11) *
stpUserMessage22 
.22 
Margin22 !
=22" #
new22$ '
System22( .
.22. /
Windows22/ 6
.226 7
	Thickness227 @
(22@ A
$num22A B
)22B C
;22C D
stpUserMessage33 
.33 
Children33 #
.33# $
Add33$ '
(33' (
lblUserName33( 3
)333 4
;334 5
stpUserMessage44 
.44 
Children44 #
.44# $
Add44$ '
(44' (

txbMessage44( 2
)442 3
;443 4
}55 	
private77 
void77 
SetUserNameStyle77 %
(77% &
string77& ,
userName77- 5
)775 6
{88 	
lblUserName99 
.99 
Height99 
=99  
Double99! '
.99' (
NaN99( +
;99+ ,
lblUserName:: 
.:: 
Width:: 
=:: 
Double::  &
.::& '
NaN::' *
;::* +
lblUserName;; 
.;; 
MaxWidth;;  
=;;! "
$num;;# &
;;;& '
lblUserName<< 
.<< 
FontSize<<  
=<<! "
$num<<# %
;<<% &
lblUserName== 
.== 

Foreground== "
===# $
new==% (
SolidColorBrush==) 8
(==8 9
Colors==9 ?
.==? @
DarkRed==@ G
)==G H
;==H I
lblUserName>> 
.>> 
Text>> 
=>> 
userName>> '
;>>' (
lblUserName?? 
.?? 
Margin?? 
=??  
new??! $
System??% +
.??+ ,
Windows??, 3
.??3 4
	Thickness??4 =
(??= >
$num??> @
,??@ A
$num??B C
,??C D
$num??E G
,??G H
$num??I J
)??J K
;??K L
}@@ 	
privateBB 
voidBB 
SetMessageStyleBB $
(BB$ %
stringBB% +
messageBB, 3
)BB3 4
{CC 	

txbMessageDD 
.DD 
HeightDD 
=DD 
DoubleDD  &
.DD& '
NaNDD' *
;DD* +

txbMessageEE 
.EE 
WidthEE 
=EE 
DoubleEE %
.EE% &
NaNEE& )
;EE) *

txbMessageFF 
.FF 
MaxWidthFF 
=FF  !
$numFF" %
;FF% &

txbMessageGG 
.GG 
FontSizeGG 
=GG  !
$numGG" $
;GG$ %

txbMessageHH 
.HH 

ForegroundHH !
=HH" #
newHH$ '
SolidColorBrushHH( 7
(HH7 8
ColorsHH8 >
.HH> ?
BlackHH? D
)HHD E
;HHE F

txbMessageII 
.II 
MarginII 
=II 
newII  #
SystemII$ *
.II* +
WindowsII+ 2
.II2 3
	ThicknessII3 <
(II< =
$numII= ?
,II? @
$numIIA B
,IIB C
$numIID F
,IIF G
$numIIH I
)III J
;IIJ K

txbMessageJJ 
.JJ 
TextJJ 
=JJ 
messageJJ %
;JJ% &

txbMessageKK 
.KK 
TextWrappingKK #
=KK$ %
SystemKK& ,
.KK, -
WindowsKK- 4
.KK4 5
TextWrappingKK5 A
.KKA B
WrapKKB F
;KKF G
}LL 	
}NN 
}PP &
vC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\DialogWindows\DialogWindowsManager.cs
	namespace		 	
JeopardyGame		
 
.		 
DialogWindows		 $
{

 
public 

static 
class 
DialogWindowManager +
{ 
private 
const 
int 
_ERROR !
=" #
$num$ %
;% &
private 
const 
int 
_INFORMATION &
=' (
$num) *
;* +
private 
const 
int 
_CONFIRMATION '
=( )
$num* +
;+ ,
public 
static 
int 
ERROR 
=>  "
_ERROR# )
;) *
public 
static 
int 
INFORMATION %
=>& (
_INFORMATION) 5
;5 6
public 
static 
int 
CONFIRMATION &
=>' )
_CONFIRMATION* 7
;7 8
public 
static 
void !
ShowInfoOrErrorWindow 0
(0 1
string1 7
title8 =
,= >
string? E
messageF M
,M N
WindowO U
windowToShowOverV f
,f g
inth k
	typeDilogl u
)u v
{ 	
if 
( 
windowToShowOver  
!=! #
null$ (
)( )
{ 
Window 
window 
; 
if 
( 
	typeDilog 
==  
ERROR! &
)& '
{ 
window 
= 
new $
ErrorMessageDialogWindow  8
(8 9
title9 >
,> ?
message@ G
,G H
windowToShowOverI Y
)Y Z
;Z [
} 
else   
{!! 
window"" 
="" 
new""  *
InformationMessageDialogWindow""! ?
(""? @
title""@ E
,""E F
message""G N
,""N O
windowToShowOver""P `
)""` a
;""a b
}## 

ShowWindow$$ 
($$ 
windowToShowOver$$ +
,$$+ ,
window$$- 3
)$$3 4
;$$4 5
}%% 
}&& 	
public)) 
static)) 
bool)) "
ShowWindowConfirmation)) 1
())1 2
string))2 8
title))9 >
,))> ?
string))@ F
message))G N
,))N O
Window))P V
windowToShowOver))W g
)))g h
{** 	$
ConfirmationDialogWindow++ $
window++% +
=++, -
new++. 1$
ConfirmationDialogWindow++2 J
(++J K
title++K P
,++P Q
message++R Y
,++Y Z
windowToShowOver++[ k
)++k l
;++l m

ShowWindow,, 
(,, 
windowToShowOver,, '
,,,' (
window,,) /
),,/ 0
;,,0 1
return-- 
window-- 
.-- 
CloseWindow-- %
;--% &
}.. 	
private00 
static00 
void00 

ShowWindow00 '
(00' (
Window00( .

mainWindow00/ 9
,009 :
Window00; A
dialogWindow00B N
)00N O
{11 	
if22 
(22 

mainWindow22 
!=22 
null22 "
)22" #
{33 
double44 
left44 
=44 

mainWindow44 (
.44( )
Left44) -
+44. /
(440 1

mainWindow441 ;
.44; <
Width44< A
-44B C
dialogWindow44D P
.44P Q
Width44Q V
)44V W
/44X Y
$num44Z [
;44[ \
double55 
top55 
=55 

mainWindow55 '
.55' (
Top55( +
+55, -
(55. /

mainWindow55/ 9
.559 :
Height55: @
-55A B
dialogWindow55C O
.55O P
Height55P V
)55V W
/55X Y
$num55Z [
;55[ \
dialogWindow66 
.66 
Left66 !
=66" #
left66$ (
;66( )
dialogWindow77 
.77 
Top77  
=77! "
top77# &
;77& '
dialogWindow88 
.88 
VerticalAlignment88 .
=88/ 0
VerticalAlignment881 B
.88B C
Center88C I
;88I J
dialogWindow99 
.99 

ShowDialog99 '
(99' (
)99( )
;99) *
}:: 
};; 	
}== 
}>> ÿ4
rC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Exceptions\ExceptionDictionary.cs
	namespace 	
JeopardyGame
 
. 

Exceptions !
{ 
public		 

static		 
class		 
ExceptionDictionary		 +
{

 
private 
static 
readonly 
String  &
_FATAL_EXCEPTION' 7
=8 9
$str: A
;A B
private 
static 
readonly 
String  &
_ERROR' -
=. /
$str0 7
;7 8
private 
static 
readonly 
String  &
_UNKNOW' .
=/ 0
$str1 9
;9 :
private 
static 
readonly 
int  #
_SUCCESFULL_EVENT$ 5
=6 7
-8 9
$num9 <
;< =
private 
static 
readonly 
int  #
_UNSUCCESFULL_EVENT$ 7
=8 9
-: ;
$num; =
;= >
private 
static 
readonly 
int  # 
_EMAIL_ALREADY_EXIST$ 8
=9 :
-; <
$num< >
;> ?
private 
static 
readonly 
int  ##
_USERNAME_ALREADY_EXIST$ ;
=< =
-> ?
$num? A
;A B
private 
static 
readonly 
int  #
_NULL_PARAEMETER$ 4
=5 6
-7 8
$num8 ;
;; <
private 
static 
readonly 
int  #
_ARGUMENT_NULL$ 2
=3 4
-5 6
$num6 9
;9 :
private 
static 
readonly 
int  #,
 _ARGUMENT_OUT_OF_RANGE_EXCEPTION$ D
=E F
-G H
$numH K
;K L
private 
static 
readonly 
int  #
_FORMMAT_EXCEPTION$ 6
=7 8
-9 :
$num: =
;= >
private 
static 
readonly 
int  #
_RANK_EXCEPTION$ 3
=4 5
-6 7
$num7 :
;: ;
private 
static 
readonly 
int  #!
_EMAIL_FORMAT_INVALID$ 9
=: ;
-< =
$num= @
;@ A
private 
static 
readonly 
int  #
_INVALID_OPERATION$ 6
=7 8
-9 :
$num: =
;= >
private 
static 
readonly 
int  #
_NO_DB_CONECTION$ 4
=5 6
-7 8
$num8 ;
;; <
private 
static 
readonly 
int  #
_SAVE_CHANGES_ERROR$ 7
=8 9
-: ;
$num; >
;> ?
private 
static 
readonly 
int  #

_SQL_ERROR$ .
=/ 0
-1 2
$num2 5
;5 6
private 
static 
readonly 
int  #
_ENTITY_ERROR$ 1
=2 3
-4 5
$num5 8
;8 9
private 
static 
readonly 
int  #
_SMTP_EXCEPTION$ 3
=4 5
-6 7
$num7 :
;: ;
private 
static 
readonly 
int  #%
_UNKOWN_EXCEPTION_OCURRED$ =
=> ?
-@ A
$numA D
;D E
public!! 
static!! 
string!! 
FATAL_EXCEPTION!! ,
=>!!- /
_FATAL_EXCEPTION!!0 @
;!!@ A
public## 
static## 
string## 
ERROR## "
=>### %
_ERROR##& ,
;##, -
public%% 
static%% 
string%% 
UNKNOW%% #
=>%%$ &
_UNKNOW%%' .
;%%. /
public&& 
static&& 
int&& 
SUCCESFULL_EVENT&& *
=>&&+ -
_SUCCESFULL_EVENT&&. ?
;&&? @
public(( 
static(( 
int(( 
UNSUCCESFULL_EVENT(( ,
=>((- /
_UNSUCCESFULL_EVENT((0 C
;((C D
public** 
static** 
int** 
NULL_PARAEMETER** )
=>*** ,
_NULL_PARAEMETER**- =
;**= >
public,, 
static,, 
int,, 
ARGUMENT_NULL,, '
=>,,( *
_ARGUMENT_NULL,,+ 9
;,,9 :
public.. 
static.. 
int.. +
ARGUMENT_OUT_OF_RANGE_EXCEPTION.. 9
=>..: <,
 _ARGUMENT_OUT_OF_RANGE_EXCEPTION..= ]
;..] ^
public00 
static00 
int00 
FORMMAT_EXCEPTION00 +
=>00, .
_FORMMAT_EXCEPTION00/ A
;00A B
public22 
static22 
int22 
RANK_EXCEPTION22 (
=>22) +
_RANK_EXCEPTION22, ;
;22; <
public44 
static44 
int44  
EMAIL_FORMAT_INVALID44 .
=>44/ 1!
_EMAIL_FORMAT_INVALID442 G
;44G H
public66 
static66 
int66 
INVALID_OPERATION66 +
=>66, .
_INVALID_OPERATION66/ A
;66A B
public88 
static88 
int88 
NO_DB_CONECTION88 )
=>88* ,
_NO_DB_CONECTION88- =
;88= >
public:: 
static:: 
int:: 
SAVE_CHANGES_ERROR:: ,
=>::- /
_SAVE_CHANGES_ERROR::0 C
;::C D
public<< 
static<< 
int<< 
	SQL_ERROR<< #
=><<$ &

_SQL_ERROR<<' 1
;<<1 2
public>> 
static>> 
int>> 
ENTITY_ERROR>> &
=>>>' )
_ENTITY_ERROR>>* 7
;>>7 8
public@@ 
static@@ 
int@@ 
SMTP_EXCEPTION@@ (
=>@@) +
_SMTP_EXCEPTION@@, ;
;@@; <
publicBB 
staticBB 
intBB $
UNKOWN_EXCEPTION_OCURREDBB 2
=>BB3 5%
_UNKOWN_EXCEPTION_OCURREDBB6 O
;BBO P
publicDD 
staticDD 
intDD 
EMAIL_ALREADY_EXISTDD -
=>DD. 0 
_EMAIL_ALREADY_EXISTDD1 E
;DDE F
publicFF 
staticFF 
intFF "
USERNAME_ALREADY_EXISTFF 0
=>FF1 3#
_USERNAME_ALREADY_EXISTFF4 K
;FFK L
}GG 
}II Ð
vC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Exceptions\ExceptionHandlerForLogs.cs
	namespace		 	
JeopardyGame		
 
.		 

Exceptions		 !
{

 
public 

static 
class #
ExceptionHandlerForLogs /
{ 
public 
static 
void 
LogException '
(' (
	Exception( 1
	exception2 ;
,; <
String= C
categoryD L
)L M
{ 	
string 

logMessage 
= 
$"  "
$str" #
{# $
DateTime$ ,
., -
Now- 0
}0 1
$str1 9
{9 :
category: B
}B C
$strC Q
{Q R
	exceptionR [
.[ \
Message\ c
}c d
$strd s
{s t
	exceptiont }
.} ~

StackTrace	~ 
}
 
$str
 
"
 
;
 
SeriLogClient 
	logConfig #
=$ %
new& )
SeriLogClient* 7
(7 8
)8 9
;9 :
const 
int 

maxRetries  
=! "
$num# $
;$ %
int 

retryCount 
= 
$num 
; 
bool 
success 
= 
false  
;  !
while 
( 
! 
success 
&& 

retryCount )
<* +

maxRetries, 6
)6 7
{ 
try 
{ 
File 
. 
AppendAllText &
(& '
	logConfig' 0
.0 1
getPath1 8
(8 9
)9 :
,: ;

logMessage< F
)F G
;G H
success 
= 
true "
;" #
} 
catch 
( 
IOException "
)" #
{ 
Thread 
. 
Sleep  
(  !
$num! %
)% &
;& '

retryCount 
++  
;  !
} 
}   
}!! 	
}## 
}$$ Ò4
lC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Exceptions\SeriLogClient.cs
	namespace 	
JeopardyGame
 
. 

Exceptions !
{ 
internal 
class 
SeriLogClient  
{ 
private 
readonly 
String 
absolutePath  ,
;, -
public 
SeriLogClient 
( 
) 
{ 	
String 
pathPC 
; 
if 
( 
GetMachineId 
( 
) 
. 
Equals %
(% &

Properties& 0
.0 1
ExceptionsPaths1 @
.@ A
TrisPCIdA I
)I J
)J K
{ 
pathPC 
= 

Properties #
.# $
ExceptionsPaths$ 3
.3 4
PathTris4 <
;< =
} 
else 
{ 
pathPC 
= 

Properties #
.# $
ExceptionsPaths$ 3
.3 4
PathDodonaji4 @
;@ A
} 
absolutePath 
= 
Path 
.  
Combine  '
(' (
pathPC( .
,. /
string0 6
.6 7
Format7 =
(= >

Properties> H
.H I
ExceptionsPathsI X
.X Y
logFileNameY d
,d e
DateTimef n
.n o
Nowo r
.r s
ToStrings {
({ |

Properties	| 
.
 
ExceptionsPaths
 
.
 

DateFormat
 ¡
)
¡ ¢
)
¢ £
)
£ ¤
;
¤ ¥
ConfigureLogger   
(   
absolutePath   (
)  ( )
;  ) *
}!! 	
public## 
static## 
void## 
ConfigureLogger## *
(##* +
String##+ 1
relativePath##2 >
)##> ?
{$$ 	
string%% 
directoryPath%%  
=%%! "
Path%%# '
.%%' (
GetDirectoryName%%( 8
(%%8 9
relativePath%%9 E
)%%E F
;%%F G
if&& 
(&& 
!&& 
	Directory&& 
.&& 
Exists&& !
(&&! "
directoryPath&&" /
)&&/ 0
)&&0 1
{'' 
	Directory(( 
.(( 
CreateDirectory(( )
((() *
directoryPath((* 7
)((7 8
;((8 9
})) 
Log** 
.** 
Logger** 
=** 
new** 
LoggerConfiguration** 0
(**0 1
)**1 2
.**2 3
MinimumLevel**3 ?
.**? @
Error**@ E
(**E F
)**F G
.**G H
WriteTo**H O
.**O P
File**P T
(**T U
relativePath**U a
,**a b
rollingInterval**c r
:**r s
RollingInterval	**t 
.
** 
Day
** 
)
** 
.
** 
CreateLogger
** 
(
** 
)
** 
;
** 
}++ 	
public-- 
String-- 
getPath-- 
(-- 
)-- 
{.. 	
return// 
absolutePath// 
;//  
}00 	
private33 
static33 
string33 
GetMachineId33 *
(33* +
)33+ ,
{44 	
try55 
{66 $
ManagementObjectSearcher77 (
searcher77) 1
=772 3
new774 7$
ManagementObjectSearcher778 P
(77P Q

Properties77Q [
.77[ \
ExceptionsPaths77\ k
.77k l
SelectPC77l t
)77t u
;77u v&
ManagementObjectCollection88 *
drives88+ 1
=882 3
searcher884 <
.88< =
Get88= @
(88@ A
)88A B
;88B C
foreach99 
(99  
ManagementBaseObject99 -
drive99. 3
in994 6
drives997 =
)99= >
{:: 
string;; 
serialNumber;; '
=;;( )
drive;;* /
[;;/ 0

Properties;;0 :
.;;: ;
ExceptionsPaths;;; J
.;;J K$
CharacteristicToConsider;;K c
];;c d
?;;d e
.;;e f
ToString;;f n
(;;n o
);;o p
;;;p q
if<< 
(<< 
!<< 
string<< 
.<<  
IsNullOrEmpty<<  -
(<<- .
serialNumber<<. :
)<<: ;
)<<; <
{== 
return>> 
serialNumber>> +
;>>+ ,
}?? 
}@@ 
}AA 
catchBB 
(BB %
EndpointNotFoundExceptionBB ,
exBB- /
)BB/ 0
{CC #
ExceptionHandlerForLogsDD '
.DD' (
LogExceptionDD( 4
(DD4 5
exDD5 7
,DD7 8
ExceptionDictionaryDD9 L
.DDL M
FATAL_EXCEPTIONDDM \
)DD\ ]
;DD] ^
ConfigureLoggerEE 
(EE  

PropertiesEE  *
.EE* +
ExceptionsPathsEE+ :
.EE: ;
logFileNameEE; F
)EEF G
;EEG H
}FF 
catchGG 
(GG /
#CommunicationObjectFaultedExceptionGG 6
exGG7 9
)GG9 :
{HH #
ExceptionHandlerForLogsII '
.II' (
LogExceptionII( 4
(II4 5
exII5 7
,II7 8
ExceptionDictionaryII9 L
.IIL M
FATAL_EXCEPTIONIIM \
)II\ ]
;II] ^
ConfigureLoggerJJ 
(JJ  

PropertiesJJ  *
.JJ* +
ExceptionsPathsJJ+ :
.JJ: ;
logFileNameJJ; F
)JJF G
;JJG H
}KK 
catchLL 
(LL 
TimeoutExceptionLL #
exLL$ &
)LL& '
{MM #
ExceptionHandlerForLogsNN '
.NN' (
LogExceptionNN( 4
(NN4 5
exNN5 7
,NN7 8
ExceptionDictionaryNN9 L
.NNL M
FATAL_EXCEPTIONNNM \
)NN\ ]
;NN] ^
ConfigureLoggerOO 
(OO  

PropertiesOO  *
.OO* +
ExceptionsPathsOO+ :
.OO: ;
logFileNameOO; F
)OOF G
;OOG H
}PP 
returnQQ 
GuidQQ 
.QQ 
NewGuidQQ 
(QQ  
)QQ  !
.QQ! "
ToStringQQ" *
(QQ* +
)QQ+ ,
;QQ, -
}RR 	
}UU 
}VV ó
mC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Helpers\EncryptationClass.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{		 
public

 

static

 
class

 
EncryptionClass

 '
{ 
public 
static 
string 
EncryptPassword ,
(, -
string- 3
password4 <
)< =
{ 	
using 
( 
SHA256 
sha256 
=  !
SHA256" (
.( )
Create) /
(/ 0
)0 1
)1 2
{ 
byte 
[ 
] 
	hashBytes  
=! "
sha256# )
.) *
ComputeHash* 5
(5 6
Encoding6 >
.> ?
UTF8? C
.C D
GetBytesD L
(L M
passwordM U
)U V
)V W
;W X
string 
hashedPassword %
=& '
BitConverter( 4
.4 5
ToString5 =
(= >
	hashBytes> G
)G H
.H I
ReplaceI P
(P Q
$strQ T
,T U
$strV X
)X Y
.Y Z
ToLowerZ a
(a b
)b c
;c d
return 
hashedPassword %
;% &
} 
} 	
} 
} É_
dC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\FriendCard.cs
	namespace		 	
JeopardyGame		
 
.		 
Helpers		 
{

 
public 

partial 
class 

FriendCard #
:$ %

StackPanel& 0
{ 
private 

StackPanel 
stpNameAndStatus +
;+ ,
private 
Label 
lblFriendName #
;# $
private 
Border 
	brdButton  
;  !
private 
Ellipse 
ellConnectionStatus +
;+ ,
private 
Button 
bttInviteFriend &
;& '
public 
event 
EventHandler !
InviteButtonClicked" 5
;5 6
private 
readonly 
int 
AVAILABLE_STATUS -
=. /
$num0 1
;1 2
private 
readonly 
int 
UNAVAILABLE_STATUS /
=0 1
$num2 3
;3 4
private 
readonly 
int 
PLAYING_STATUS +
=, -
$num. /
;/ 0
public 

FriendCard 
( 
String  
userName! )
,) *
int+ .
state/ 4
,4 5
String6 <

textInvite= G
)G H
{ 	
SetCardStyle 
( 
) 
;  
InitializeComponents  
(  !
)! "
;" #
SetLabelStyle 
( 
userName "
)" #
;# $
SetEllipseStyle 
( 
state !
)! "
;" #
SetButtonStyle 
( 

textInvite %
)% &
;& '
SetStackPanelStyle 
( 
)  
;  !
this 
. 
Children 
. 
Add 
( 
stpNameAndStatus .
). /
;/ 0
this   
.   
Children   
.   
Add   
(   
	brdButton   '
)  ' (
;  ( )
bttInviteFriend!! 
.!! 
Click!! !
+=!!" $
ClickInviteFriend!!% 6
;!!6 7
}"" 	
private$$ 
void$$ 
SetCardStyle$$ !
($$! "
)$$" #
{%% 	
this&& 
.&& 
Margin&& 
=&& 
new&& 
	Thickness&& '
(&&' (
$num&&( )
,&&) *
$num&&+ ,
,&&, -
$num&&. /
,&&/ 0
$num&&1 2
)&&2 3
;&&3 4
this'' 
.'' 
Width'' 
='' 
$num'' 
;'' 
this(( 
.(( 
MaxWidth(( 
=(( 
$num(( 
;((  
this)) 
.)) 
Orientation)) 
=)) 
System)) %
.))% &
Windows))& -
.))- .
Controls)). 6
.))6 7
Orientation))7 B
.))B C

Horizontal))C M
;))M N
this** 
.** 

Background** 
=** 
new** !
SolidColorBrush**" 1
(**1 2
Colors**2 8
.**8 9
Transparent**9 D
)**D E
;**E F
}++ 	
private-- 
void--  
InitializeComponents-- )
(--) *
)--* +
{.. 	
lblFriendName// 
=// 
new// 
Label//  %
(//% &
)//& '
;//' (
ellConnectionStatus00 
=00  !
new00" %
Ellipse00& -
(00- .
)00. /
;00/ 0
bttInviteFriend11 
=11 
new11 !
Button11" (
(11( )
)11) *
;11* +
stpNameAndStatus22 
=22 
new22 "

StackPanel22# -
(22- .
)22. /
;22/ 0
	brdButton33 
=33 
new33 
Border33 "
(33" #
)33# $
;33$ %
}44 	
private77 
void77 
SetLabelStyle77 "
(77" #
string77# )
userName77* 2
)772 3
{88 	
lblFriendName99 
.99 
Height99  
=99! "
$num99# %
;99% &
lblFriendName:: 
.:: 
Width:: 
=::  !
Double::" (
.::( )
NaN::) ,
;::, -
lblFriendName;; 
.;; 
Margin;;  
=;;! "
new;;# &
	Thickness;;' 0
(;;0 1
$num;;1 2
,;;2 3
$num;;4 5
,;;5 6
$num;;7 8
,;;8 9
$num;;: ;
);;; <
;;;< =
lblFriendName<< 
.<< 
FontSize<< "
=<<# $
$num<<% '
;<<' (
lblFriendName== 
.== 

Foreground== $
===% &
new==' *
SolidColorBrush==+ :
(==: ;
Colors==; A
.==A B
White==B G
)==G H
;==H I
lblFriendName>> 
.>> &
HorizontalContentAlignment>> 4
=>>5 6
System>>7 =
.>>= >
Windows>>> E
.>>E F
HorizontalAlignment>>F Y
.>>Y Z
Left>>Z ^
;>>^ _
lblFriendName?? 
.?? 
Content?? !
=??" #
userName??$ ,
;??, -
}@@ 	
privateBB 
voidBB 
SetEllipseStyleBB $
(BB$ %
intBB% (
stateBB) .
)BB. /
{CC 	
ellConnectionStatusDD 
.DD  
HeightDD  &
=DD' (
$numDD) +
;DD+ ,
ellConnectionStatusEE 
.EE  
WidthEE  %
=EE& '
$numEE( *
;EE* +
ellConnectionStatusFF 
.FF  
MarginFF  &
=FF' (
newFF) ,
	ThicknessFF- 6
(FF6 7
$numFF7 8
,FF8 9
$numFF: ;
,FF; <
$numFF= ?
,FF? @
$numFFA B
)FFB C
;FFC D
ifGG 
(GG 
stateGG 
==GG 
AVAILABLE_STATUSGG )
)GG) *
{HH 
ellConnectionStatusII "
.II" #
FillII# '
=II( )
newII* -
SolidColorBrushII. =
(II= >
ColorsII> D
.IID E
GreenIIE J
)IIJ K
;IIK L
}JJ 
elseKK 
ifKK 
(KK 
stateKK 
==KK 
UNAVAILABLE_STATUSKK /
)KK/ 0
{LL 
ellConnectionStatusMM $
.MM$ %
FillMM% )
=MM* +
newMM, /
SolidColorBrushMM0 ?
(MM? @
ColorsMM@ F
.MMF G
GrayMMG K
)MMK L
;MML M
}NN 
elseNN 
ifNN 
(NN 
stateNN 
==NN 
PLAYING_STATUSNN ,
)NN, -
{OO 
ellConnectionStatusPP #
.PP# $
FillPP$ (
=PP) *
newPP+ .
SolidColorBrushPP/ >
(PP> ?
ColorsPP? E
.PPE F
BluePPF J
)PPJ K
;PPK L
}QQ 
elseRR 
{SS 
ellConnectionStatusTT #
.TT# $
FillTT$ (
=TT) *
newTT+ .
SolidColorBrushTT/ >
(TT> ?
ColorsTT? E
.TTE F
YellowTTF L
)TTL M
;TTM N
}UU 
}VV 	
privateXX 
voidXX 
SetStackPanelStyleXX '
(XX' (
)XX( )
{YY 	
stpNameAndStatusZZ 
.ZZ 
ChildrenZZ %
.ZZ% &
AddZZ& )
(ZZ) *
lblFriendNameZZ* 7
)ZZ7 8
;ZZ8 9
stpNameAndStatus[[ 
.[[ 
Children[[ %
.[[% &
Add[[& )
([[) *
ellConnectionStatus[[* =
)[[= >
;[[> ?
stpNameAndStatus\\ 
.\\ 
Orientation\\ (
=\\) *
Orientation\\+ 6
.\\6 7

Horizontal\\7 A
;\\A B
stpNameAndStatus]] 
.]] 
Width]] "
=]]# $
$num]]% (
;]]( )
stpNameAndStatus^^ 
.^^ 
HorizontalAlignment^^ 0
=^^1 2
HorizontalAlignment^^3 F
.^^F G
Left^^G K
;^^K L
}__ 	
privateaa 
voidaa 
SetButtonStyleaa #
(aa# $
stringaa$ *

textInviteaa+ 5
)aa5 6
{bb 	
bttInviteFriendcc 
.cc 
Heightcc "
=cc# $
$numcc% '
;cc' (
bttInviteFrienddd 
.dd 
Widthdd !
=dd" #
$numdd$ &
;dd& '
bttInviteFriendee 
.ee 
Marginee "
=ee# $
newee% (
	Thicknessee) 2
(ee2 3
$numee3 4
)ee4 5
;ee5 6
bttInviteFriendff 
.ff 
HorizontalAlignmentff /
=ff0 1
HorizontalAlignmentff2 E
.ffE F
CenterffF L
;ffL M
bttInviteFriendgg 
.gg 
FontSizegg $
=gg% &
$numgg' )
;gg) *
bttInviteFriendhh 
.hh 

Foregroundhh &
=hh' (
newhh) ,
SolidColorBrushhh- <
(hh< =
Colorshh= C
.hhC D
WhitehhD I
)hhI J
;hhJ K
bttInviteFriendii 
.ii 

Backgroundii &
=ii' (
newii) ,
SolidColorBrushii- <
(ii< =
Colorsii= C
.iiC D
TransparentiiD O
)iiO P
;iiP Q
bttInviteFriendjj 
.jj 
BorderBrushjj '
=jj( )
newjj* -
SolidColorBrushjj. =
(jj= >
Colorsjj> D
.jjD E
TransparentjjE P
)jjP Q
;jjQ R
bttInviteFriendkk 
.kk 
Contentkk #
=kk$ %

textInvitekk& 0
;kk0 1
	brdButtonll 
.ll 
CornerRadiusll "
=ll# $
newll% (
CornerRadiusll) 5
(ll5 6
$numll6 8
)ll8 9
;ll9 :
	brdButtonmm 
.mm 
BorderBrushmm !
=mm" #
newmm$ '
SolidColorBrushmm( 7
(mm7 8
Colorsmm8 >
.mm> ?
Bluemm? C
)mmC D
;mmD E
	brdButtonnn 
.nn 

Backgroundnn  
=nn! "
newnn# &
SolidColorBrushnn' 6
(nn6 7
Colorsnn7 =
.nn= >
	CadetBluenn> G
)nnG H
;nnH I
	brdButtonoo 
.oo 
BorderThicknessoo %
=oo& '
newoo( +
	Thicknessoo, 5
(oo5 6
$numoo6 7
)oo7 8
;oo8 9
	brdButtonpp 
.pp 
HorizontalAlignmentpp )
=pp* +
HorizontalAlignmentpp, ?
.pp? @
Rightpp@ E
;ppE F
	brdButtonqq 
.qq 
Heightqq 
=qq 
$numqq !
;qq! "
	brdButtonrr 
.rr 
Widthrr 
=rr 
$numrr  
;rr  !
	brdButtonss 
.ss 
Childss 
=ss 
bttInviteFriendss -
;ss- .
}uu 	
privateww 
voidww 
ClickInviteFriendww &
(ww& '
objectww' -
senderww. 4
,ww4 5
RoutedEventArgsww6 E
ewwF G
)wwG H
{xx 	
InviteButtonClickedyy 
?yy  
.yy  !
Invokeyy! '
(yy' (
thisyy( ,
,yy, -
	EventArgsyy. 7
.yy7 8
Emptyyy8 =
)yy= >
;yy> ?
}zz 	
}|| 
}}} ÑÈ
tC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\FriendCardManagementWindow.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{ 
public		 

class		 &
FriendCardManagementWindow		 ,
:		- .

StackPanel		/ 9
{

 
private 
readonly 
int 
idUser #
;# $
private 

StackPanel 
stcName "
;" #
private 

StackPanel 

stcButtons %
;% &
private 
Label 
lblUserName !
;! "
private 
Border 
brdLeftButton $
;$ %
private 
Border 
brdRightButton %
;% &
private 
System 
. 
Windows 
. 
Shapes %
.% &
Ellipse& -
ellPointMark. :
;: ;
private 
Button 
bttLeftFunction &
;& '
private 
Button 
bttRightFunction '
;' (
private 
readonly 
FriendManager &
friendManager' 4
;4 5
public &
FriendCardManagementWindow )
() *
int* -
idUser. 4
,4 5
String6 <
userName= E
,E F
intG J
stateK P
,P Q
StringR X
textLeftButtonY g
,g h
Stringi o
textRigthButtonp 
,	 
FriendManager
 
windowInstance
 
)
 
{ 	
SetCardStyle 
( 
) 
; 
this 
. 
idUser 
= 
idUser  
;  !
friendManager 
= 
windowInstance *
;* + 
InitializeComponents  
(  !
)! "
;" #
SetLabelStyle 
( 
userName "
)" #
;# $
SetEllipseStyle 
( 
) 
; 
SetLefButtonStyle 
( 
textLeftButton ,
,, -
state. 3
)3 4
;4 5
SetRigthButtonStyle 
(  
textRigthButton  /
,/ 0
state1 6
)6 7
;7 8
SetStackPanelStyle   
(   
)    
;    !%
SetStackPanelButtonsStyle!! %
(!!% &
)!!& '
;!!' (
this"" 
."" 
Children"" 
."" 
Add"" 
("" 
stcName"" %
)""% &
;""& '
this## 
.## 
Children## 
.## 
Add## 
(## 

stcButtons## (
)##( )
;##) *
}$$ 	
private&& 
void&& 
SetCardStyle&& !
(&&! "
)&&" #
{'' 	
this(( 
.(( 
Margin(( 
=(( 
new(( 
	Thickness(( '
(((' (
$num((( )
)(() *
;((* +
this)) 
.)) 
Width)) 
=)) 
$num)) 
;)) 
this** 
.** 
MaxWidth** 
=** 
$num**  
;**  !
this++ 
.++ 
Orientation++ 
=++ 
Orientation++ *
.++* +

Horizontal+++ 5
;++5 6
this,, 
.,, 
HorizontalAlignment,, $
=,,% &
HorizontalAlignment,,' :
.,,: ;
Left,,; ?
;,,? @
this-- 
.-- 
VerticalAlignment-- "
=--# $
VerticalAlignment--% 6
.--6 7
Center--7 =
;--= >
}.. 	
private00 
void00  
InitializeComponents00 )
(00) *
)00* +
{11 	
stcName22 
=22 
new22 

StackPanel22 $
(22$ %
)22% &
;22& '

stcButtons33 
=33 
new33 

StackPanel33 '
(33' (
)33( )
;33) *
lblUserName44 
=44 
new44 
Label44 #
(44# $
)44$ %
;44% &
brdLeftButton55 
=55 
new55 
Border55  &
(55& '
)55' (
;55( )
brdRightButton66 
=66 
new66  
Border66! '
(66' (
)66( )
;66) *
ellPointMark77 
=77 
new77 
System77 %
.77% &
Windows77& -
.77- .
Shapes77. 4
.774 5
Ellipse775 <
(77< =
)77= >
;77> ?
bttLeftFunction88 
=88 
new88 !
Button88" (
(88( )
)88) *
;88* +
bttRightFunction99 
=99 
new99 "
Button99# )
(99) *
)99* +
;99+ ,
}:: 	
private<< 
void<< 
SetLabelStyle<< "
(<<" #
string<<# )
userName<<* 2
)<<2 3
{== 	
lblUserName>> 
.>> 
Height>> 
=>>  
Double>>! '
.>>' (
NaN>>( +
;>>+ ,
lblUserName?? 
.?? 
Width?? 
=?? 
Double??  &
.??& '
NaN??' *
;??* +
lblUserName@@ 
.@@ 
Margin@@ 
=@@  
new@@! $
	Thickness@@% .
(@@. /
$num@@/ 0
,@@0 1
$num@@2 3
,@@3 4
$num@@5 6
,@@6 7
$num@@8 9
)@@9 :
;@@: ;
lblUserNameAA 
.AA 
FontSizeAA  
=AA! "
$numAA# %
;AA% &
lblUserNameBB 
.BB 

FontWeightBB "
=BB# $
FontWeightsBB% 0
.BB0 1
BoldBB1 5
;BB5 6
lblUserNameCC 
.CC 

ForegroundCC "
=CC# $
newCC% (
SolidColorBrushCC) 8
(CC8 9
ColorsCC9 ?
.CC? @
BlackCC@ E
)CCE F
;CCF G
lblUserNameDD 
.DD &
HorizontalContentAlignmentDD 2
=DD3 4
HorizontalAlignmentDD5 H
.DDH I
LeftDDI M
;DDM N
lblUserNameEE 
.EE 
VerticalAlignmentEE )
=EE* +
VerticalAlignmentEE, =
.EE= >
TopEE> A
;EEA B
lblUserNameFF 
.FF 
ContentFF 
=FF  !
userNameFF" *
;FF* +
}GG 	
privateII 
voidII 
SetEllipseStyleII $
(II$ %
)II% &
{JJ 	
ellPointMarkKK 
.KK 
HeightKK 
=KK  !
$numKK" $
;KK$ %
ellPointMarkLL 
.LL 
WidthLL 
=LL  
$numLL! #
;LL# $
ellPointMarkMM 
.MM 
MarginMM 
=MM  !
newMM" %
	ThicknessMM& /
(MM/ 0
$numMM0 1
,MM1 2
$numMM3 4
,MM4 5
$numMM6 8
,MM8 9
$numMM: ;
)MM; <
;MM< =
ellPointMarkNN 
.NN 
FillNN 
=NN 
newNN  #
SolidColorBrushNN$ 3
(NN3 4
ColorsNN4 :
.NN: ;
BlackNN; @
)NN@ A
;NNA B
}OO 	
privateQQ 
voidQQ 
SetStackPanelStyleQQ '
(QQ' (
)QQ( )
{RR 	
stcNameSS 
.SS 
ChildrenSS 
.SS 
AddSS  
(SS  !
ellPointMarkSS! -
)SS- .
;SS. /
stcNameTT 
.TT 
ChildrenTT 
.TT 
AddTT  
(TT  !
lblUserNameTT! ,
)TT, -
;TT- .
stcNameUU 
.UU 
OrientationUU 
=UU  !
OrientationUU" -
.UU- .

HorizontalUU. 8
;UU8 9
stcNameVV 
.VV 
WidthVV 
=VV 
$numVV 
;VV  
stcNameWW 
.WW 
MarginWW 
=WW 
newWW  
	ThicknessWW! *
(WW* +
$numWW+ -
,WW- .
$numWW. /
,WW/ 0
$numWW0 2
,WW2 3
$numWW3 4
)WW4 5
;WW5 6
stcNameXX 
.XX 
HorizontalAlignmentXX '
=XX( )
HorizontalAlignmentXX* =
.XX= >
LeftXX> B
;XXB C
stcNameYY 
.YY 
VerticalAlignmentYY %
=YY& '
VerticalAlignmentYY( 9
.YY9 :
CenterYY: @
;YY@ A
}ZZ 	
private\\ 
void\\ 
SetLefButtonStyle\\ &
(\\& '
string\\' -
textLefB\\. 6
,\\6 7
int\\8 ;
typeOfButton\\< H
)\\H I
{]] 	
bttLeftFunction^^ 
.^^ 
Height^^ "
=^^# $
$num^^% '
;^^' (
bttLeftFunction__ 
.__ 
Width__ !
=__" #
Double__$ *
.__* +
NaN__+ .
;__. /
bttLeftFunction`` 
.`` 
Padding`` #
=``$ %
new``& )
	Thickness``* 3
(``3 4
$num``4 6
,``6 7
$num``7 8
,``8 9
$num``9 ;
,``; <
$num``< =
)``= >
;``> ?
bttLeftFunctionaa 
.aa 
Marginaa "
=aa# $
newaa% (
	Thicknessaa) 2
(aa2 3
$numaa3 4
)aa4 5
;aa5 6
bttLeftFunctionbb 
.bb 
HorizontalAlignmentbb /
=bb0 1
HorizontalAlignmentbb2 E
.bbE F
CenterbbF L
;bbL M
bttLeftFunctioncc 
.cc 
FontSizecc $
=cc% &
$numcc' )
;cc) *
bttLeftFunctiondd 
.dd 

Foregrounddd &
=dd' (
newdd) ,
SolidColorBrushdd- <
(dd< =
Colorsdd= C
.ddC D
WhiteddD I
)ddI J
;ddJ K
bttLeftFunctionee 
.ee 

Backgroundee &
=ee' (
newee) ,
SolidColorBrushee- <
(ee< =
Colorsee= C
.eeC D
TransparenteeD O
)eeO P
;eeP Q
bttLeftFunctionff 
.ff 
BorderBrushff '
=ff( )
newff* -
SolidColorBrushff. =
(ff= >
Colorsff> D
.ffD E
TransparentffE P
)ffP Q
;ffQ R
bttLeftFunctiongg 
.gg 
Contentgg #
=gg$ %
textLefBgg& .
;gg. /
SolidColorBrushii 
backGroundColorii +
;ii+ ,
switchjj 
(jj 
typeOfButtonjj  
)jj  !
{kk 
casell 
$numll 
:ll 
backGroundColormm #
=mm$ %
newmm& )
SolidColorBrushmm* 9
(mm9 :
(mm: ;
Colormm; @
)mm@ A
ColorConvertermmA O
.mmO P
ConvertFromStringmmP a
(mma b
$strmmb k
)mmk l
)mml m
;mmm n
bttLeftFunctionnn #
.nn# $
Clicknn$ )
+=nn* ,
ClickReportUsernn- <
;nn< =
breakoo 
;oo 
casepp 
$numpp 
:pp 
backGroundColorqq #
=qq$ %
newqq& )
SolidColorBrushqq* 9
(qq9 :
(qq: ;
Colorqq; @
)qq@ A
ColorConverterqqA O
.qqO P
ConvertFromStringqqP a
(qqa b
$strqqb k
)qqk l
)qql m
;qqm n
bttLeftFunctionrr #
.rr# $
Clickrr$ )
+=rr* ,
ClickAcceptRequestrr- ?
;rr? @
breakss 
;ss 
casett 
$numtt 
:tt 
backGroundColoruu #
=uu$ %
newuu& )
SolidColorBrushuu* 9
(uu9 :
(uu: ;
Coloruu; @
)uu@ A
ColorConverteruuA O
.uuO P
ConvertFromStringuuP a
(uua b
$struub k
)uuk l
)uul m
;uum n
bttLeftFunctionvv #
.vv# $
Clickvv$ )
+=vv* ,
ClickSendRequestvv- =
;vv= >
breakww 
;ww 
defaultxx 
:xx 
backGroundColoryy #
=yy$ %
newyy& )
SolidColorBrushyy* 9
(yy9 :
(yy: ;
Coloryy; @
)yy@ A
ColorConverteryyA O
.yyO P
ConvertFromStringyyP a
(yya b
$stryyb k
)yyk l
)yyl m
;yym n
breakzz 
;zz 
}{{ 
brdLeftButton}} 
.}} 
CornerRadius}} &
=}}' (
new}}) ,
CornerRadius}}- 9
(}}9 :
$num}}: <
)}}< =
;}}= >
brdLeftButton~~ 
.~~ 

Background~~ $
=~~% &
backGroundColor~~' 6
;~~6 7
brdLeftButton 
. 
BorderBrush %
=& '
new( +
SolidColorBrush, ;
(; <
Colors< B
.B C
WhiteC H
)H I
;I J
brdLeftButton
 
.
 
BorderThickness
 )
=
* +
new
, /
	Thickness
0 9
(
9 :
$num
: ;
)
; <
;
< =
brdLeftButton
 
.
 !
HorizontalAlignment
 -
=
. /!
HorizontalAlignment
0 C
.
C D
Left
D H
;
H I
brdLeftButton
 
.
 
VerticalAlignment
 +
=
, -
VerticalAlignment
. ?
.
? @
Center
@ F
;
F G
brdLeftButton
 
.
 
Height
  
=
! "
$num
# %
;
% &
brdLeftButton
 
.
 
Width
 
=
  !
Double
" (
.
( )
NaN
) ,
;
, -
brdLeftButton
 
.
 
Margin
  
=
! "
new
# &
	Thickness
' 0
(
0 1
$num
1 3
,
3 4
$num
4 5
,
5 6
$num
6 7
,
7 8
$num
8 9
)
9 :
;
: ;
brdLeftButton
 
.
 
Child
 
=
  !
bttLeftFunction
" 1
;
1 2
}
 	
private
 
void
 !
SetRigthButtonStyle
 (
(
( )
string
) /

textRigthB
0 :
,
: ;
int
< ?
typeOfButton
@ L
)
L M
{
 	
bttRightFunction
 
.
 
Height
 #
=
$ %
$num
& (
;
( )
bttRightFunction
 
.
 
Width
 "
=
# $
Double
% +
.
+ ,
NaN
, /
;
/ 0
bttRightFunction
 
.
 
Margin
 #
=
$ %
new
& )
	Thickness
* 3
(
3 4
$num
4 5
)
5 6
;
6 7
bttRightFunction
 
.
 
Padding
 $
=
% &
new
' *
	Thickness
+ 4
(
4 5
$num
5 7
,
7 8
$num
8 9
,
9 :
$num
: <
,
< =
$num
= >
)
> ?
;
? @
bttRightFunction
 
.
 !
HorizontalAlignment
 0
=
1 2!
HorizontalAlignment
3 F
.
F G
Center
G M
;
M N
bttRightFunction
 
.
 
FontSize
 %
=
& '
$num
( *
;
* +
bttRightFunction
 
.
 

Foreground
 '
=
( )
new
* -
SolidColorBrush
. =
(
= >
Colors
> D
.
D E
White
E J
)
J K
;
K L
bttRightFunction
 
.
 

Background
 '
=
( )
new
* -
SolidColorBrush
. =
(
= >
Colors
> D
.
D E
Transparent
E P
)
P Q
;
Q R
bttRightFunction
 
.
 
BorderBrush
 (
=
) *
new
+ .
SolidColorBrush
/ >
(
> ?
Colors
? E
.
E F
Transparent
F Q
)
Q R
;
R S
bttRightFunction
 
.
 
Content
 $
=
% &

textRigthB
' 1
;
1 2
SolidColorBrush
 
backGroundColor
 +
;
+ ,
switch
 
(
 
typeOfButton
  
)
  !
{
 
case
 
$num
 
:
 
backGroundColor
 #
=
$ %
new
& )
SolidColorBrush
* 9
(
9 :
(
: ;
Color
; @
)
@ A
ColorConverter
A O
.
O P
ConvertFromString
P a
(
a b
$str
b k
)
k l
)
l m
;
m n
bttRightFunction
 $
.
$ %
Click
% *
+=
+ -"
ClickEliminateFriend
. B
;
B C
break
 
;
 
case
 
$num
 
:
 
backGroundColor
   #
=
  $ %
new
  & )
SolidColorBrush
  * 9
(
  9 :
(
  : ;
Color
  ; @
)
  @ A
ColorConverter
  A O
.
  O P
ConvertFromString
  P a
(
  a b
$str
  b k
)
  k l
)
  l m
;
  m n
bttRightFunction
¡¡ $
.
¡¡$ %
Click
¡¡% *
+=
¡¡+ -!
ClickDeclineRequest
¡¡. A
;
¡¡A B
break
¢¢ 
;
¢¢ 
case
££ 
$num
££ 
:
££ 
backGroundColor
¤¤ #
=
¤¤$ %
new
¤¤& )
SolidColorBrush
¤¤* 9
(
¤¤9 :
(
¤¤: ;
Color
¤¤; @
)
¤¤@ A
ColorConverter
¤¤A O
.
¤¤O P
ConvertFromString
¤¤P a
(
¤¤a b
$str
¤¤b k
)
¤¤k l
)
¤¤l m
;
¤¤m n
bttRightFunction
¥¥ $
.
¥¥$ %
Click
¥¥% *
+=
¥¥+ -
ClickReportUser
¥¥. =
;
¥¥= >
break
¦¦ 
;
¦¦ 
default
§§ 
:
§§ 
backGroundColor
¨¨ #
=
¨¨$ %
new
¨¨& )
SolidColorBrush
¨¨* 9
(
¨¨9 :
(
¨¨: ;
Color
¨¨; @
)
¨¨@ A
ColorConverter
¨¨A O
.
¨¨O P
ConvertFromString
¨¨P a
(
¨¨a b
$str
¨¨b k
)
¨¨k l
)
¨¨l m
;
¨¨m n
break
©© 
;
©© 
}
ªª 
brdRightButton
¬¬ 
.
¬¬ 
CornerRadius
¬¬ '
=
¬¬( )
new
¬¬* -
CornerRadius
¬¬. :
(
¬¬: ;
$num
¬¬; =
)
¬¬= >
;
¬¬> ?
brdRightButton
­­ 
.
­­ 

Background
­­ %
=
­­& '
backGroundColor
­­( 7
;
­­7 8
brdRightButton
®® 
.
®® 
BorderBrush
®® &
=
®®' (
new
®®) ,
SolidColorBrush
®®- <
(
®®< =
Colors
®®= C
.
®®C D
White
®®D I
)
®®I J
;
®®J K
brdRightButton
¯¯ 
.
¯¯ 
BorderThickness
¯¯ *
=
¯¯+ ,
new
¯¯- 0
	Thickness
¯¯1 :
(
¯¯: ;
$num
¯¯; <
)
¯¯< =
;
¯¯= >
brdRightButton
°° 
.
°° 
BorderThickness
°° *
=
°°+ ,
new
°°- 0
	Thickness
°°1 :
(
°°: ;
$num
°°; <
)
°°< =
;
°°= >
brdRightButton
±± 
.
±± 
Margin
±± !
=
±±" #
new
±±$ '
	Thickness
±±( 1
(
±±1 2
$num
±±2 4
,
±±4 5
$num
±±5 6
,
±±6 7
$num
±±7 8
,
±±8 9
$num
±±9 :
)
±±: ;
;
±±; <
brdRightButton
²² 
.
²² !
HorizontalAlignment
²² .
=
²²/ 0!
HorizontalAlignment
²²1 D
.
²²D E
Right
²²E J
;
²²J K
brdRightButton
³³ 
.
³³ 
VerticalAlignment
³³ ,
=
³³- .
VerticalAlignment
³³/ @
.
³³@ A
Center
³³A G
;
³³G H
brdRightButton
´´ 
.
´´ 
Height
´´ !
=
´´" #
$num
´´$ &
;
´´& '
brdRightButton
µµ 
.
µµ 
Width
µµ  
=
µµ! "
Double
µµ# )
.
µµ) *
NaN
µµ* -
;
µµ- .
brdRightButton
¶¶ 
.
¶¶ 
Child
¶¶  
=
¶¶! "
bttRightFunction
¶¶# 3
;
¶¶3 4
}
·· 	
private
¸¸ 
void
¸¸ '
SetStackPanelButtonsStyle
¸¸ .
(
¸¸. /
)
¸¸/ 0
{
¹¹ 	

stcButtons
ºº 
.
ºº 
Children
ºº 
.
ºº  
Add
ºº  #
(
ºº# $
brdLeftButton
ºº$ 1
)
ºº1 2
;
ºº2 3

stcButtons
»» 
.
»» 
Children
»» 
.
»»  
Add
»»  #
(
»»# $
brdRightButton
»»$ 2
)
»»2 3
;
»»3 4

stcButtons
¼¼ 
.
¼¼ 
Orientation
¼¼ "
=
¼¼# $
Orientation
¼¼% 0
.
¼¼0 1

Horizontal
¼¼1 ;
;
¼¼; <

stcButtons
½½ 
.
½½ 
Margin
½½ 
=
½½ 
new
½½  #
	Thickness
½½$ -
(
½½- .
$num
½½. 0
,
½½0 1
$num
½½1 2
,
½½2 3
$num
½½3 4
,
½½4 5
$num
½½5 6
)
½½6 7
;
½½7 8

stcButtons
¾¾ 
.
¾¾ 
MaxWidth
¾¾ 
=
¾¾  !
$num
¾¾" %
;
¾¾% &

stcButtons
¿¿ 
.
¿¿ !
HorizontalAlignment
¿¿ *
=
¿¿+ ,!
HorizontalAlignment
¿¿- @
.
¿¿@ A
Right
¿¿A F
;
¿¿F G

stcButtons
ÀÀ 
.
ÀÀ 
VerticalAlignment
ÀÀ (
=
ÀÀ) *
VerticalAlignment
ÀÀ, =
.
ÀÀ= >
Center
ÀÀ> D
;
ÀÀD E
}
ÁÁ 	
private
ÂÂ 
void
ÂÂ 
ClickReportUser
ÂÂ $
(
ÂÂ$ %
object
ÂÂ% +
sender
ÂÂ, 2
,
ÂÂ2 3
RoutedEventArgs
ÂÂ4 C
e
ÂÂD E
)
ÂÂE F
{
ÃÃ 	
friendManager
ÄÄ 
.
ÄÄ 

ReportUser
ÄÄ $
(
ÄÄ$ %
idUser
ÄÄ% +
)
ÄÄ+ ,
;
ÄÄ, -
}
ÆÆ 	
private
ÈÈ 
void
ÈÈ "
ClickEliminateFriend
ÈÈ )
(
ÈÈ) *
object
ÈÈ* 0
sender
ÈÈ1 7
,
ÈÈ7 8
RoutedEventArgs
ÈÈ9 H
e
ÈÈI J
)
ÈÈJ K
{
ÉÉ 	
friendManager
ÊÊ 
.
ÊÊ 
EliminateFriend
ÊÊ )
(
ÊÊ) *
idUser
ÊÊ* 0
)
ÊÊ0 1
;
ÊÊ1 2
}
ËË 	
private
ÍÍ 
void
ÍÍ  
ClickAcceptRequest
ÍÍ '
(
ÍÍ' (
object
ÍÍ( .
sender
ÍÍ/ 5
,
ÍÍ5 6
RoutedEventArgs
ÍÍ7 F
e
ÍÍG H
)
ÍÍH I
{
ÎÎ 	
friendManager
ÏÏ 
.
ÏÏ !
AcceptFriendRequest
ÏÏ -
(
ÏÏ- .
idUser
ÏÏ. 4
,
ÏÏ4 5
lblUserName
ÏÏ6 A
.
ÏÏA B
Content
ÏÏB I
.
ÏÏI J
ToString
ÏÏJ R
(
ÏÏR S
)
ÏÏS T
)
ÏÏT U
;
ÏÏU V
}
ÐÐ 	
private
ÒÒ 
void
ÒÒ !
ClickDeclineRequest
ÒÒ (
(
ÒÒ( )
object
ÒÒ) /
sender
ÒÒ0 6
,
ÒÒ6 7
RoutedEventArgs
ÒÒ8 G
e
ÒÒH I
)
ÒÒI J
{
ÓÓ 	
friendManager
ÔÔ 
.
ÔÔ "
DeclineFriendRequest
ÔÔ .
(
ÔÔ. /
idUser
ÔÔ/ 5
,
ÔÔ5 6
lblUserName
ÔÔ7 B
.
ÔÔB C
Content
ÔÔC J
.
ÔÔJ K
ToString
ÔÔK S
(
ÔÔS T
)
ÔÔT U
)
ÔÔU V
;
ÔÔV W
}
ÕÕ 	
private
×× 
void
×× 
ClickSendRequest
×× %
(
××% &
object
××& ,
sender
××- 3
,
××3 4
RoutedEventArgs
××5 D
e
××E F
)
××F G
{
ØØ 	
friendManager
ÙÙ 
.
ÙÙ 
SentFriendRequest
ÙÙ +
(
ÙÙ+ ,
idUser
ÙÙ, 2
)
ÙÙ2 3
;
ÙÙ3 4
}
ÚÚ 	
}
ÛÛ 
}ÜÜ $
pC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Helpers\FriendListDictionary.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{ 
public		 

partial		 
class		 )
FriendAvailabilityInformation		 6
(		6 7
)		7 8
{

 
public 
int 
IdUser 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
EmailAddress "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int "
IdStatusOfAvailability )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} 
public 

static 
partial 
class 

FriendList  *
{ 
private 
static 

Dictionary !
<! "
int" %
,% &)
FriendAvailabilityInformation' D
>D E
friendOfUserListF V
=W X
newY \

Dictionary] g
<g h
inth k
,k l*
FriendAvailabilityInformation	m 
>
 
(
 
)
 
;
 
public 
static 
void )
RegisterNewFriendInDictionary 8
(8 9
int9 <
idUser= C
,C D)
FriendAvailabilityInformationE b
friendc i
)i j
{ 	
if 
( 
! 
friendOfUserList !
.! "
ContainsKey" -
(- .
idUser. 4
)4 5
)5 6
{ 
friendOfUserList  
.  !
Add! $
($ %
idUser% +
,+ ,
friend- 3
)3 4
;4 5
} 
} 	
public 
static )
FriendAvailabilityInformation 3
	GetFriend4 =
(= >
int> A
idUserB H
)H I
{ 	
foreach 
( 
var 
item 
in  
friendOfUserList! 1
)1 2
{   
if!! 
(!! 
item!! 
.!! 
Key!! 
==!! 
idUser!!  &
)!!& '
{"" 
return## 
item## 
.##  
Value##  %
;##% &
}$$ 
}%% 
return&& 
null&& 
;&& 
}'' 	
public)) 
static)) 
void)) &
RemoveFriendFromDictionary)) 5
())5 6
int))6 9
idUser)): @
)))@ A
{** 	
if++ 
(++ 
friendOfUserList++  
.++  !
ContainsKey++! ,
(++, -
idUser++- 3
)++3 4
)++4 5
{,, 
friendOfUserList--  
.--  !
Remove--! '
(--' (
idUser--( .
)--. /
;--/ 0
}.. 
}// 	
public11 
static11 
void11  
ChangeStatusOfFriend11 /
(11/ 0
int110 3
idUser114 :
,11: ;
int11< ?
idStatus11@ H
)11H I
{22 	
if33 
(33 
friendOfUserList33  
.33  !
ContainsKey33! ,
(33, -
idUser33- 3
)333 4
)334 5
{44 
friendOfUserList55  
[55  !
idUser55! '
]55' (
.55( )"
IdStatusOfAvailability55) ?
=55@ A
idStatus55B J
;55J K
}66 
}77 	
public99 
static99 
void99 
CleanDictionary99 *
(99* +
)99+ ,
{:: 	
friendOfUserList;; 
.;; 
Clear;; "
(;;" #
);;# $
;;;$ %
}<< 	
public>> 
static>> 

Dictionary>>  
<>>  !
int>>! $
,>>$ %)
FriendAvailabilityInformation>>& C
>>>C D 
GetActiveFriendsList>>E Y
(>>Y Z
)>>Z [
{?? 	
return@@ 
friendOfUserList@@ #
;@@# $
}AA 	
}BB 
}CC 
jC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\GameCategoryCard.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{ 
public 

class 
GameCategoryCard "
:# $
Border% +
{ 
private		 
Label		 
lblCategoryName		 %
;		% &
public 
GameCategoryCard 
(  
String  &
category( 0
)0 1
{ 	
SetStyle 
( 
) 
; 
SetLabelStyle 
( 
category "
)" #
;# $
this 
. 
Child 
= 
lblCategoryName (
;( )
} 	
private 
void 
SetStyle 
( 
) 
{ 	
this 
. 
Style 
= 
( 
Style 
)  
FindResource  ,
(, -
$str- J
)J K
;K L
this 
. 
Margin 
= 
new 
	Thickness '
(' (
$num( *
,* +
$num, .
,. /
$num/ 1
,1 2
$num2 4
)4 5
;5 6
} 	
private 
void 
SetLabelStyle "
(" #
string# )
category* 2
)2 3
{ 	
lblCategoryName 
= 
new !
(! "
)" #
;# $
lblCategoryName 
. 
Style !
=" #
($ %
Style% *
)* +
FindResource+ 7
(7 8
$str8 L
)L M
;M N
lblCategoryName 
. 
Content #
=$ %
category& .
;. /
} 	
}   
}!! öX
hC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\GamePlayerCard.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{		 
public

 

class

 
GamePlayerCard

 
:

  !
Border

" (
{ 
private 
readonly $
PlayerInGameDataContract 1
playerOfCard2 >
;> ?
private 
	TextBlock 
userName "
;" #
private 
	TextBlock 
points  
;  !
private 
Image 
avatar 
; 
private 
SolidColorBrush 
color  %
;% &
private 
Grid 
grid 
; 
public 
GamePlayerCard 
( $
PlayerInGameDataContract 6
player7 =
)= >
{ 	
playerOfCard 
= 
player !
;! "
this 
. 
Name 
= 
$str 
+ 
player "
." #
IdUser# )
.) *
ToString* 2
(2 3
)3 4
;4 5 
InitializeComponents  
(  !
)! "
;" #
	SetStyles 
( 
) 
; 
grid 
. 
Children 
. 
Add 
( 
userName &
)& '
;' (
grid 
. 
Children 
. 
Add 
( 
points $
)$ %
;% &
grid 
. 
Children 
. 
Add 
( 
avatar $
)$ %
;% &
this 
. 
Child 
= 
grid 
; 
} 	
private 
void 
	SetStyles 
( 
)  
{   	
SetBorderStyle!! 
(!! 
)!! 
;!! 
SetStyleGrid"" 
("" 
)"" 
;"" 
SetStyleUserName## 
(## 
)## 
;## 
SetStylePoints$$ 
($$ 
)$$ 
;$$ 
SetAvatarImage%% 
(%% 
)%% 
;%% 
}&& 	
private(( 
void((  
InitializeComponents(( )
((() *
)((* +
{)) 	
grid** 
=** 
new** 
Grid** 
(** 
)** 
;** 
userName++ 
=++ 
new++ 
	TextBlock++ $
(++$ %
)++% &
;++& '
points,, 
=,, 
new,, 
	TextBlock,, "
(,," #
),,# $
;,,$ %
avatar-- 
=-- 
new-- 
Image-- 
(-- 
)--  
;--  !
switch.. 
(.. 
playerOfCard.. 
...  
TurnOfPlayer..  ,
).., -
{// 
case00 
$num00 
:00 
color11 
=11 
new11 
SolidColorBrush11  /
(11/ 0
Colors110 6
.116 7
Yellow117 =
)11= >
;11> ?
break22 
;22 
case33 
$num33 
:33 
color44 
=44 
new44 
SolidColorBrush44  /
(44/ 0
Colors440 6
.446 7
Green447 <
)44< =
;44= >
break55 
;55 
case66 
$num66 
:66 
color77 
=77 
new77 
SolidColorBrush77  /
(77/ 0
Colors770 6
.776 7
Blue777 ;
)77; <
;77< =
break88 
;88 
case99 
$num99 
:99 
color:: 
=:: 
new:: 
SolidColorBrush::  /
(::/ 0
Colors::0 6
.::6 7
Red::7 :
)::: ;
;::; <
break;; 
;;; 
}<< 
}== 	
private?? 
void?? 
SetBorderStyle?? #
(??# $
)??$ %
{@@ 	
thisAA 
.AA 
MarginAA 
=AA 
newAA 
SystemAA $
.AA$ %
WindowsAA% ,
.AA, -
	ThicknessAA- 6
(AA6 7
$numAA7 8
,AA8 9
$numAA: <
,AA< =
$numAA> ?
,AA? @
$numAAA B
)AAB C
;AAC D
thisBB 
.BB 
HeightBB 
=BB 
$numBB 
;BB 
thisCC 
.CC 
WidthCC 
=CC 
$numCC 
;CC 
thisDD 
.DD 
BorderBrushDD 
=DD 
newDD "
SolidColorBrushDD# 2
(DD2 3
ColorsDD3 9
.DD9 :
	CadetBlueDD: C
)DDC D
;DDD E
thisEE 
.EE 

BackgroundEE 
=EE 
colorEE #
;EE# $
}FF 	
privateHH 
voidHH 
SetStyleGridHH !
(HH! "
)HH" #
{II 	
gridJJ 
.JJ 
MarginJJ 
=JJ 
newJJ 
SystemJJ $
.JJ$ %
WindowsJJ% ,
.JJ, -
	ThicknessJJ- 6
(JJ6 7
$numJJ7 8
)JJ8 9
;JJ9 :
gridKK 
.KK 
HeightKK 
=KK 
$numKK 
;KK 
gridLL 
.LL 
WidthLL 
=LL 
$numLL 
;LL 
}MM 	
privateOO 
voidOO 
SetStyleUserNameOO %
(OO% &
)OO& '
{PP 	
userNameQQ 
.QQ 
MarginQQ 
=QQ 
newQQ !
SystemQQ" (
.QQ( )
WindowsQQ) 0
.QQ0 1
	ThicknessQQ1 :
(QQ: ;
$numQQ; <
,QQ< =
$numQQ= >
,QQ> ?
$numQQ? A
,QQA B
$numQQB D
)QQD E
;QQE F
userNameRR 
.RR 
HeightRR 
=RR 
$numRR  
;RR  !
userNameSS 
.SS 
WidthSS 
=SS 
$numSS  
;SS  !
userNameTT 
.TT 
TextAlignmentTT "
=TT# $
SystemTT% +
.TT+ ,
WindowsTT, 3
.TT3 4
TextAlignmentTT4 A
.TTA B
CenterTTB H
;TTH I
userNameUU 
.UU 
FontSizeUU 
=UU 
$numUU  "
;UU" #
userNameVV 
.VV 

ForegroundVV 
=VV  !
newVV" %
SolidColorBrushVV& 5
(VV5 6
ColorsVV6 <
.VV< =
BlackVV= B
)VVB C
;VVC D
userNameWW 
.WW 
TextWW 
=WW 
playerOfCardWW (
.WW( )
UserNameWW) 1
;WW1 2
}XX 	
privateZZ 
voidZZ 
SetStylePointsZZ #
(ZZ# $
)ZZ$ %
{[[ 	
points\\ 
.\\ 
Margin\\ 
=\\ 
new\\ 
System\\  &
.\\& '
Windows\\' .
.\\. /
	Thickness\\/ 8
(\\8 9
$num\\9 :
,\\: ;
$num\\< >
,\\> ?
$num\\@ B
,\\B C
$num\\D E
)\\E F
;\\F G
points]] 
.]] 
Height]] 
=]] 
$num]] 
;]] 
points^^ 
.^^ 
Width^^ 
=^^ 
$num^^ 
;^^ 
points__ 
.__ 
TextAlignment__  
=__! "
System__# )
.__) *
Windows__* 1
.__1 2
TextAlignment__2 ?
.__? @
Center__@ F
;__F G
points`` 
.`` 
FontSize`` 
=`` 
$num``  
;``  !
pointsaa 
.aa 

Foregroundaa 
=aa 
newaa  #
SolidColorBrushaa$ 3
(aa3 4
Colorsaa4 :
.aa: ;
Whiteaa; @
)aa@ A
;aaA B
pointsbb 
.bb 

Backgroundbb 
=bb 
newbb  #
SolidColorBrushbb$ 3
(bb3 4
Colorsbb4 :
.bb: ;
Blackbb; @
)bb@ A
;bbA B
pointscc 
.cc 
Opacitycc 
=cc 
$numcc  
;cc  !
pointsdd 
.dd 
Textdd 
=dd 
playerOfCarddd &
.dd& ' 
CurrentPointsOfRounddd' ;
.dd; <
ToStringdd< D
(ddD E
)ddE F
;ddF G
}ee 	
privategg 
voidgg 
SetAvatarImagegg #
(gg# $
)gg$ %
{hh 	
avatarii 
.ii 
Sourceii 
=ii 
newii 
BitmapImageii  +
(ii+ ,
newii, /
Uriii0 3
(ii3 4
GetSpecificResourceii4 G
.iiG H
GetAvatarImageiiH V
(iiV W
playerOfCardiiW c
.iic d
IdAvatariid l
)iil m
,iim n
UriKindiio v
.iiv w
Absoluteiiw 
)	ii 
)
ii 
;
ii 
avatarjj 
.jj 
Marginjj 
=jj 
newjj 
Systemjj  &
.jj& '
Windowsjj' .
.jj. /
	Thicknessjj/ 8
(jj8 9
$numjj9 <
,jj< =
$numjj= >
,jj> ?
$numjj? @
,jj@ A
$numjjA B
)jjB C
;jjC D
}kk 	
publicmm 
voidmm 
UpdatePointsmm !
(mm! "
intmm" %
nePointsmm& .
)mm. /
{nn 	
pointsoo 
.oo 
Textoo 
=oo 
nePointsoo "
.oo" #
ToStringoo# +
(oo+ ,
)oo, -
;oo- .
}pp 	
publicrr 
voidrr 
MakeBorderSpecialrr %
(rr% &
)rr& '
{ss 	
thistt 
.tt 
BorderThicknesstt  
=tt! "
newtt# &
Systemtt' -
.tt- .
Windowstt. 5
.tt5 6
	Thicknesstt6 ?
(tt? @
$numtt@ A
)ttA B
;ttB C
}uu 	
publicww 
voidww 
MakeBoredNormalww #
(ww# $
)ww$ %
{xx 	
thisyy 
.yy 
BorderThicknessyy  
=yy! "
newyy# &
Systemyy' -
.yy- .
Windowsyy. 5
.yy5 6
	Thicknessyy6 ?
(yy? @
$numyy@ A
)yyA B
;yyB C
}zz 	
public|| 
int|| 
	GetPoints|| 
(|| 
)|| 
{}} 	
return~~ 
int~~ 
.~~ 
Parse~~ 
(~~ 
points~~ #
.~~# $
Text~~$ (
)~~( )
;~~) *
} 	
}
 
}  
hC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Cards\GamePointsCard.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{ 
public		 

class		 
GamePointsCard		 
:		  !
Border		" (
{

 
private 
Label 
	lblPoints 
;  
private 
readonly #
QuestionCardInformation 0#
questionCardInformation1 H
;H I
private 
readonly 
	GameBoard "
board# (
;( )
public 
GamePointsCard 
( #
QuestionCardInformation 5
questionCard6 B
,B C
	GameBoardE N
currentBoardO [
)[ \
{ 	
board 
= 
currentBoard  
;  !#
questionCardInformation #
=$ %
questionCard& 2
;2 3
SetStyle 
( 
) 
; 
SetLabelStyle 
( 
questionCard &
.& '#
SpecificQuestionDetails' >
.> ?

ValueWorth? I
.I J
ToStringJ R
(R S
)S T
)T U
;U V
this 
. 
Child 
= 
	lblPoints "
;" #
this 
. 
Name 
= 
$str 
+ 
questionCard (
.( )#
SpecificQuestionDetails) @
.@ A

IdQuestionA K
.K L
ToStringL T
(T U
)U V
;V W
this 
. 
	MouseDown 
+= '
ClickOnCardToSelectQuestion 9
;9 :
} 	
private 
void 
SetStyle 
( 
) 
{ 	
this 
. 
Style 
= 
( 
Style 
)  
FindResource! -
(- .
$str. C
)C D
;D E
this 
. 
Margin 
= 
new 
	Thickness '
(' (
$num( *
,* +
$num, .
,. /
$num0 2
,2 3
$num4 6
)6 7
;7 8
} 	
private   
void   
SetLabelStyle   "
(  " #
string  # )
pointsValue  * 5
)  5 6
{!! 	
	lblPoints"" 
="" 
new"" 
Label"" !
(""! "
)""" #
;""# $
	lblPoints## 
.## 
Style## 
=## 
(## 
Style## $
)##$ %
FindResource##& 2
(##2 3
$str##3 E
)##E F
;##F G
	lblPoints$$ 
.$$ 
Content$$ 
=$$ 
pointsValue$$  +
;$$+ ,
}%% 	
private'' 
void'' '
ClickOnCardToSelectQuestion'' 0
(''0 1
object''1 7
sender''8 >
,''> ? 
MouseButtonEventArgs''@ T
args''U Y
)''Y Z
{(( 	
board)) 
.)) 
SelectQuestion))  
())  !#
questionCardInformation))! 8
)))8 9
;))9 :
}** 	
public,, #
QuestionCardInformation,, &&
GetQuestionCardInformation,,' A
(,,A B
),,B C
{-- 	
return.. #
questionCardInformation.. *
;..* +
}// 	
}00 
}11 ä@
oC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Helpers\GetSpecificResource.cs
	namespace 	
JeopardyGame
 
. 
Helpers 
{ 
public 

static 
class 
GetSpecificResource +
{ 
private 
static 
readonly 
ThreadLocal  +
<+ ,
Random, 2
>2 3
generateAleatory4 D
=E F
newG J
ThreadLocalK V
<V W
RandomW ]
>] ^
(^ _
(_ `
)` a
=>b d
newe h
Randomi o
(o p
)p q
)q r
;r s
public 
static 
string 
GetHosImage (
(( )
int) ,
idHost- 3
)3 4
{ 	
return 
idHost 
switch  
{ 
$num 
=> 
App 
. 
Current  
.  !
	Resources! *
[* +
$str+ 6
]6 7
.7 8
ToString8 @
(@ A
)A B
,B C
$num 
=> 
App 
. 
Current  
.  !
	Resources! *
[* +
$str+ 4
]4 5
.5 6
ToString6 >
(> ?
)? @
,@ A
$num 
=> 
App 
. 
Current  
.  !
	Resources! *
[* +
$str+ 5
]5 6
.6 7
ToString7 ?
(? @
)@ A
,A B
_ 
=> 
App 
. 
Current  
.  !
	Resources! *
[* +
$str+ 5
]5 6
.6 7
ToString7 ?
(? @
)@ A
,A B
} 
; 
} 	
public 
static 
string 
GetAvatarImage +
(+ ,
int, /
idAvatar0 8
)8 9
{   	
return!! 
idAvatar!! 
switch!! "
{"" 
$num## 
=>## 
App## 
.## 
Current##  
.##  !
	Resources##! *
[##* +
$str##+ ;
]##; <
.##< =
ToString##= E
(##E F
)##F G
,##G H
$num$$ 
=>$$ 
App$$ 
.$$ 
Current$$  
.$$  !
	Resources$$! *
[$$* +
$str$$+ 6
]$$6 7
.$$7 8
ToString$$8 @
($$@ A
)$$A B
,$$B C
$num%% 
=>%% 
App%% 
.%% 
Current%%  
.%%  !
	Resources%%! *
[%%* +
$str%%+ 9
]%%9 :
.%%: ;
ToString%%; C
(%%C D
)%%D E
,%%E F
$num&& 
=>&& 
App&& 
.&& 
Current&&  
.&&  !
	Resources&&! *
[&&* +
$str&&+ 8
]&&8 9
.&&9 :
ToString&&: B
(&&B C
)&&C D
,&&D E
$num'' 
=>'' 
App'' 
.'' 
Current''  
.''  !
	Resources''! *
[''* +
$str''+ :
]'': ;
.''; <
ToString''< D
(''D E
)''E F
,''F G
$num(( 
=>(( 
App(( 
.(( 
Current((  
.((  !
	Resources((! *
[((* +
$str((+ 9
]((9 :
.((: ;
ToString((; C
(((C D
)((D E
,((E F
$num)) 
=>)) 
App)) 
.)) 
Current))  
.))  !
	Resources))! *
[))* +
$str))+ <
]))< =
.))= >
ToString))> F
())F G
)))G H
,))H I
_** 
=>** 
App** 
.** 
Current**  
.**  !
	Resources**! *
[*** +
$str**+ 6
]**6 7
.**7 8
ToString**8 @
(**@ A
)**A B
,**B C
}++ 
;++ 
},, 	
public00 
static00 
int00 

GetGuestId00 $
(00$ %
)00% &
{11 	
return22 
generateAleatory22 #
.22# $
Value22$ )
.22) *
Next22* .
(22. /
$num22/ 5
,225 6
$num227 >
)22> ?
;22? @
}33 	
public55 
static55 
string55 *
GetEnglishOrSpanishDescription55 ;
(55; <
string55< B
englisDescription55C T
,55T U
string55V \
spanishDescription55] o
)55o p
{66 	
if77 
(77 
spanishDescription77 "
is77# %
null77& *
)77* +
{88 
return99 
englisDescription99 (
;99( )
}:: 
if;; 
(;; 
englisDescription;; !
is;;" $
null;;% )
);;) *
{<< 
return== 
spanishDescription== )
;==) *
}>> 
bool?? 
	isEnglish?? 
=?? 
App??  
.??  !
	IsEnglish??! *
;??* +
if@@ 
(@@ 
	isEnglish@@ 
)@@ 
{AA 
returnBB 
englisDescriptionBB (
;BB( )
}CC 
elseDD 
{EE 
returnFF 
spanishDescriptionFF )
;FF) *
}GG 
}HH 	
publicKK 
staticKK 
boolKK 1
%HasAtLeastTwoSeparateUppercaseLettersKK @
(KK@ A
stringKKA G
passwordKKH P
)KKP Q
{LL 	
intMM 
uppercaseCountMM 
=MM  
$numMM! "
;MM" #
boolNN 
isPreviousUppercaseNN $
=NN% &
falseNN' ,
;NN, -
foreachPP 
(PP 
charPP 
cPP 
inPP 
passwordPP '
)PP' (
{QQ 
ifRR 
(RR 
charRR 
.RR 
IsUpperRR  
(RR  !
cRR! "
)RR" #
)RR# $
{SS 
uppercaseCountTT "
++TT" $
;TT$ %
ifVV 
(VV 
isPreviousUppercaseVV +
)VV+ ,
{WW 
returnXX 
falseXX $
;XX$ %
}YY 
isPreviousUppercase[[ '
=[[( )
true[[* .
;[[. /
}\\ 
else]] 
{^^ 
isPreviousUppercase__ '
=__( )
false__* /
;__/ 0
}`` 
}aa 
returncc 
uppercaseCountcc !
>=cc" $
$numcc% &
;cc& '
}dd 	
}ff 
publicjj 

staticjj 
classjj 0
$GetParentOfGraphicInterfaceComponentjj <
{kk 
publicll 
staticll 
Tll 

FindParentll "
<ll" #
Tll# $
>ll$ %
(ll% &
DependencyObjectll& 6
childll7 <
)ll< =
wherell> C
TllD E
:llF G
DependencyObjectllH X
{mm 	
DependencyObjectnn 
parentnn #
=nn$ %
VisualTreeHelpernn& 6
.nn6 7
	GetParentnn7 @
(nn@ A
childnnA F
)nnF G
;nnG H
whileoo 
(oo 
parentoo 
!=oo 
nulloo !
&&oo" $
!oo% &
(oo& '
parentoo' -
isoo. 0
Too1 2
)oo2 3
)oo3 4
{pp 
parentqq 
=qq 
VisualTreeHelperqq )
.qq) *
	GetParentqq* 3
(qq3 4
parentqq4 :
)qq: ;
;qq; <
}rr 
returnss 
(ss 
Tss 
)ss 
parentss 
;ss 
}tt 	
}vv 
}xx ð
lC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\ActiveFriends.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public   

partial   
class   
ActiveFriends   '
:  ( )
Page  * .
,  . /+
INotifyUserAvailabilityCallback  0 O
{!! 
private"" 
	LobbyPage"" 
	lobbyPage"" #
;""# $
public## 
const## 
int## 
NULL_INT_VALUE## '
=##( )
$num##* +
;##+ ,
private$$ 
const$$ 
int$$ 
DISALLOWED_VALUES$$ +
=$$, -
$num$$. /
;$$/ 0
private%% 
const%% 
int%% 
ALLOWED_VALUES%% (
=%%) *
$num%%+ ,
;%%, -
public'' 
ActiveFriends'' 
('' 
int''  
idUser''! '
)''' (
{(( 	
try)) 
{** 
InitializeComponent++ #
(++# $
)++$ %
;++% &
InstanceContext,, 
context,,  '
=,,( )
new,,* -
InstanceContext,,. =
(,,= >
this,,> B
),,B C
;,,C D(
NotifyUserAvailabilityClient-- ,!
userAvailabilityProxy--- B
=--C D
new--E H
(--H I
context--I P
)--P Q
;--Q R!
userAvailabilityProxy.. %
...% &0
$SubscribeToAvailabityCallBackChannel..& J
(..J K
idUser..K Q
)..Q R
;..R S
txbSendEmail// 
.// 
	MaxLength// &
=//' (
$num//) +
;//+ ,
}00 
catch11 
(11 %
EndpointNotFoundException11 ,
ex11- /
)11/ 0
{22 
HandleException33 
(33  
ex33  "
,33" #

Properties33$ .
.33. /
	Resources33/ 8
.338 9
lblEndPointNotFound339 L
)33L M
;33M N
}44 
catch55 
(55 /
#CommunicationObjectFaultedException55 6
ex557 9
)559 :
{66 
HandleException77 
(77  
ex77  "
,77" #

Properties77$ .
.77. /
	Resources77/ 8
.778 9$
lblComunicationException779 Q
)77Q R
;77R S
}88 
catch99 
(99 
TimeoutException99 #
ex99$ &
)99& '
{:: 
HandleException;; 
(;;  
ex;;  "
,;;" #

Properties;;$ .
.;;. /
	Resources;;/ 8
.;;8 9
lblTimeException;;9 I
);;I J
;;;J K
}<< 
catch== 
(== "
CommunicationException== )
ex==* ,
)==, -
{>> 
HandleException?? 
(??  
ex??  "
,??" #

Properties??$ .
.??. /
	Resources??/ 8
.??8 9
lblWithoutConection??9 L
)??L M
;??M N
}@@ 
catchAA 
(AA 
SocketExceptionAA "
exAA# %
)AA% &
{BB 
HandleExceptionCC 
(CC  
exCC  "
,CC" #

PropertiesCC$ .
.CC. /
	ResourcesCC/ 8
.CC8 9#
lblFailtToEnterTheLobbyCC9 P
)CCP Q
;CCQ R
}DD 
}EE 	
publicGG 
voidGG 
	StartPageGG 
(GG 
	LobbyPageGG '
lobbyGG( -
)GG- .
{HH 	
	lobbyPageII 
=II 
lobbyII 
;II 
	GetFriendJJ 
(JJ 
)JJ 
;JJ 
	SetFriendKK 
(KK 
)KK 
;KK 
}LL 	
publicNN 
voidNN &
RenewFriendCallBackChannelNN .
(NN. /
intNN/ 2
idUserNN3 9
)NN9 :
{OO 	
tryPP 
{QQ 
InstanceContextRR 
contextRR  '
=RR( )
newRR* -
InstanceContextRR. =
(RR= >
thisRR> B
)RRB C
;RRC D(
NotifyUserAvailabilityClientSS ,!
userAvailabilityProxySS- B
=SSC D
newSSE H
(SSH I
contextSSI P
)SSP Q
;SSQ R!
userAvailabilityProxyTT %
.TT% &)
RenewNotifyAvailabityCallBackTT& C
(TTC D
idUserTTD J
)TTJ K
;TTK L
}UU 
catchVV 
(VV %
EndpointNotFoundExceptionVV ,
exVV- /
)VV/ 0
{WW 
HandleExceptionXX 
(XX  
exXX  "
,XX" #

PropertiesXX$ .
.XX. /
	ResourcesXX/ 8
.XX8 9
lblEndPointNotFoundXX9 L
)XXL M
;XXM N
}YY 
catchZZ 
(ZZ /
#CommunicationObjectFaultedExceptionZZ 6
exZZ7 9
)ZZ9 :
{[[ 
HandleException\\ 
(\\  
ex\\  "
,\\" #

Properties\\$ .
.\\. /
	Resources\\/ 8
.\\8 9$
lblComunicationException\\9 Q
)\\Q R
;\\R S
}]] 
catch^^ 
(^^ 
TimeoutException^^ #
ex^^$ &
)^^& '
{__ 
HandleException`` 
(``  
ex``  "
,``" #

Properties``$ .
.``. /
	Resources``/ 8
.``8 9
lblTimeException``9 I
)``I J
;``J K
}aa 
catchbb 
(bb "
CommunicationExceptionbb )
exbb* ,
)bb, -
{cc 
HandleExceptiondd 
(dd  
exdd  "
,dd" #

Propertiesdd$ .
.dd. /
	Resourcesdd/ 8
.dd8 9
lblWithoutConectiondd9 L
)ddL M
;ddM N
}ee 
catchff 
(ff 
SocketExceptionff "
exff# %
)ff% &
{gg 
HandleExceptionhh 
(hh  
exhh  "
,hh" #

Propertieshh$ .
.hh. /
	Resourceshh/ 8
.hh8 9#
lblFailtToEnterTheLobbyhh9 P
+hhQ R
$strhhS X
+hhY Z

Propertieshh[ e
.hhe f
	Resourceshhf o
.hho p 
lblEndPointNotFound	hhp 
)
hh 
;
hh 
}ii 
}jj 	
privatell 
voidll !
ClickCloseListFriendsll *
(ll* +
objectll+ 1
senderll2 8
,ll8 9 
MouseButtonEventArgsll: N
ellO P
)llP Q
{mm 	
	lobbyPagenn 
.nn )
CloseSubFrameOfChatAndFriendsnn 3
(nn3 4
)nn4 5
;nn5 6
}oo 	
privateqq 
voidqq 
	GetFriendqq 
(qq 
)qq  
{rr 	
tryss 
{ss 
UserSingletontt 
mainCurrentUsertt -
=tt. /
UserSingletontt0 =
.tt= >
GetMainUsertt> I
(ttI J
)ttJ K
;ttK L(
ConsultUserInformationClientuu ,#
consultInformationProxyuu- D
=uuE F
newuuG J(
ConsultUserInformationClientuuK g
(uug h
)uuh i
;uui j
varvv 
uservv 
=vv #
consultInformationProxyvv 2
.vv2 3
ConsultUserByIdvv3 B
(vvB C
mainCurrentUservvC R
.vvR S
IdUservvS Y
)vvY Z
;vvZ [ 
ConsultFriendsClientww $
friendManagerProxyww% 7
=ww8 9
newww: = 
ConsultFriendsClientww> R
(wwR S
)wwS T
;wwT U
varxx 
friendsxx 
=xx 
friendManagerProxyxx 0
.xx0 1
GetUserFriendsxx1 ?
(xx? @
userxx@ D
.xxD E
ObjectSavedxxE P
)xxP Q
;xxQ R
ifyy 
(yy 
friendsyy 
.yy 
	CodeEventyy %
==yy& (
ExceptionDictionaryyy) <
.yy< =
SUCCESFULL_EVENTyy= M
)yyM N
{zz 
foreach{{ 
({{ 
var{{  
item{{! %
in{{& (
friends{{) 0
.{{0 1
ObjectSaved{{1 <
){{< =
{|| )
FriendAvailabilityInformation}} 5
activeFriendProxy}}6 G
=}}H I
new}}J M)
FriendAvailabilityInformation}}N k
(}}k l
)}}l m
;}}m n
activeFriendProxy~~ )
.~~) *
IdUser~~* 0
=~~1 2
item~~3 7
.~~7 8
IdUser~~8 >
;~~> ?
activeFriendProxy )
.) *
Name* .
=/ 0
item1 5
.5 6
UserName6 >
;> ?
activeFriendProxy
 )
.
) *
EmailAddress
* 6
=
7 8
item
9 =
.
= >
EmailAddress
> J
;
J K
activeFriendProxy
 )
.
) *$
IdStatusOfAvailability
* @
=
A B
item
C G
.
G H"
IdStatusAvailability
H \
;
\ ]

FriendList
 "
.
" #+
RegisterNewFriendInDictionary
# @
(
@ A
item
A E
.
E F
IdUser
F L
,
L M
activeFriendProxy
N _
)
_ `
;
` a
}
 
}
 
else
 
{
 !
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbWarningTitle
S b
,
b c

Properties
d n
.
n o
	Resources
o x
.
x y 
lblWithoutFriendsy 
, 
Application 
. 
Current 
.  

MainWindow  ª
,ª «#
DialogWindowManager¬ ¿
.¿ À
ERRORÀ Å
)Å Æ
;Æ Ç
}
  
friendManagerProxy
 "
.
" #
Close
# (
(
( )
)
) *
;
* +%
consultInformationProxy
 '
.
' (
Close
( -
(
- .
)
. /
;
/ 0
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblEndPointNotFound
9 L
)
L M
;
M N
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblComunicationException
9 Q
)
Q R
;
R S
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9
lblTimeException
9 I
)
I J
;
J K
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWithoutConection
9 L
)
L M
;
M N
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9%
lblFailtToEnterTheLobby
9 P
)
P Q
;
Q R
}
 
}
   	
private
¢¢ 
void
¢¢ 
	SetFriend
¢¢ 
(
¢¢ 
)
¢¢  
{
££ 	
stcFriendList
¤¤ 
.
¤¤ 
Children
¤¤ "
.
¤¤" #
Clear
¤¤# (
(
¤¤( )
)
¤¤) *
;
¤¤* +
stcFriendList
¥¥ 
.
¥¥ 
Orientation
¥¥ %
=
¥¥& '
Orientation
¥¥( 3
.
¥¥3 4
Vertical
¥¥4 <
;
¥¥< =

Dictionary
¦¦ 
<
¦¦ 
int
¦¦ 
,
¦¦ +
FriendAvailabilityInformation
¦¦ 9
>
¦¦9 :

friendList
¦¦; E
=
¦¦F G

FriendList
¦¦H R
.
¦¦R S"
GetActiveFriendsList
¦¦S g
(
¦¦g h
)
¦¦h i
;
¦¦i j
if
§§ 
(
§§ 

friendList
§§ 
!=
§§ 
null
§§ "
)
§§" #
{
¨¨ 
foreach
©© 
(
©© 
var
©© 

friendItem
©© '
in
©©( *

friendList
©©+ 5
.
©©5 6
Select
©©6 <
(
©©< =
item
©©= A
=>
©©B D
item
©©E I
.
©©I J
Value
©©J O
)
©©O P
)
©©P Q
{
ªª 

FriendCard
«« 

friendCard
«« )
=
««* +
CreateFriendCard
««, <
(
««< =

friendItem
««= G
)
««G H
;
««H I
stcFriendList
¬¬ !
.
¬¬! "
Children
¬¬" *
.
¬¬* +
Add
¬¬+ .
(
¬¬. /

friendCard
¬¬/ 9
)
¬¬9 :
;
¬¬: ;
}
­­ 
}
®® 
}
¯¯ 	
private
±± 

FriendCard
±± 
CreateFriendCard
±± +
(
±±+ ,+
FriendAvailabilityInformation
±±, I
friend
±±J P
)
±±P Q
{
²² 	
int
³³ 
roomCode
³³ 
=
³³ 
GameCodeContainer
³³ ,
.
³³, -
RoomCode
³³- 5
;
³³5 6

FriendCard
´´ 

friendCard
´´ !
=
´´" #
new
´´$ '

FriendCard
´´( 2
(
´´2 3
friend
´´3 9
.
´´9 :
Name
´´: >
,
´´> ?
friend
´´@ F
.
´´F G$
IdStatusOfAvailability
´´G ]
,
´´] ^

Properties
´´_ i
.
´´i j
	Resources
´´j s
.
´´s t
	bttInvite
´´t }
)
´´} ~
;
´´~ 

friendCard
µµ 
.
µµ !
InviteButtonClicked
µµ *
+=
µµ+ -
(
µµ. /
sender
µµ/ 5
,
µµ5 6
e
µµ7 8
)
µµ8 9
=>
µµ: <
{
¶¶ 
string
·· 
friendEmail
·· "
=
··# $
friend
··% +
.
··+ ,
EmailAddress
··, 8
;
··8 9
string
¸¸ 
subject
¸¸ 
=
¸¸  

Properties
¸¸! +
.
¸¸+ ,
	Resources
¸¸, 5
.
¸¸5 6%
txbTitleEmailInvitation
¸¸6 M
;
¸¸M N
string
¹¹ 
body
¹¹ 
=
¹¹ 

Properties
¹¹ (
.
¹¹( )
	Resources
¹¹) 2
.
¹¹2 3
tbxBodyInvitation
¹¹3 D
+
¹¹E F
$str
¹¹G J
+
¹¹K L
$"
¹¹M O
{
¹¹O P
roomCode
¹¹P X
}
¹¹X Y
"
¹¹Y Z
;
¹¹Z [*
SendEmailForInvitationToGame
ºº ,
(
ºº, -
friendEmail
ºº- 8
,
ºº8 9
subject
ºº: A
,
ººA B
body
ººC G
)
ººG H
;
ººH I!
DialogWindowManager
»» #
.
»»# $#
ShowInfoOrErrorWindow
»»$ 9
(
»»9 :

Properties
»»: D
.
»»D E
	Resources
»»E N
.
»»N O
tbxEmailSend
»»O [
,
»»[ \

Properties
»»] g
.
»»g h
	Resources
»»h q
.
»»q r
txbInfoEmailSend»»r 
,»» 
Application»» 
.»» 
Current»» 
.»» 

MainWindow»» ¢
,»»¢ £#
DialogWindowManager»»¤ ·
.»»· ¸
INFORMATION»»¸ Ã
)»»Ã Ä
;»»Ä Å
}
¼¼ 
;
¼¼ 
return
½½ 

friendCard
½½ 
;
½½ 
}
¾¾ 	
public
ÁÁ 
void
ÁÁ *
ResponseOfPlayerAvailability
ÁÁ 0
(
ÁÁ0 1
int
ÁÁ1 4
status
ÁÁ5 ;
,
ÁÁ; <
int
ÁÁ= @
idFriend
ÁÁA I
)
ÁÁI J
{
ÂÂ 	

Dictionary
ÃÃ 
<
ÃÃ 
int
ÃÃ 
,
ÃÃ +
FriendAvailabilityInformation
ÃÃ 9
>
ÃÃ9 :

friendList
ÃÃ; E
=
ÃÃF G

FriendList
ÃÃH R
.
ÃÃR S"
GetActiveFriendsList
ÃÃS g
(
ÃÃg h
)
ÃÃh i
;
ÃÃi j
if
ÄÄ 
(
ÄÄ 

friendList
ÄÄ 
.
ÄÄ 
ContainsKey
ÄÄ &
(
ÄÄ& '
idFriend
ÄÄ' /
)
ÄÄ/ 0
)
ÄÄ0 1
{
ÅÅ 

FriendList
ÆÆ 
.
ÆÆ "
ChangeStatusOfFriend
ÆÆ /
(
ÆÆ/ 0
idFriend
ÆÆ0 8
,
ÆÆ8 9
status
ÆÆ: @
)
ÆÆ@ A
;
ÆÆA B
}
ÇÇ 
if
ÈÈ 
(
ÈÈ 

Dispatcher
ÈÈ 
.
ÈÈ 
CheckAccess
ÈÈ &
(
ÈÈ& '
)
ÈÈ' (
)
ÈÈ( )
{
ÉÉ 
	SetFriend
ÊÊ 
(
ÊÊ 
)
ÊÊ 
;
ÊÊ 
}
ËË 
else
ÌÌ 
{
ÍÍ 

Dispatcher
ÎÎ 
.
ÎÎ 
Invoke
ÎÎ !
(
ÎÎ! "
(
ÎÎ" #
)
ÎÎ# $
=>
ÎÎ% '
	SetFriend
ÎÎ( 1
(
ÎÎ1 2
)
ÎÎ2 3
)
ÎÎ3 4
;
ÎÎ4 5
}
ÏÏ 
}
ÐÐ 	
private
ÒÒ 
void
ÒÒ *
SendEmailForInvitationToGame
ÒÒ 1
(
ÒÒ1 2
string
ÒÒ2 8
email
ÒÒ9 >
,
ÒÒ> ?
string
ÒÒ@ F
subject
ÒÒG N
,
ÒÒN O
string
ÒÒP V
body
ÒÒW [
)
ÒÒ[ \
{
ÓÓ 	&
EmailSenderManagerClient
ÔÔ $
emailSenderProxy
ÔÔ% 5
=
ÔÔ6 7
new
ÔÔ8 ;&
EmailSenderManagerClient
ÔÔ< T
(
ÔÔT U
)
ÔÔU V
;
ÔÔV W
UserSingleton
ÕÕ 
userSingleton
ÕÕ '
=
ÕÕ( )
UserSingleton
ÕÕ* 7
.
ÕÕ7 8
GetMainUser
ÕÕ8 C
(
ÕÕC D
)
ÕÕD E
;
ÕÕE F
UserPojo
ÖÖ 
user
ÖÖ 
=
ÖÖ 
new
ÖÖ 
UserPojo
ÖÖ  (
(
ÖÖ( )
)
ÖÖ) *
{
×× 
IdUser
ØØ 
=
ØØ 
userSingleton
ØØ &
.
ØØ& '
IdUser
ØØ' -
,
ØØ- .
UserName
ÙÙ 
=
ÙÙ 
userSingleton
ÙÙ (
.
ÙÙ( )
UserName
ÙÙ) 1
,
ÙÙ1 2
EmailAddress
ÚÚ 
=
ÚÚ 
email
ÚÚ $
,
ÚÚ$ %
}
ÛÛ 
;
ÛÛ 
try
ÜÜ 
{
ÝÝ 
GenericClassOfint
ÞÞ !
sentEmailResult
ÞÞ" 1
=
ÞÞ2 3
emailSenderProxy
ÞÞ4 D
.
ÞÞD E%
SentEmailInvitingToGame
ÞÞE \
(
ÞÞ\ ]
user
ÞÞ] a
,
ÞÞa b
subject
ÞÞc j
,
ÞÞj k
body
ÞÞl p
)
ÞÞp q
;
ÞÞq r
if
ßß 
(
ßß 
sentEmailResult
ßß #
.
ßß# $
	CodeEvent
ßß$ -
==
ßß. 0!
ExceptionDictionary
ßß1 D
.
ßßD E
SUCCESFULL_EVENT
ßßE U
)
ßßU V
{
àà !
DialogWindowManager
áá '
.
áá' (#
ShowInfoOrErrorWindow
áá( =
(
áá= >

Properties
áá> H
.
ááH I
	Resources
ááI R
.
ááR S
tbxEmailSend
ááS _
,
áá_ `

Properties
ááa k
.
áák l
	Resources
áál u
.
ááu v
txbInfoEmailSendááv 
,áá 
Applicationáá 
.áá 
Currentáá 
.áá 

MainWindowáá ¦
,áá¦ §#
DialogWindowManageráá¨ »
.áá» ¼
INFORMATIONáá¼ Ç
)ááÇ È
;ááÈ É
}
ââ 
else
ãã 
{
ää 
if
åå 
(
åå 
sentEmailResult
åå '
.
åå' (
ObjectSaved
åå( 3
==
åå4 6
NULL_INT_VALUE
åå7 E
)
ååE F
{
ææ !
DialogWindowManager
çç +
.
çç+ ,#
ShowInfoOrErrorWindow
çç, A
(
ççA B

Properties
ççB L
.
ççL M
	Resources
ççM V
.
ççV W
txbErrorTitle
ççW d
,
ççd e

Properties
ççf p
.
ççp q
	Resources
ççq z
.
ççz {
SentEmailIssueçç{ 
,çç 
Applicationçç 
.çç 
Currentçç 
.çç 

MainWindowçç ©
,çç© ª#
DialogWindowManagerçç« ¾
.çç¾ ¿
ERRORçç¿ Ä
)ççÄ Å
;ççÅ Æ
}
éé 
}
êê 
}
ìì 
catch
íí 
(
íí '
EndpointNotFoundException
íí ,
ex
íí- /
)
íí/ 0
{
îî 
HandleException
ïï 
(
ïï  
ex
ïï  "
,
ïï" #

Properties
ïï$ .
.
ïï. /
	Resources
ïï/ 8
.
ïï8 9!
lblEndPointNotFound
ïï9 L
)
ïïL M
;
ïïM N
}
ðð 
catch
ññ 
(
ññ 1
#CommunicationObjectFaultedException
ññ 6
ex
ññ7 9
)
ññ9 :
{
òò 
HandleException
óó 
(
óó  
ex
óó  "
,
óó" #

Properties
óó$ .
.
óó. /
	Resources
óó/ 8
.
óó8 9&
lblComunicationException
óó9 Q
)
óóQ R
;
óóR S
}
ôô 
catch
õõ 
(
õõ 
TimeoutException
õõ #
ex
õõ$ &
)
õõ& '
{
öö 
HandleException
÷÷ 
(
÷÷  
ex
÷÷  "
,
÷÷" #

Properties
÷÷$ .
.
÷÷. /
	Resources
÷÷/ 8
.
÷÷8 9
lblTimeException
÷÷9 I
)
÷÷I J
;
÷÷J K
}
øø 
catch
ùù 
(
ùù $
CommunicationException
ùù )
ex
ùù* ,
)
ùù, -
{
úú 
HandleException
ûû 
(
ûû  
ex
ûû  "
,
ûû" #

Properties
ûû$ .
.
ûû. /
	Resources
ûû/ 8
.
ûû8 9!
lblWithoutConection
ûû9 L
)
ûûL M
;
ûûM N
}
üü 
catch
ýý 
(
ýý 
SocketException
ýý "
ex
ýý# %
)
ýý% &
{
þþ 
HandleException
ÿÿ 
(
ÿÿ  
ex
ÿÿ  "
,
ÿÿ" #

Properties
ÿÿ$ .
.
ÿÿ. /
	Resources
ÿÿ/ 8
.
ÿÿ8 9%
lblFailtToEnterTheLobby
ÿÿ9 P
)
ÿÿP Q
;
ÿÿQ R
}
 
}
 	
private
 
void
 
HandleException
 $
(
$ %
	Exception
% .
ex
/ 1
,
1 2
string
3 9
errorMessage
: F
)
F G
{
 	%
ExceptionHandlerForLogs
 #
.
# $
LogException
$ 0
(
0 1
ex
1 3
,
3 4!
ExceptionDictionary
5 H
.
H I
FATAL_EXCEPTION
I X
)
X Y
;
Y Z!
DialogWindowManager
 
.
  #
ShowInfoOrErrorWindow
  5
(
5 6

Properties
6 @
.
@ A
	Resources
A J
.
J K
txbErrorTitle
K X
,
X Y
errorMessage
Z f
,
f g
Application
h s
.
s t
Current
t {
.
{ |

MainWindow| 
, #
DialogWindowManager 
. 
ERROR ¡
)¡ ¢
;¢ £
}
 	
private
 
void
 )
ClickSendEmailForInvitation
 0
(
0 1
object
1 7
sender
8 >
,
> ?"
MouseButtonEventArgs
@ T
e
U V
)
V W
{
 	
string
 
email
 
=
 
txbSendEmail
 '
.
' (
Text
( ,
;
, -
int
 
roomCode
 
=
 
GameCodeContainer
 ,
.
, -
RoomCode
- 5
;
5 6
string
 
subject
 
=
 

Properties
 '
.
' (
	Resources
( 1
.
1 2%
txbTitleEmailInvitation
2 I
;
I J
string
 
bodyWithCode
 
=
  !

Properties
" ,
.
, -
	Resources
- 6
.
6 7
tbxBodyInvitation
7 H
+
I J
$str
K N
+
O P
$"
Q S
{
S T
roomCode
T \
}
\ ]
"
] ^
;
^ _
txbSendEmail
 
.
 
Text
 
=
 
string
  &
.
& '
Empty
' ,
;
, -
if
 
(
 
string
 
.
 
IsNullOrEmpty
 $
(
$ %
email
% *
)
* +
)
+ ,
{
 
LblWrongEmail
 
.
 
Content
 %
=
& '

Properties
( 2
.
2 3
	Resources
3 <
.
< =
lblWrongEmail
= J
;
J K
LblWrongEmail
 
.
 

Visibility
 (
=
) *

Visibility
+ 5
.
5 6
Visible
6 =
;
= >
return
 
;
 
}
 
if
 
(
 
!
 
IsValidEmail
 
(
 
email
 #
)
# $
)
$ %
{
 
LblWrongEmail
 
.
 
Content
 %
=
& '

Properties
( 2
.
2 3
	Resources
3 <
.
< =
lblWrongFormat
= K
;
K L
LblWrongEmail
 
.
 

Visibility
 (
=
) *

Visibility
+ 5
.
5 6
Visible
6 =
;
= >
return
 
;
 
}
 
if
 
(
 !
CheckEmailExistence
 #
(
# $
email
$ )
)
) *
==
+ -
DISALLOWED_VALUES
. ?
)
? @
{
 
LblWrongEmail
   
.
   
Content
   %
=
  & '

Properties
  ( 2
.
  2 3
	Resources
  3 <
.
  < =
lblEmailExistInBD
  = N
;
  N O
LblWrongEmail
¡¡ 
.
¡¡ 

Visibility
¡¡ (
=
¡¡) *

Visibility
¡¡+ 5
.
¡¡5 6
Visible
¡¡6 =
;
¡¡= >
return
¢¢ 
;
¢¢ 
}
££ 
LblWrongEmail
¤¤ 
.
¤¤ 

Visibility
¤¤ $
=
¤¤% &

Visibility
¤¤' 1
.
¤¤1 2
	Collapsed
¤¤2 ;
;
¤¤; <&
EmailSenderManagerClient
¦¦ $
emailSenderProxy
¦¦% 5
=
¦¦6 7
new
¦¦8 ;&
EmailSenderManagerClient
¦¦< T
(
¦¦T U
)
¦¦U V
;
¦¦V W
try
¨¨ 
{
©© 
GenericClassOfint
«« !
sentEmailResult
««" 1
=
««2 3
emailSenderProxy
««4 D
.
««D E$
SentEmailForInvitation
««E [
(
««[ \
email
««\ a
,
««a b
subject
««c j
,
««j k
bodyWithCode
««l x
)
««x y
;
««y z
if
­­ 
(
­­ 
sentEmailResult
­­ #
.
­­# $
	CodeEvent
­­$ -
==
­­. 0!
ExceptionDictionary
­­1 D
.
­­D E
SUCCESFULL_EVENT
­­E U
)
­­U V
{
®® !
DialogWindowManager
¯¯ '
.
¯¯' (#
ShowInfoOrErrorWindow
¯¯( =
(
¯¯= >

Properties
¯¯> H
.
¯¯H I
	Resources
¯¯I R
.
¯¯R S
tbxEmailSend
¯¯S _
,
¯¯_ `

Properties
¯¯a k
.
¯¯k l
	Resources
¯¯l u
.
¯¯u v
txbInfoEmailSend¯¯v 
,¯¯ 
Application¯¯ 
.¯¯ 
Current¯¯ 
.¯¯ 

MainWindow¯¯ ¦
,¯¯¦ §#
DialogWindowManager¯¯¨ »
.¯¯» ¼
INFORMATION¯¯¼ Ç
)¯¯Ç È
;¯¯È É
}
°° 
else
±± 
{
²² 
if
³³ 
(
³³ 
sentEmailResult
³³ '
.
³³' (
ObjectSaved
³³( 3
==
³³4 6
NULL_INT_VALUE
³³7 E
)
³³E F
{
´´ !
DialogWindowManager
µµ +
.
µµ+ ,#
ShowInfoOrErrorWindow
µµ, A
(
µµA B

Properties
µµB L
.
µµL M
	Resources
µµM V
.
µµV W
txbErrorTitle
µµW d
,
µµd e

Properties
µµf p
.
µµp q
	Resources
µµq z
.
µµz {
SentEmailIssueµµ{ 
,µµ 
Applicationµµ 
.µµ 
Currentµµ 
.µµ 

MainWindowµµ ©
,µµ© ª#
DialogWindowManagerµµ« ¾
.µµ¾ ¿
ERRORµµ¿ Ä
)µµÄ Å
;µµÅ Æ
}
¶¶ 
}
·· 
}
¸¸ 
catch
¹¹ 
(
¹¹ '
EndpointNotFoundException
¹¹ ,
ex
¹¹- /
)
¹¹/ 0
{
ºº 
HandleException
»» 
(
»»  
ex
»»  "
,
»»" #

Properties
»»$ .
.
»». /
	Resources
»»/ 8
.
»»8 9!
lblEndPointNotFound
»»9 L
)
»»L M
;
»»M N
}
¼¼ 
catch
½½ 
(
½½ 1
#CommunicationObjectFaultedException
½½ 6
ex
½½7 9
)
½½9 :
{
¾¾ 
HandleException
¿¿ 
(
¿¿  
ex
¿¿  "
,
¿¿" #

Properties
¿¿$ .
.
¿¿. /
	Resources
¿¿/ 8
.
¿¿8 9&
lblComunicationException
¿¿9 Q
)
¿¿Q R
;
¿¿R S
}
ÀÀ 
catch
ÁÁ 
(
ÁÁ 
TimeoutException
ÁÁ #
ex
ÁÁ$ &
)
ÁÁ& '
{
ÂÂ 
HandleException
ÃÃ 
(
ÃÃ  
ex
ÃÃ  "
,
ÃÃ" #

Properties
ÃÃ$ .
.
ÃÃ. /
	Resources
ÃÃ/ 8
.
ÃÃ8 9
lblTimeException
ÃÃ9 I
)
ÃÃI J
;
ÃÃJ K
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ $
CommunicationException
ÅÅ )
ex
ÅÅ* ,
)
ÅÅ, -
{
ÆÆ 
HandleException
ÇÇ 
(
ÇÇ  
ex
ÇÇ  "
,
ÇÇ" #

Properties
ÇÇ$ .
.
ÇÇ. /
	Resources
ÇÇ/ 8
.
ÇÇ8 9!
lblWithoutConection
ÇÇ9 L
)
ÇÇL M
;
ÇÇM N
}
ÈÈ 
catch
ÉÉ 
(
ÉÉ 
SocketException
ÉÉ "
ex
ÉÉ# %
)
ÉÉ% &
{
ÊÊ 
HandleException
ËË 
(
ËË  
ex
ËË  "
,
ËË" #

Properties
ËË$ .
.
ËË. /
	Resources
ËË/ 8
.
ËË8 9%
lblFailtToEnterTheLobby
ËË9 P
)
ËËP Q
;
ËËQ R
}
ÌÌ 
}
ÍÍ 	
private
ÎÎ 
bool
ÎÎ 
IsValidEmail
ÎÎ !
(
ÎÎ! "
string
ÎÎ" (
email
ÎÎ) .
)
ÎÎ. /
{
ÏÏ 	
try
ÐÐ 
{
ÑÑ '
RegularExpressionsLibrary
ÒÒ )
regexInstance
ÒÒ* 7
=
ÒÒ8 9
new
ÒÒ: ='
RegularExpressionsLibrary
ÒÒ> W
(
ÒÒW X
)
ÒÒX Y
;
ÒÒY Z
string
ÓÓ 
regexExpression
ÓÓ &
=
ÓÓ' (
regexInstance
ÓÓ) 6
.
ÓÓ6 7!
GetEMAIL_RULES_CHAR
ÓÓ7 J
(
ÓÓJ K
)
ÓÓK L
;
ÓÓL M
return
ÔÔ 
Regex
ÔÔ 
.
ÔÔ 
IsMatch
ÔÔ $
(
ÔÔ$ %
email
ÔÔ% *
,
ÔÔ* +
regexExpression
ÔÔ, ;
,
ÔÔ; <
RegexOptions
ÔÔ= I
.
ÔÔI J

IgnoreCase
ÔÔJ T
,
ÔÔT U
TimeSpan
ÔÔV ^
.
ÔÔ^ _
FromMilliseconds
ÔÔ_ o
(
ÔÔo p
$num
ÔÔp s
)
ÔÔs t
)
ÔÔt u
;
ÔÔu v
}
ÕÕ 
catch
ÖÖ 
(
ÖÖ (
RegexMatchTimeoutException
ÖÖ -
ex
ÖÖ. 0
)
ÖÖ0 1
{
×× %
ExceptionHandlerForLogs
ØØ '
.
ØØ' (
LogException
ØØ( 4
(
ØØ4 5
ex
ØØ5 7
,
ØØ7 8!
ExceptionDictionary
ØØ9 L
.
ØØL M
ERROR
ØØM R
)
ØØR S
;
ØØS T
return
ÙÙ 
false
ÙÙ 
;
ÙÙ 
}
ÚÚ 
}
ÛÛ 	
private
ÜÜ 
int
ÜÜ !
CheckEmailExistence
ÜÜ '
(
ÜÜ' (
string
ÜÜ( .
email
ÜÜ/ 4
)
ÜÜ4 5
{
ÝÝ 	
try
ÞÞ 
{
ßß )
ValidateUserExistanceClient
àà +
dataCheckerProxy
àà, <
=
àà= >
new
àà? B
(
ààB C
)
ààC D
;
ààD E
GenericClassOfint
áá !
	userIsNew
áá" +
=
áá, -
dataCheckerProxy
áá. >
.
áá> ?
EmailAlreadyExist
áá? P
(
ááP Q
email
ááQ V
)
ááV W
;
ááW X
dataCheckerProxy
ââ  
.
ââ  !
Close
ââ! &
(
ââ& '
)
ââ' (
;
ââ( )
if
ãã 
(
ãã 
	userIsNew
ãã 
.
ãã 
	CodeEvent
ãã '
==
ãã( *!
ExceptionDictionary
ãã+ >
.
ãã> ?
SUCCESFULL_EVENT
ãã? O
||
ããP R
	userIsNew
ããS \
.
ãã\ ]
	CodeEvent
ãã] f
==
ããg i!
ExceptionDictionary
ããj }
.
ãã} ~!
UNSUCCESFULL_EVENTãã~ 
)ãã 
{
ää 
if
åå 
(
åå 
	userIsNew
åå !
.
åå! "
ObjectSaved
åå" -
==
åå. 0
ALLOWED_VALUES
åå1 ?
)
åå? @
{
ææ 
return
çç 
ALLOWED_VALUES
çç -
;
çç- .
}
èè 
else
éé 
{
êê 
return
ëë 
DISALLOWED_VALUES
ëë 0
;
ëë0 1
}
ìì 
}
íí 
else
îî 
{
ïï 
return
ðð 
DISALLOWED_VALUES
ðð ,
;
ðð, -
}
ññ 
}
òò 
catch
óó 
(
óó '
EndpointNotFoundException
óó ,
)
óó, -
{
ôô 
throw
õõ 
new
õõ '
EndpointNotFoundException
õõ 3
(
õõ3 4
)
õõ4 5
;
õõ5 6
}
öö 
catch
÷÷ 
(
÷÷ 1
#CommunicationObjectFaultedException
÷÷ 6
)
÷÷6 7
{
øø 
throw
ùù 
new
ùù $
CommunicationException
ùù 0
(
ùù0 1
)
ùù1 2
;
ùù2 3
}
úú 
catch
ûû 
(
ûû 
TimeoutException
ûû #
)
ûû# $
{
üü 
throw
ýý 
new
ýý 
TimeoutException
ýý *
(
ýý* +
)
ýý+ ,
;
ýý, -
}
þþ 
catch
ÿÿ 
(
ÿÿ $
CommunicationException
ÿÿ )
)
ÿÿ) *
{
 
throw
 
new
 $
CommunicationException
 0
(
0 1
)
1 2
;
2 3
}
 
catch
 
(
 
SocketException
 "
)
" #
{
 
throw
 
new
 
SocketException
 )
(
) *
)
* +
;
+ ,
}
 
}
 	
}
 
} Ñ
oC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\CodeConfirmation.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
CodeConfirmation )
:* +
Page, 0
,0 1$
ICheckUserLivingCallback2 J
{ 
private   
UserSingleton   
userSingleton   +
=  , -
UserSingleton  . ;
.  ; <
GetMainUser  < G
(  G H
)  H I
;  I J
public!! 
const!! 
int!! 
NULL_INT_VALUE!! '
=!!( )
$num!!* +
;!!+ ,
private"" 
DispatcherTimer"" 
timer""  %
;""% &
private## 
int## 
leftTime## 
;## 
private$$ 
String$$ 
password$$ 
;$$  
private%% 
UserPojo%% 

userToSave%% #
;%%# $
private&& 
bool&& 
isTimerExpired&& #
=&&$ %
false&&& +
;&&+ ,
public(( 
CodeConfirmation(( 
(((  
UserPojo((  (
user(() -
)((- .
{)) 	
InitializeComponent++ 
(++  
)++  !
;++! "
this,, 
.,, 

userToSave,, 
=,, 
user,, "
;,," #
password-- 
=-- 
user-- 
.-- 
Password-- $
;--$ %
txbCodeCreateAcc.. 
... 
	MaxLength.. &
=..' (
$num..) *
;..* +
Loaded// 
+=// 
LoadedPrepareWindow// )
;//) *
}00 	
private22 
void22 
LoadedPrepareWindow22 (
(22( )
object22) /
sender220 6
,226 7
RoutedEventArgs228 G
e22H I
)22I J
{33 	%
RegistryWithTheDictionary44 %
(44% &
)44& '
;44' (
	SentEmail55 
(55 
)55 
;55 

StartTimer66 
(66 
)66 
;66 
}77 	
private99 
void99 %
RegistryWithTheDictionary99 .
(99. /
)99/ 0
{:: 	
try;; 
{<< '
UserCreateAccountCodeClient== +
userCreateAccount==, =
===> ?
new==@ C
(==C D
)==D E
;==E F
userCreateAccount>> !
.>>! "+
AddUserToConfirmationDictionary>>" A
(>>A B

userToSave>>B L
)>>L M
;>>M N
InstanceContext?? 
instanceContext??  /
=??0 1
new??2 5
InstanceContext??6 E
(??E F
this??F J
)??J K
;??K L!
CheckUserLivingClient@@ %!
checkUserLivingClient@@& ;
=@@< =
new@@> A
(@@A B
instanceContext@@B Q
)@@Q R
;@@R S
varAA 
successAA 
=AA !
checkUserLivingClientAA 3
.AA3 4'
SubscribeToICheckUserLivingAA4 O
(AAO P

userToSaveAAP Z
)AAZ [
;AA[ \
ifBB 
(BB 
successBB 
!=BB 
ExceptionDictionaryBB 2
.BB2 3
SUCCESFULL_EVENTBB3 C
)BBC D
{CC 
DialogWindowManagerDD '
.DD' (!
ShowInfoOrErrorWindowDD( =
(DD= >

PropertiesDD> H
.DDH I
	ResourcesDDI R
.DDR S
txbErrorTitleDDS `
,DD` a

PropertiesDDb l
.DDl m
	ResourcesDDm v
.DDv w&
lblFailRegistryToCallBack	DDw 
,
DD 
Application
DD 
.
DD 
Current
DD ¥
.
DD¥ ¦

MainWindow
DD¦ °
,
DD° ±!
DialogWindowManager
DD² Å
.
DDÅ Æ
ERROR
DDÆ Ë
)
DDË Ì
;
DDÌ Í#
ClickButtonCancelSavingEE +
(EE+ ,
bttCancellActionEE, <
,EE< =
newEE> A
RoutedEventArgsEEB Q
(EEQ R
)EER S
)EES T
;EET U
}FF 
}GG 
catchHH 
(HH %
EndpointNotFoundExceptionHH ,
exHH- /
)HH/ 0
{II 
HandleExceptionJJ 
(JJ  
exJJ  "
,JJ" #

PropertiesJJ$ .
.JJ. /
	ResourcesJJ/ 8
.JJ8 9
lblEndPointNotFoundJJ9 L
)JJL M
;JJM N#
ClickButtonCancelSavingKK '
(KK' (
bttCancellActionKK( 8
,KK8 9
newKK: =
RoutedEventArgsKK> M
(KKM N
)KKN O
)KKO P
;KKP Q
}LL 
catchMM 
(MM /
#CommunicationObjectFaultedExceptionMM 6
exMM7 9
)MM9 :
{NN 
HandleExceptionOO 
(OO  
exOO  "
,OO" #

PropertiesOO$ .
.OO. /
	ResourcesOO/ 8
.OO8 9$
lblComunicationExceptionOO9 Q
)OOQ R
;OOR S#
ClickButtonCancelSavingPP '
(PP' (
bttCancellActionPP( 8
,PP8 9
newPP: =
RoutedEventArgsPP> M
(PPM N
)PPN O
)PPO P
;PPP Q
}QQ 
catchRR 
(RR 
TimeoutExceptionRR #
exRR$ &
)RR& '
{SS 
HandleExceptionTT 
(TT  
exTT  "
,TT" #

PropertiesTT$ .
.TT. /
	ResourcesTT/ 8
.TT8 9
lblTimeExceptionTT9 I
)TTI J
;TTJ K#
ClickButtonCancelSavingUU '
(UU' (
bttCancellActionUU( 8
,UU8 9
newUU: =
RoutedEventArgsUU> M
(UUM N
)UUN O
)UUO P
;UUP Q
}VV 
catchWW 
(WW "
CommunicationExceptionWW )
exWW* ,
)WW, -
{XX 
HandleExceptionYY 
(YY  
exYY  "
,YY" #

PropertiesYY$ .
.YY. /
	ResourcesYY/ 8
.YY8 9
lblWithoutConectionYY9 L
)YYL M
;YYM N#
ClickButtonCancelSavingZZ '
(ZZ' (
bttCancellActionZZ( 8
,ZZ8 9
newZZ: =
RoutedEventArgsZZ> M
(ZZM N
)ZZN O
)ZZO P
;ZZP Q
}[[ 
catch\\ 
(\\ 
SocketException\\ "
ex\\# %
)\\% &
{]] 
HandleException^^ 
(^^  
ex^^  "
,^^" #

Properties^^$ .
.^^. /
	Resources^^/ 8
.^^8 9#
lblFailtToEnterTheLobby^^9 P
)^^P Q
;^^Q R#
ClickButtonCancelSaving__ '
(__' (
bttCancellAction__( 8
,__8 9
new__: =
RoutedEventArgs__> M
(__M N
)__N O
)__O P
;__P Q
}`` 
}aa 	
privatecc 
voidcc 

StartTimercc 
(cc  
)cc  !
{dd 	
leftTimeee 
=ee 
$numee 
;ee 
timerff 
=ff 
newff 
DispatcherTimerff '
(ff' (
)ff( )
;ff) *
timergg 
.gg 
Intervalgg 
=gg 
TimeSpangg %
.gg% &
FromSecondsgg& 1
(gg1 2
$numgg2 3
)gg3 4
;gg4 5
timerhh 
.hh 
Tickhh 
+=hh 
TickTimerResendCodehh -
;hh- .
bttResendCodeii 
.ii 
	IsEnabledii #
=ii$ %
falseii& +
;ii+ ,
timerjj 
.jj 
Startjj 
(jj 
)jj 
;jj 
}kk 	
privatemm 
voidmm 
TickTimerResendCodemm (
(mm( )
objectmm) /
sendermm0 6
,mm6 7
	EventArgsmm8 A
emmB C
)mmC D
{nn 	
ifoo 
(oo 
leftTimeoo 
>oo 
NULL_INT_VALUEoo )
)oo) *
{pp 
leftTimeqq 
--qq 
;qq 
lblResentCoderr 
.rr 
Contentrr %
=rr& '

Propertiesrr( 2
.rr2 3
	Resourcesrr3 <
.rr< =
lblResentCoderr= J
+rrK L
$strrrM P
+rrQ R
leftTimerrS [
;rr[ \
lblResentCodess 
.ss 

Foregroundss (
=ss) *
newss+ .
SolidColorBrushss/ >
(ss> ?
Colorsss? E
.ssE F
	IndianRedssF O
)ssO P
;ssP Q
}tt 
elseuu 
{vv 
lblResentCodeww 
.ww 
Contentww %
=ww& '

Propertiesww( 2
.ww2 3
	Resourcesww3 <
.ww< =
lblResentCodeww= J
+wwK L
$strwwM P
+wwQ R
leftTimewwS [
;ww[ \
lblResentCodexx 
.xx 

Foregroundxx (
=xx) *
newxx+ .
SolidColorBrushxx/ >
(xx> ?
Colorsxx? E
.xxE F
ForestGreenxxF Q
)xxQ R
;xxR S
bttResendCodeyy 
.yy 
	IsEnabledyy '
=yy( )
trueyy* .
;yy. /
timerzz 
.zz 
Stopzz 
(zz 
)zz 
;zz 
isTimerExpired{{ 
={{  
true{{! %
;{{% &
UpdateLabelStyle||  
(||  !
)||! "
;||" #
}}} 
}~~ 	
private
 
void
 
	SentEmail
 
(
 
)
  
{
 	
try
 
{
 &
EmailSenderManagerClient
 (
emailSender
) 4
=
5 6
new
7 :&
EmailSenderManagerClient
; S
(
S T
)
T U
;
U V
GenericClassOfint
 !
sentEmailSucc
" /
=
0 1
emailSender
2 =
.
= >2
$SentEmailConfirmationToCreateAccount
> b
(
b c

userToSave
" ,
,
, -

Properties
. 8
.
8 9
	Resources
9 B
.
B C
EmailSubjectCode
C S
,
S T

Properties
U _
.
_ `
	Resources
` i
.
i j
EmailCodeDescrip
j z
)
z {
;
{ |
if
 
(
 
sentEmailSucc
 !
.
! "
	CodeEvent
" +
!=
, .!
ExceptionDictionary
/ B
.
B C
SUCCESFULL_EVENT
C S
)
S T
{
 !
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbErrorTitle
S `
,
` a

Properties
b l
.
l m
	Resources
m v
.
v w
SentEmailIssuew 
, 
Application 
. 
Current 
. 

MainWindow ¥
,¥ ¦#
DialogWindowManager§ º
.º »
ERROR» À
)À Á
;Á Â
}
 
if
 
(
 
sentEmailSucc
 !
.
! "
ObjectSaved
" -
==
. 0
NULL_INT_VALUE
1 ?
)
? @
{
 !
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbErrorTitle
S `
,
` a

Properties
b l
.
l m
	Resources
m v
.
v w
SentEmailIssuew 
, 
Application 
. 
Current 
. 

MainWindow ¥
,¥ ¦#
DialogWindowManager§ º
.º »
ERROR» À
)À Á
;Á Â
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblEndPointNotFound
9 L
)
L M
;
M N
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblComunicationException
9 Q
)
Q R
;
R S
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9
lblTimeException
9 I
)
I J
;
J K
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWithoutConection
9 L
)
L M
;
M N
}
 
catch
   
(
   
SocketException
   "
ex
  # %
)
  % &
{
¡¡ 
HandleException
¢¢ 
(
¢¢  
ex
¢¢  "
,
¢¢" #

Properties
¢¢$ .
.
¢¢. /
	Resources
¢¢/ 8
.
¢¢8 9%
lblFailtToEnterTheLobby
¢¢9 P
)
¢¢P Q
;
¢¢Q R
}
££ 
}
¤¤ 	
private
¦¦ 
void
¦¦ !
ClickButtonSaveUser
¦¦ (
(
¦¦( )
object
¦¦) /
sender
¦¦0 6
,
¦¦6 7
RoutedEventArgs
¦¦8 G
e
¦¦H I
)
¦¦I J
{
§§ 	
try
¨¨ 
{
©© )
UserCreateAccountCodeClient
ªª +
userCreateAccount
ªª, =
=
ªª> ?
new
ªª@ C
(
ªªC D
)
ªªD E
;
ªªE F
if
«« 
(
«« 
userCreateAccount
«« %
.
««% &
CheckCodeEntered
««& 6
(
««6 7

userToSave
««7 A
,
««A B
txbCodeCreateAcc
««C S
.
««S T
Text
««T X
.
««X Y
ToString
««Y a
(
««a b
)
««b c
.
««c d
Trim
««d h
(
««h i
)
««i j
)
««j k
==
««l n"
ExceptionDictionary««o 
.««  
SUCCESFULL_EVENT«« 
)«« 
{
¬¬ "
PrepareUserToBeSaved
­­ (
(
­­( )
)
­­) *
;
­­* +
UserManagerClient
®® %
userManagerProxy
®®& 6
=
®®7 8
new
®®9 <
UserManagerClient
®®= N
(
®®N O
)
®®O P
;
®®P Q
GenericClassOfint
¯¯ %
	userSaved
¯¯& /
=
¯¯0 1
userManagerProxy
¯¯2 B
.
¯¯B C
SaveUser
¯¯C K
(
¯¯K L

userToSave
¯¯L V
,
¯¯V W
txbCodeCreateAcc
¯¯X h
.
¯¯h i
Text
¯¯i m
.
¯¯m n
ToString
¯¯n v
(
¯¯v w
)
¯¯w x
.
¯¯x y
Trim
¯¯y }
(
¯¯} ~
)
¯¯~ 
)¯¯ 
;¯¯ 
if
°° 
(
°° 
	userSaved
°° !
.
°°! "
	CodeEvent
°°" +
==
°°, .!
ExceptionDictionary
°°/ B
.
°°B C
SUCCESFULL_EVENT
°°C S
)
°°S T
{
±± 
SetSingleton
²² $
(
²²$ %
)
²²% &
;
²²& '&
NotifyUserABoutNewPlayer
³³ 0
(
³³0 1
)
³³1 2
;
³³2 3!
DialogWindowManager
´´ +
.
´´+ ,#
ShowInfoOrErrorWindow
´´, A
(
´´A B

Properties
´´B L
.
´´L M
	Resources
´´M V
.
´´V W!
txbInformationTitle
´´W j
,
´´j k

Properties
´´l v
.
´´v w
	Resources´´w 
.´´ '
txbInfoMessgSuccRegUser´´ 
,´´ 
Application´´ ¥
.´´¥ ¦
Current´´¦ ­
.´´­ ®

MainWindow´´® ¸
,´´¸ ¹#
DialogWindowManager´´º Í
.´´Í Î
INFORMATION´´Î Ù
)´´Ù Ú
;´´Ú Û
MainMenu
µµ  
mainMenu
µµ! )
=
µµ* +
new
µµ, /
MainMenu
µµ0 8
(
µµ8 9
)
µµ9 :
;
µµ: ;
this
¶¶ 
.
¶¶ 
NavigationService
¶¶ .
.
¶¶. /
Navigate
¶¶/ 7
(
¶¶7 8
mainMenu
¶¶8 @
)
¶¶@ A
;
¶¶A B
NavigationService
·· )
.
··) *
RemoveBackEntry
··* 9
(
··9 :
)
··: ;
;
··; <
}
¸¸ 
else
¹¹ 
{
ºº 

userToSave
»» "
.
»»" #
Password
»»# +
=
»», -
this
»». 2
.
»»2 3
password
»»3 ;
;
»»; <!
DialogWindowManager
¼¼ +
.
¼¼+ ,#
ShowInfoOrErrorWindow
¼¼, A
(
¼¼A B

Properties
¼¼B L
.
¼¼L M
	Resources
¼¼M V
.
¼¼V W
txbErrorTitle
¼¼W d
,
¼¼d e

Properties
¼¼f p
.
¼¼p q
	Resources
¼¼q z
.
¼¼z {*
txbErrorMessageRegisterUser¼¼{ 
,¼¼ 
Application¼¼ £
.¼¼£ ¤
Current¼¼¤ «
.¼¼« ¬

MainWindow¼¼¬ ¶
,¼¼¶ ·#
DialogWindowManager¼¼¸ Ë
.¼¼Ë Ì
ERROR¼¼Ì Ñ
)¼¼Ñ Ò
;¼¼Ò Ó
}
½½ 
}
¾¾ 
else
¿¿ 
{
ÀÀ 
txbWrongCode
ÁÁ  
.
ÁÁ  !

Visibility
ÁÁ! +
=
ÁÁ, -

Visibility
ÁÁ. 8
.
ÁÁ8 9
Visible
ÁÁ9 @
;
ÁÁ@ A
}
ÂÂ 
}
ÃÃ 
catch
ÄÄ 
(
ÄÄ '
EndpointNotFoundException
ÄÄ ,
ex
ÄÄ- /
)
ÄÄ/ 0
{
ÅÅ 
HandleException
ÆÆ 
(
ÆÆ  
ex
ÆÆ  "
,
ÆÆ" #

Properties
ÆÆ$ .
.
ÆÆ. /
	Resources
ÆÆ/ 8
.
ÆÆ8 9!
lblEndPointNotFound
ÆÆ9 L
)
ÆÆL M
;
ÆÆM N
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ 1
#CommunicationObjectFaultedException
ÈÈ 6
ex
ÈÈ7 9
)
ÈÈ9 :
{
ÉÉ 
HandleException
ÊÊ 
(
ÊÊ  
ex
ÊÊ  "
,
ÊÊ" #

Properties
ÊÊ$ .
.
ÊÊ. /
	Resources
ÊÊ/ 8
.
ÊÊ8 9&
lblComunicationException
ÊÊ9 Q
)
ÊÊQ R
;
ÊÊR S
}
ËË 
catch
ÌÌ 
(
ÌÌ 
TimeoutException
ÌÌ #
ex
ÌÌ$ &
)
ÌÌ& '
{
ÍÍ 
HandleException
ÎÎ 
(
ÎÎ  
ex
ÎÎ  "
,
ÎÎ" #

Properties
ÎÎ$ .
.
ÎÎ. /
	Resources
ÎÎ/ 8
.
ÎÎ8 9
lblTimeException
ÎÎ9 I
)
ÎÎI J
;
ÎÎJ K
}
ÏÏ 
catch
ÐÐ 
(
ÐÐ $
CommunicationException
ÐÐ )
ex
ÐÐ* ,
)
ÐÐ, -
{
ÑÑ 
HandleException
ÒÒ 
(
ÒÒ  
ex
ÒÒ  "
,
ÒÒ" #

Properties
ÒÒ$ .
.
ÒÒ. /
	Resources
ÒÒ/ 8
.
ÒÒ8 9!
lblWithoutConection
ÒÒ9 L
)
ÒÒL M
;
ÒÒM N
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
SocketException
ÔÔ "
ex
ÔÔ# %
)
ÔÔ% &
{
ÕÕ 
HandleException
ÖÖ 
(
ÖÖ  
ex
ÖÖ  "
,
ÖÖ" #

Properties
ÖÖ$ .
.
ÖÖ. /
	Resources
ÖÖ/ 8
.
ÖÖ8 9%
lblFailtToEnterTheLobby
ÖÖ9 P
)
ÖÖP Q
;
ÖÖQ R
}
×× 
}
ØØ 	
private
ÚÚ 
void
ÚÚ 
ClickResendCode
ÚÚ $
(
ÚÚ$ %
object
ÚÚ% +
sender
ÚÚ, 2
,
ÚÚ2 3
RoutedEventArgs
ÚÚ4 C
e
ÚÚD E
)
ÚÚE F
{
ÛÛ 	
if
ÜÜ 
(
ÜÜ 
leftTime
ÜÜ 
==
ÜÜ 
NULL_INT_VALUE
ÜÜ *
)
ÜÜ* +
{
ÝÝ 
try
ÞÞ 
{
ßß )
UserCreateAccountCodeClient
àà /
userCreateAccount
àà0 A
=
ààB C
new
ààD G
(
ààG H
)
ààH I
;
ààI J
if
áá 
(
áá 
userCreateAccount
áá )
.
áá) *

ResendCode
áá* 4
(
áá4 5

userToSave
áá5 ?
)
áá? @
==
ááA C!
ExceptionDictionary
ááD W
.
ááW X
SUCCESFULL_EVENT
ááX h
)
ááh i
{
ââ 
	SentEmail
ãã !
(
ãã! "
)
ãã" #
;
ãã# $

StartTimer
ää "
(
ää" #
)
ää# $
;
ää$ %
}
åå 
else
ææ 
{
çç !
DialogWindowManager
èè +
.
èè+ ,#
ShowInfoOrErrorWindow
èè, A
(
èèA B

Properties
èèB L
.
èèL M
	Resources
èèM V
.
èèV W
txbErrorTitle
èèW d
,
èèd e

Properties
èèf p
.
èèp q
	Resources
èèq z
.
èèz {(
lblFailRegistryToCallBackèè{ 
,èè 
Applicationèè ¡
.èè¡ ¢
Currentèè¢ ©
.èè© ª

MainWindowèèª ´
,èè´ µ#
DialogWindowManagerèè¶ É
.èèÉ Ê
ERRORèèÊ Ï
)èèÏ Ð
;èèÐ Ñ
}
éé 
}
êê 
catch
ëë 
(
ëë '
EndpointNotFoundException
ëë 0
ex
ëë1 3
)
ëë3 4
{
ìì 
HandleException
íí #
(
íí# $
ex
íí$ &
,
íí& '

Properties
íí( 2
.
íí2 3
	Resources
íí3 <
.
íí< =!
lblEndPointNotFound
íí= P
)
ííP Q
;
ííQ R%
ClickButtonCancelSaving
îî +
(
îî+ ,
bttCancellAction
îî, <
,
îî< =
new
îî> A
RoutedEventArgs
îîB Q
(
îîQ R
)
îîR S
)
îîS T
;
îîT U
}
ïï 
catch
ðð 
(
ðð 1
#CommunicationObjectFaultedException
ðð :
ex
ðð; =
)
ðð= >
{
ññ 
HandleException
òò #
(
òò# $
ex
òò$ &
,
òò& '

Properties
òò( 2
.
òò2 3
	Resources
òò3 <
.
òò< =&
lblComunicationException
òò= U
)
òòU V
;
òòV W%
ClickButtonCancelSaving
óó +
(
óó+ ,
bttCancellAction
óó, <
,
óó< =
new
óó> A
RoutedEventArgs
óóB Q
(
óóQ R
)
óóR S
)
óóS T
;
óóT U
}
ôô 
catch
õõ 
(
õõ 
TimeoutException
õõ '
ex
õõ( *
)
õõ* +
{
öö 
HandleException
÷÷ #
(
÷÷# $
ex
÷÷$ &
,
÷÷& '

Properties
÷÷( 2
.
÷÷2 3
	Resources
÷÷3 <
.
÷÷< =
lblTimeException
÷÷= M
)
÷÷M N
;
÷÷N O%
ClickButtonCancelSaving
øø +
(
øø+ ,
bttCancellAction
øø, <
,
øø< =
new
øø> A
RoutedEventArgs
øøB Q
(
øøQ R
)
øøR S
)
øøS T
;
øøT U
}
ùù 
catch
úú 
(
úú $
CommunicationException
úú -
ex
úú. 0
)
úú0 1
{
ûû 
HandleException
üü #
(
üü# $
ex
üü$ &
,
üü& '

Properties
üü( 2
.
üü2 3
	Resources
üü3 <
.
üü< =!
lblWithoutConection
üü= P
)
üüP Q
;
üüQ R%
ClickButtonCancelSaving
ýý +
(
ýý+ ,
bttCancellAction
ýý, <
,
ýý< =
new
ýý> A
RoutedEventArgs
ýýB Q
(
ýýQ R
)
ýýR S
)
ýýS T
;
ýýT U
}
þþ 
catch
ÿÿ 
(
ÿÿ 
SocketException
ÿÿ &
ex
ÿÿ' )
)
ÿÿ) *
{
 
HandleException
 #
(
# $
ex
$ &
,
& '

Properties
( 2
.
2 3
	Resources
3 <
.
< =%
lblFailtToEnterTheLobby
= T
)
T U
;
U V%
ClickButtonCancelSaving
 +
(
+ ,
bttCancellAction
, <
,
< =
new
> A
RoutedEventArgs
B Q
(
Q R
)
R S
)
S T
;
T U
}
 
}
 
}
 	
private
 
void
 "
PrepareUserToBeSaved
 )
(
) *
)
* +
{
 	
String
 
encryptedPassword
 $
=
% &
EncryptionClass
' 6
.
6 7
EncryptPassword
7 F
(
F G

userToSave
G Q
.
Q R
Password
R Z
.
Z [
ToString
[ c
(
c d
)
d e
.
e f
Trim
f j
(
j k
)
k l
)
l m
;
m n

userToSave
 
.
 
Password
 
=
  !
encryptedPassword
" 3
;
3 4

userToSave
 
.
 
IdUser
 
=
 
NULL_INT_VALUE
  .
;
. /
}
 	
private
 
void
 &
NotifyUserABoutNewPlayer
 -
(
- .
)
. /
{
 	
try
 
{
 1
#FriendManagerActionOperationsClient
 3*
managerActionOperationsProxy
4 P
=
Q R
new
S V
(
V W
)
W X
;
X Y*
managerActionOperationsProxy
 ,
.
, -&
NotifyUserAboutNewPlayer
- E
(
E F
userSingleton
F S
.
S T
IdUser
T Z
,
Z [
userSingleton
\ i
.
i j
UserName
j r
)
r s
;
s t
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
}
   
catch
¡¡ 
(
¡¡ $
CommunicationException
¡¡ )
ex
¡¡* ,
)
¡¡, -
{
¢¢ %
ExceptionHandlerForLogs
££ '
.
££' (
LogException
££( 4
(
££4 5
ex
££5 7
,
££7 8!
ExceptionDictionary
££9 L
.
££L M
FATAL_EXCEPTION
££M \
)
££\ ]
;
££] ^
}
¤¤ 
catch
¥¥ 
(
¥¥ 
SocketException
¥¥ "
ex
¥¥# %
)
¥¥% &
{
¦¦ %
ExceptionHandlerForLogs
§§ '
.
§§' (
LogException
§§( 4
(
§§4 5
ex
§§5 7
,
§§7 8!
ExceptionDictionary
§§9 L
.
§§L M
FATAL_EXCEPTION
§§M \
)
§§\ ]
;
§§] ^
}
¨¨ 
}
©© 	
private
­­ 
void
­­ %
ClickButtonCancelSaving
­­ ,
(
­­, -
object
­­- 3
sender
­­4 :
,
­­: ;
RoutedEventArgs
­­< K
e
­­L M
)
­­M N
{
®® 	
try
¯¯ 
{
°° 
if
±± 
(
±± 
timer
±± 
!=
±± 
null
±± !
)
±±! "
{
²² 
timer
³³ 
.
³³ 
Stop
³³ 
(
³³ 
)
³³  
;
³³  !
}
´´ )
UserCreateAccountCodeClient
µµ +
userCreateAccount
µµ, =
=
µµ> ?
new
µµ@ C
(
µµC D
)
µµD E
;
µµE F
userCreateAccount
¶¶ !
.
¶¶! "%
TakeUserOutOfDictionary
¶¶" 9
(
¶¶9 :

userToSave
¶¶: D
)
¶¶D E
;
¶¶E F.
 CheckUserLivingUnsubscribeClient
·· 0#
checkUserLivingClient
··1 F
=
··G H
new
··I L
(
··L M
)
··M N
;
··N O#
checkUserLivingClient
¸¸ %
.
¸¸% &-
UnsubscribeFromICheckUserLiving
¸¸& E
(
¸¸E F

userToSave
¸¸F P
)
¸¸P Q
;
¸¸Q R
}
¹¹ 
catch
ºº 
(
ºº '
EndpointNotFoundException
ºº ,
ex
ºº- /
)
ºº/ 0
{
»» %
ExceptionHandlerForLogs
¼¼ '
.
¼¼' (
LogException
¼¼( 4
(
¼¼4 5
ex
¼¼5 7
,
¼¼7 8!
ExceptionDictionary
¼¼9 L
.
¼¼L M
FATAL_EXCEPTION
¼¼M \
)
¼¼\ ]
;
¼¼] ^
}
½½ 
catch
¾¾ 
(
¾¾ 1
#CommunicationObjectFaultedException
¾¾ 6
ex
¾¾7 9
)
¾¾9 :
{
¿¿ %
ExceptionHandlerForLogs
ÀÀ '
.
ÀÀ' (
LogException
ÀÀ( 4
(
ÀÀ4 5
ex
ÀÀ5 7
,
ÀÀ7 8!
ExceptionDictionary
ÀÀ9 L
.
ÀÀL M
FATAL_EXCEPTION
ÀÀM \
)
ÀÀ\ ]
;
ÀÀ] ^
}
ÁÁ 
catch
ÂÂ 
(
ÂÂ 
TimeoutException
ÂÂ #
ex
ÂÂ$ &
)
ÂÂ& '
{
ÃÃ %
ExceptionHandlerForLogs
ÄÄ '
.
ÄÄ' (
LogException
ÄÄ( 4
(
ÄÄ4 5
ex
ÄÄ5 7
,
ÄÄ7 8!
ExceptionDictionary
ÄÄ9 L
.
ÄÄL M
FATAL_EXCEPTION
ÄÄM \
)
ÄÄ\ ]
;
ÄÄ] ^
}
ÅÅ 
catch
ÆÆ 
(
ÆÆ $
CommunicationException
ÆÆ )
ex
ÆÆ* ,
)
ÆÆ, -
{
ÇÇ %
ExceptionHandlerForLogs
ÈÈ '
.
ÈÈ' (
LogException
ÈÈ( 4
(
ÈÈ4 5
ex
ÈÈ5 7
,
ÈÈ7 8!
ExceptionDictionary
ÈÈ9 L
.
ÈÈL M
FATAL_EXCEPTION
ÈÈM \
)
ÈÈ\ ]
;
ÈÈ] ^
}
ÉÉ 
catch
ÊÊ 
(
ÊÊ 
SocketException
ÊÊ "
ex
ÊÊ# %
)
ÊÊ% &
{
ËË %
ExceptionHandlerForLogs
ÌÌ '
.
ÌÌ' (
LogException
ÌÌ( 4
(
ÌÌ4 5
ex
ÌÌ5 7
,
ÌÌ7 8!
ExceptionDictionary
ÌÌ9 L
.
ÌÌL M
FATAL_EXCEPTION
ÌÌM \
)
ÌÌ\ ]
;
ÌÌ] ^
}
ÍÍ 
UserSingleton
ÎÎ 
.
ÎÎ 
CleanSingleton
ÎÎ (
(
ÎÎ( )
)
ÎÎ) *
;
ÎÎ* +
UserRegister
ÏÏ 
userToRegister
ÏÏ '
=
ÏÏ( )
new
ÏÏ* -
UserRegister
ÏÏ. :
(
ÏÏ: ;
)
ÏÏ; <
;
ÏÏ< =
this
ÐÐ 
.
ÐÐ 
NavigationService
ÐÐ "
.
ÐÐ" #
Navigate
ÐÐ# +
(
ÐÐ+ ,
userToRegister
ÐÐ, :
)
ÐÐ: ;
;
ÐÐ; <
userToRegister
ÑÑ 
.
ÑÑ 

LoadFields
ÑÑ %
(
ÑÑ% &

userToSave
ÑÑ& 0
)
ÑÑ0 1
;
ÑÑ1 2
NavigationService
ÒÒ 
.
ÒÒ 
RemoveBackEntry
ÒÒ -
(
ÒÒ- .
)
ÒÒ. /
;
ÒÒ/ 0
}
ÓÓ 	
private
ÖÖ 
void
ÖÖ $
EntryCodeCharValidator
ÖÖ +
(
ÖÖ+ ,
object
ÖÖ, 2
sender
ÖÖ3 9
,
ÖÖ9 :"
TextChangedEventArgs
ÖÖ; O
e
ÖÖP Q
)
ÖÖQ R
{
×× 	
if
ØØ 
(
ØØ 
txbCodeCreateAcc
ØØ  
.
ØØ  !
Text
ØØ! %
.
ØØ% &
Trim
ØØ& *
(
ØØ* +
)
ØØ+ ,
.
ØØ, -
Length
ØØ- 3
==
ØØ4 6
$num
ØØ7 8
)
ØØ8 9
{
ÙÙ 
bttSaveUser
ÚÚ 
.
ÚÚ 
	IsEnabled
ÚÚ %
=
ÚÚ& '
true
ÚÚ( ,
;
ÚÚ, -
}
ÛÛ 
else
ÜÜ 
{
ÝÝ 
bttSaveUser
ÞÞ 
.
ÞÞ 
	IsEnabled
ÞÞ %
=
ÞÞ% &
false
ÞÞ& +
;
ÞÞ+ ,
}
ßß 
}
àà 	
private
ââ 
void
ââ 
SetSingleton
ââ !
(
ââ! "
)
ââ" #
{
ãã 	
try
ää 
{
åå *
ConsultUserInformationClient
ææ ,&
consultInformationClient
ææ- E
=
ææF G
new
ææH K*
ConsultUserInformationClient
ææL h
(
ææh i
)
ææi j
;
ææj k
var
çç 
	userSaved
çç 
=
çç &
consultInformationClient
çç  8
.
çç8 9#
ConsultUserByUserName
çç9 N
(
ççN O

userToSave
ççO Y
.
ççY Z
UserName
ççZ b
)
ççb c
;
ççc d
if
èè 
(
èè 
	userSaved
èè 
.
èè 
	CodeEvent
èè '
==
èè( *!
ExceptionDictionary
èè+ >
.
èè> ?
SUCCESFULL_EVENT
èè? O
)
èèO P
{
éé 
var
êê 
playerSaved
êê #
=
êê$ %&
consultInformationClient
êê& >
.
êê> ?#
ConsultPlayerByIdUser
êê? T
(
êêT U
	userSaved
êêU ^
.
êê^ _
ObjectSaved
êê_ j
.
êêj k
IdUser
êêk q
)
êêq r
;
êêr s
if
ëë 
(
ëë 
playerSaved
ëë #
.
ëë# $
	CodeEvent
ëë$ -
==
ëë. 0!
ExceptionDictionary
ëë1 D
.
ëëD E
SUCCESFULL_EVENT
ëëE U
)
ëëU V
{
ìì 
UserSingleton
íí %
.
íí% &
CleanSingleton
íí& 4
(
íí4 5
)
íí5 6
;
íí6 7
userSingleton
îî %
=
îî& '
UserSingleton
îî( 5
.
îî5 6
GetMainUser
îî6 A
(
îîA B
	userSaved
îîB K
.
îîK L
ObjectSaved
îîL W
,
îîW X
playerSaved
îîY d
.
îîd e
ObjectSaved
îîe p
)
îîp q
;
îîq r-
AvailabilityUserManagmentClient
ïï 7'
availabilityUserManagment
ïï8 Q
=
ïïR S
new
ïïT W-
AvailabilityUserManagmentClient
ïïX w
(
ïïw x
)
ïïx y
;
ïïy z'
availabilityUserManagment
ðð 1
.
ðð1 2
PlayerIsAvailable
ðð2 C
(
ððC D
userSingleton
ððD Q
.
ððQ R
IdUser
ððR X
)
ððX Y
;
ððY Z
}
ññ 
else
òò 
{
óó !
DialogWindowManager
ôô +
.
ôô+ ,#
ShowInfoOrErrorWindow
ôô, A
(
ôôA B

Properties
ôôB L
.
ôôL M
	Resources
ôôM V
.
ôôV W
txbErrorTitle
ôôW d
,
ôôd e

Properties
ôôf p
.
ôôp q
	Resources
ôôq z
.
ôôz {%
lblFailConsultingTheBDôô{ 
,ôô 
Applicationôô 
.ôô 
Currentôô ¦
.ôô¦ §

MainWindowôô§ ±
,ôô± ²#
DialogWindowManagerôô³ Æ
.ôôÆ Ç
ERRORôôÇ Ì
)ôôÌ Í
;ôôÍ Î
}
õõ 
}
öö 
else
÷÷ 
{
øø !
DialogWindowManager
ùù '
.
ùù' (#
ShowInfoOrErrorWindow
ùù( =
(
ùù= >

Properties
ùù> H
.
ùùH I
	Resources
ùùI R
.
ùùR S
txbErrorTitle
ùùS `
,
ùù` a

Properties
ùùb l
.
ùùl m
	Resources
ùùm v
.
ùùv w%
lblFailConsultingTheBDùùw 
,ùù 
Applicationùù 
.ùù 
Currentùù ¢
.ùù¢ £

MainWindowùù£ ­
,ùù­ ®#
DialogWindowManagerùù¯ Â
.ùùÂ Ã
ERRORùùÃ È
)ùùÈ É
;ùùÉ Ê
}
úú 
}
ûû 
catch
üü 
(
üü '
EndpointNotFoundException
üü ,
ex
üü- /
)
üü/ 0
{
ýý 
HandleException
þþ 
(
þþ  
ex
þþ  "
,
þþ" #

Properties
þþ$ .
.
þþ. /
	Resources
þþ/ 8
.
þþ8 9/
!lblUserRegisteredButFailToconnect
þþ9 Z
)
þþZ [
;
þþ[ \%
ClickButtonCancelSaving
ÿÿ '
(
ÿÿ' (
bttCancellAction
ÿÿ( 8
,
ÿÿ8 9
new
ÿÿ: =
RoutedEventArgs
ÿÿ> M
(
ÿÿM N
)
ÿÿN O
)
ÿÿO P
;
ÿÿP Q
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9/
!lblUserRegisteredButFailToconnect
9 Z
)
Z [
;
[ \%
ClickButtonCancelSaving
 '
(
' (
bttCancellAction
( 8
,
8 9
new
: =
RoutedEventArgs
> M
(
M N
)
N O
)
O P
;
P Q
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9/
!lblUserRegisteredButFailToconnect
9 Z
)
Z [
;
[ \%
ClickButtonCancelSaving
 '
(
' (
bttCancellAction
( 8
,
8 9
new
: =
RoutedEventArgs
> M
(
M N
)
N O
)
O P
;
P Q
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9/
!lblUserRegisteredButFailToconnect
9 Z
)
Z [
;
[ \%
ClickButtonCancelSaving
 '
(
' (
bttCancellAction
( 8
,
8 9
new
: =
RoutedEventArgs
> M
(
M N
)
N O
)
O P
;
P Q
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9/
!lblUserRegisteredButFailToconnect
9 Z
)
Z [
;
[ \%
ClickButtonCancelSaving
 '
(
' (
bttCancellAction
( 8
,
8 9
new
: =
RoutedEventArgs
> M
(
M N
)
N O
)
O P
;
P Q
}
 
}
 	
public
 
bool
 
IsClientActive
 "
(
" #
)
# $
{
 	
return
 
(
 
(
 &
ICheckUserLivingCallback
 -
)
- .
userSingleton
. ;
)
; <
.
< =
IsClientActive
= K
(
K L
)
L M
;
M N
}
 	
private
 
void
 
HandleException
 $
(
$ %
	Exception
% .
ex
/ 1
,
1 2
string
3 9
errorMessage
: F
)
F G
{
 	%
ExceptionHandlerForLogs
 #
.
# $
LogException
$ 0
(
0 1
ex
1 3
,
3 4!
ExceptionDictionary
5 H
.
H I
FATAL_EXCEPTION
I X
)
X Y
;
Y Z!
DialogWindowManager
 
.
  #
ShowInfoOrErrorWindow
  5
(
5 6

Properties
6 @
.
@ A
	Resources
A J
.
J K
txbErrorTitle
K X
,
X Y
errorMessage
Z f
,
f g
Application
h s
.
s t
Current
t {
.
{ |

MainWindow| 
, #
DialogWindowManager 
. 
ERROR ¡
)¡ ¢
;¢ £
}
   	
private
¡¡ 
void
¡¡ 
UpdateLabelStyle
¡¡ %
(
¡¡% &
)
¡¡& '
{
¢¢ 	
if
££ 
(
££ 
isTimerExpired
££ 
)
££ 
{
¤¤ 
lblResentCode
¥¥ 
.
¥¥ 

FontWeight
¥¥ (
=
¥¥) *
FontWeights
¥¥+ 6
.
¥¥6 7
Bold
¥¥7 ;
;
¥¥; <
lblResentCode
¦¦ 
.
¦¦ 

Foreground
¦¦ (
=
¦¦) *
Brushes
¦¦+ 2
.
¦¦2 3
Red
¦¦3 6
;
¦¦6 7
}
§§ 
else
¨¨ 
{
©© 
lblResentCode
ªª 
.
ªª 

FontWeight
ªª (
=
ªª) *
FontWeights
ªª+ 6
.
ªª6 7
Normal
ªª7 =
;
ªª= >
lblResentCode
«« 
.
«« 

Foreground
«« (
=
««) *
Brushes
««+ 2
.
««2 3
DeepSkyBlue
««3 >
;
««> ?
}
¬¬ 
}
­­ 	
}
¯¯ 
}°° çñ
nC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\EditUserProfile.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public!! 

partial!! 
class!! 
EditUserProfile!! (
:!!) *
Page!!+ /
{"" 
String## 
imageResource## 
=## 
$str## !
;##! "
private$$ 

Dictionary$$ 
<$$ 
string$$ !
,$$! "
int$$# &
>$$& '
imageIdMappings$$( 7
;$$7 8
private%% 
const%% 
int%% 
DISALLOWED_VALUES%% +
=%%, -
$num%%. /
;%%/ 0
private&& 
const&& 
int&& 
ALLOWED_VALUES&& (
=&&) *
$num&&+ ,
;&&, -
public(( 
EditUserProfile(( 
((( 
)((  
{)) 	
InitializeComponent** 
(**  
)**  !
;**! "
Loaded++ 
+=++  
LoadedPreparedWindow++ *
;++* +
},, 	
private.. 
void..  
LoadedPreparedWindow.. )
(..) *
object..* 0
sender..1 7
,..7 8
RoutedEventArgs..9 H
e..I J
)..J K
{// 	#
InitializeImageMappings00 #
(00# $
)00$ %
;00% & 
ImagenInitialization11  
(11  !
)11! "
;11" #
ReadResource22 
(22 
)22 
;22 
DisplayUserInfo33 
(33 
)33 
;33 
}55 	
public77 
void77 
DisplayUserInfo77 #
(77# $
)77$ %
{88 	
txbEditUserName99 
.99 

IsReadOnly99 &
=99' (
true99) -
;99- .
UserSingleton:: 
userSingleton:: '
=::( )
UserSingleton::* 7
.::7 8
GetMainUser::8 C
(::C D
)::D E
;::E F
txbEditName;; 
.;; 
Text;; 
=;; 
userSingleton;; ,
.;;, -
Name;;- 1
;;;1 2
txbEditUserName<< 
.<< 
Text<<  
=<<! "
userSingleton<<# 0
.<<0 1
UserName<<1 9
;<<9 :
txbEditEmail== 
.== 
Text== 
=== 
userSingleton==  -
.==- .
Email==. 3
;==3 4
}>> 	
private@@ 
void@@ (
CLickButtonSaveAvatarChanges@@ 1
(@@1 2
object@@2 8
sender@@9 ?
,@@? @
RoutedEventArgs@@A P
e@@Q R
)@@R S
{AA 	
tryBB 
{CC 
UserManagerClientDD !
useManagerProxyDD" 1
=DD2 3
newDD4 7
UserManagerClientDD8 I
(DDI J
)DDJ K
;DDK L
intEE 
idPlayerEE 
=EE 
UserSingletonEE ,
.EE, -
GetMainUserEE- 8
(EE8 9
)EE9 :
.EE: ;
IdPlayerEE; C
;EEC D
imageIdMappingsFF 
.FF  
TryGetValueFF  +
(FF+ ,
imageResourceFF, 9
,FF9 :
outFF; >
intFF? B
imageIdFFC J
)FFJ K
;FFK L
varGG 
resultPhotoGG 
=GG  !
useManagerProxyGG" 1
.GG1 2
UpdatePlayerPhotoGG2 C
(GGC D
idPlayerGGD L
,GGL M
imageIdGGN U
)GGU V
;GGV W
ifII 
(II 
resultPhotoII 
!=II  "
nullII# '
)II' (
{JJ 
UserSingletonKK !
.KK! "
GetMainUserKK" -
(KK- .
)KK. /
.KK/ 0
UpdateAvatarDataKK0 @
(KK@ A
imageIdKKA H
)KKH I
;KKI J
DialogWindowManagerLL '
.LL' (!
ShowInfoOrErrorWindowLL( =
(LL= >

PropertiesLL> H
.LLH I
	ResourcesLLI R
.LLR S
txbInformationTitleLLS f
,LLf g

PropertiesLLh r
.LLr s
	ResourcesLLs |
.LL| }
lblUpdateAvatar	LL} 
,
LL 
Application
LL 
.
LL 
Current
LL ¡
.
LL¡ ¢

MainWindow
LL¢ ¬
,
LL¬ ­!
DialogWindowManager
LL® Á
.
LLÁ Â
INFORMATION
LLÂ Í
)
LLÍ Î
;
LLÎ Ï
MainMenuMM 
mainMenuPageMM )
=MM* +
newMM, /
MainMenuMM0 8
(MM8 9
)MM9 :
;MM: ;
thisNN 
.NN 
NavigationServiceNN *
.NN* +
NavigateNN+ 3
(NN3 4
mainMenuPageNN4 @
)NN@ A
;NNA B
NavigationServiceOO %
.OO% &
RemoveBackEntryOO& 5
(OO5 6
)OO6 7
;OO7 8
}PP 
elseQQ 
{RR 
DialogWindowManagerSS '
.SS' (!
ShowInfoOrErrorWindowSS( =
(SS= >

PropertiesSS> H
.SSH I
	ResourcesSSI R
.SSR S
txbErrorTitleSSS `
,SS` a

PropertiesSSb l
.SSl m
	ResourcesSSm v
.SSv w!
lblWrongUpdateAvatar	SSw 
,
SS 
Application
SS 
.
SS 
Current
SS  
.
SS  ¡

MainWindow
SS¡ «
,
SS« ¬!
DialogWindowManager
SS­ À
.
SSÀ Á
ERROR
SSÁ Æ
)
SSÆ Ç
;
SSÇ È
RefreshWindowTT !
(TT! "
)TT" #
;TT# $
}UU 
useManagerProxyVV 
.VV  
CloseVV  %
(VV% &
)VV& '
;VV' (
}WW 
catchXX 
(XX %
EndpointNotFoundExceptionXX ,
exXX- /
)XX/ 0
{YY 
HandleExceptionZZ 
(ZZ  
exZZ  "
,ZZ" #

PropertiesZZ$ .
.ZZ. /
	ResourcesZZ/ 8
.ZZ8 9 
lblWrongUpdateAvatarZZ9 M
+ZZN O
$strZZP U
+ZZV W

PropertiesZZX b
.ZZb c
	ResourcesZZc l
.ZZl m 
lblEndPointNotFound	ZZm 
)
ZZ 
;
ZZ 
}[[ 
catch\\ 
(\\ /
#CommunicationObjectFaultedException\\ 6
ex\\7 9
)\\9 :
{]] 
HandleException^^ 
(^^  
ex^^  "
,^^" #

Properties^^$ .
.^^. /
	Resources^^/ 8
.^^8 9 
lblWrongUpdateAvatar^^9 M
+^^N O
$str^^P U
+^^V W

Properties^^X b
.^^b c
	Resources^^c l
.^^l m%
lblComunicationException	^^m 
)
^^ 
;
^^ 
}__ 
catch`` 
(`` 
TimeoutException`` #
ex``$ &
)``& '
{aa 
HandleExceptionbb 
(bb  
exbb  "
,bb" #

Propertiesbb$ .
.bb. /
	Resourcesbb/ 8
.bb8 9 
lblWrongUpdateAvatarbb9 M
+bbN O
$strbbP U
+bbV W

PropertiesbbX b
.bbb c
	Resourcesbbc l
.bbl m
lblTimeExceptionbbm }
)bb} ~
;bb~ 
}cc 
catchdd 
(dd "
CommunicationExceptiondd )
exdd* ,
)dd, -
{ee 
HandleExceptionff 
(ff  
exff  "
,ff" #

Propertiesff$ .
.ff. /
	Resourcesff/ 8
.ff8 9 
lblWrongUpdateAvatarff9 M
+ffN O
$strffP U
+ffV W

PropertiesffX b
.ffb c
	Resourcesffc l
.ffl m 
lblWithoutConection	ffm 
)
ff 
;
ff 
}gg 
catchhh 
(hh 
SocketExceptionhh "
exhh# %
)hh% &
{ii 
HandleExceptionjj 
(jj  
exjj  "
,jj" #

Propertiesjj$ .
.jj. /
	Resourcesjj/ 8
.jj8 9 
lblWrongUpdateAvatarjj9 M
+jjN O
$strjjP U
+jjV W

PropertiesjjX b
.jjb c
	Resourcesjjc l
.jjl m 
lblWithoutConection	jjm 
)
jj 
;
jj 
}kk 
}ll 	
privatenn 
voidnn 
SelectImagenn  
(nn  !
objectnn! '
sendernn( .
,nn. /%
SelectionChangedEventArgsnn0 I
ennJ K
)nnK L
{oo 	
ifpp 
(pp 
lxtImageSelectorpp  
.pp  !
SelectedItempp! -
!=pp. 0
nullpp1 5
)pp5 6
{qq 
Bitmapss 
bmpss 
=ss 
(ss 
Bitmapss $
)ss$ %

Propertiesss% /
.ss/ 0
ResourcesImagess0 >
.ss> ?
ResourceManagerss? N
.ssN O
	GetObjectssO X
(ssX Y
lxtImageSelectorssY i
.ssi j
SelectedItemssj v
.ssv w
ToStringssw 
(	ss 
)
ss 
)
ss 
;
ss 
BitmapSourceuu 
bmpImageuu %
=uu& '
Imaginguu( /
.uu/ 0)
CreateBitmapSourceFromHBitmapuu0 M
(uuM N
bmpvv 
.vv 

GetHbitmapvv "
(vv" #
)vv# $
,vv$ %
IntPtrww 
.ww 
Zeroww 
,ww  
	Int32Rectxx 
.xx 
Emptyxx #
,xx# $
BitmapSizeOptionsyy %
.yy% &
FromEmptyOptionsyy& 6
(yy6 7
)yy7 8
)zz 
;zz 
imageProfile|| 
.|| 
Source|| #
=||$ %
bmpImage||& .
;||. /
imageResource}} 
=}} 
lxtImageSelector}}  0
.}}0 1
SelectedItem}}1 =
.}}= >
ToString}}> F
(}}F G
)}}G H
;}}H I
}~~ 
} 	
private
 
void
 
ReadResource
 !
(
! "
)
" #
{
 	
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 0
)
0 1
;
1 2
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 4
)
4 5
;
5 6
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' /
)
/ 0
;
0 1
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 0
)
0 1
;
1 2
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 0
)
0 1
;
1 2
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 3
)
3 4
;
4 5
lxtImageSelector
 
.
 
Items
 "
.
" #
Add
# &
(
& '
$str
' 2
)
2 3
;
3 4
}
 	
private
 
void
 "
ImagenInitialization
 )
(
) *
)
* +
{
 	
try
 
{
 
int
 
idPlayer
 
=
 
UserSingleton
 ,
.
, -
GetMainUser
- 8
(
8 9
)
9 :
.
: ;
IdPlayer
; C
;
C D*
ConsultUserInformationClient
 ,%
consultInformationProxy
- D
=
E F
new
G J*
ConsultUserInformationClient
K g
(
g h
)
h i
;
i j
var
 

playerInfo
 
=
  %
consultInformationProxy
! 8
.
8 9
ConsultPlayerById
9 J
(
J K
idPlayer
K S
)
S T
;
T U%
consultInformationProxy
 '
.
' (
Close
( -
(
- .
)
. /
;
/ 0
if
 
(
 

playerInfo
 
.
 
	CodeEvent
 (
==
) +!
ExceptionDictionary
, ?
.
? @
SUCCESFULL_EVENT
@ P
&&
Q S

playerInfo
T ^
.
^ _
ObjectSaved
_ j
!=
k m
null
n r
)
r s
{
 
int
 
imageId
 
=
  !

playerInfo
" ,
.
, -
ObjectSaved
- 8
.
8 9
IdActualAvatar
9 G
;
G H
string
 
	imageName
 $
=
% &
imageIdMappings
' 6
.
6 7
FirstOrDefault
7 E
(
E F
x
F G
=>
H J
x
K L
.
L M
Value
M R
==
S U
imageId
V ]
)
] ^
.
^ _
Key
_ b
;
b c
if
 
(
 
!
 
string
 
.
  
IsNullOrEmpty
  -
(
- .
	imageName
. 7
)
7 8
)
8 9
{
 
Bitmap
 
bmp
 "
=
# $
(
% &
Bitmap
& ,
)
, -

Properties
- 7
.
7 8
ResourcesImage
8 F
.
F G
ResourceManager
G V
.
V W
	GetObject
W `
(
` a
	imageName
a j
)
j k
;
k l
BitmapSource
 $
bmpImage
% -
=
. /
Imaging
0 7
.
7 8+
CreateBitmapSourceFromHBitmap
8 U
(
U V
bmp
 
.
  

GetHbitmap
  *
(
* +
)
+ ,
,
, -
IntPtr
   "
.
  " #
Zero
  # '
,
  ' (
	Int32Rect
¡¡ %
.
¡¡% &
Empty
¡¡& +
,
¡¡+ ,
BitmapSizeOptions
¢¢ -
.
¢¢- .
FromEmptyOptions
¢¢. >
(
¢¢> ?
)
¢¢? @
)
££ 
;
££ 
imageProfile
¥¥ $
.
¥¥$ %
Source
¥¥% +
=
¥¥, -
bmpImage
¥¥. 6
;
¥¥6 7
}
¦¦ 
}
§§ 
}
¨¨ 
catch
©© 
(
©© '
EndpointNotFoundException
©© ,
ex
©©- /
)
©©/ 0
{
ªª 
HandleException
«« 
(
««  
ex
««  "
,
««" #

Properties
««$ .
.
««. /
	Resources
««/ 8
.
««8 9!
lblEndPointNotFound
««9 L
)
««L M
;
««M N
}
¬¬ 
catch
­­ 
(
­­ 1
#CommunicationObjectFaultedException
­­ 6
ex
­­7 9
)
­­9 :
{
®® 
HandleException
¯¯ 
(
¯¯  
ex
¯¯  "
,
¯¯" #

Properties
¯¯$ .
.
¯¯. /
	Resources
¯¯/ 8
.
¯¯8 9&
lblComunicationException
¯¯9 Q
)
¯¯Q R
;
¯¯R S
}
°° 
catch
±± 
(
±± 
TimeoutException
±± #
ex
±±$ &
)
±±& '
{
²² 
HandleException
³³ 
(
³³  
ex
³³  "
,
³³" #

Properties
³³$ .
.
³³. /
	Resources
³³/ 8
.
³³8 9
lblTimeException
³³9 I
)
³³I J
;
³³J K
}
´´ 
catch
µµ 
(
µµ $
CommunicationException
µµ )
ex
µµ* ,
)
µµ, -
{
¶¶ 
HandleException
·· 
(
··  
ex
··  "
,
··" #

Properties
··$ .
.
··. /
	Resources
··/ 8
.
··8 9!
lblWithoutConection
··9 L
)
··L M
;
··M N
}
¸¸ 
catch
¹¹ 
(
¹¹ 
SocketException
¹¹ "
ex
¹¹# %
)
¹¹% &
{
ºº 
HandleException
»» 
(
»»  
ex
»»  "
,
»»" #

Properties
»»$ .
.
»». /
	Resources
»»/ 8
.
»»8 9"
lblWrongUpdateAvatar
»»9 M
)
»»M N
;
»»N O
}
¼¼ 
}
½½ 	
private
¾¾ 
void
¾¾ %
InitializeImageMappings
¾¾ ,
(
¾¾, -
)
¾¾- .
{
¿¿ 	
imageIdMappings
ÀÀ 
=
ÀÀ 
new
ÀÀ !

Dictionary
ÀÀ" ,
<
ÀÀ, -
string
ÀÀ- 3
,
ÀÀ3 4
int
ÀÀ5 8
>
ÀÀ8 9
{
ÁÁ 
{
ÂÂ 
$str
ÂÂ 
,
ÂÂ 
$num
ÂÂ 
}
ÂÂ  
,
ÂÂ  !
{
ÃÃ 
$str
ÃÃ 
,
ÃÃ  
$num
ÃÃ! "
}
ÃÃ# $
,
ÃÃ$ %
{
ÄÄ 
$str
ÄÄ 
,
ÄÄ 
$num
ÄÄ 
}
ÄÄ 
,
ÄÄ  
{
ÅÅ 
$str
ÅÅ 
,
ÅÅ 
$num
ÅÅ 
}
ÅÅ 
,
ÅÅ 
{
ÆÆ 
$str
ÆÆ 
,
ÆÆ 
$num
ÆÆ 
}
ÆÆ 
,
ÆÆ 
{
ÇÇ 
$str
ÇÇ 
,
ÇÇ 
$num
ÇÇ 
}
ÇÇ  !
,
ÇÇ! "
{
ÈÈ 
$str
ÈÈ 
,
ÈÈ 
$num
ÈÈ 
}
ÈÈ  
}
ÉÉ 
;
ÉÉ 
}
ÊÊ 	
private
ÌÌ 
void
ÌÌ !
ClickViewAvatarList
ÌÌ (
(
ÌÌ( )
object
ÌÌ) /
sender
ÌÌ0 6
,
ÌÌ6 7"
MouseButtonEventArgs
ÌÌ8 L
e
ÌÌM N
)
ÌÌN O
{
ÍÍ 	
brdAvatarList
ÎÎ 
.
ÎÎ 

Visibility
ÎÎ $
=
ÎÎ% &

Visibility
ÎÎ' 1
.
ÎÎ1 2
Visible
ÎÎ2 9
;
ÎÎ9 : 
imgViewAvartarList
ÏÏ 
.
ÏÏ 

Visibility
ÏÏ )
=
ÏÏ* +

Visibility
ÏÏ, 6
.
ÏÏ6 7
Hidden
ÏÏ7 =
;
ÏÏ= >
}
ÐÐ 	
private
ÒÒ 
void
ÒÒ "
ClickCloseAvatarList
ÒÒ )
(
ÒÒ) *
object
ÒÒ* 0
sender
ÒÒ1 7
,
ÒÒ7 8"
MouseButtonEventArgs
ÒÒ9 M
e
ÒÒN O
)
ÒÒO P
{
ÓÓ 	
brdAvatarList
ÔÔ 
.
ÔÔ 

Visibility
ÔÔ $
=
ÔÔ% &

Visibility
ÔÔ' 1
.
ÔÔ1 2
Hidden
ÔÔ2 8
;
ÔÔ8 9 
imgViewAvartarList
ÕÕ 
.
ÕÕ 

Visibility
ÕÕ )
=
ÕÕ* +

Visibility
ÕÕ, 6
.
ÕÕ6 7
Visible
ÕÕ7 >
;
ÕÕ> ?
}
ÖÖ 	
private
ØØ 
void
ØØ 
ClickSaveNewEmail
ØØ &
(
ØØ& '
object
ØØ' -
sender
ØØ. 4
,
ØØ4 5"
MouseButtonEventArgs
ØØ6 J
e
ØØK L
)
ØØL M
{
ÙÙ 	
try
ÚÚ 
{
ÛÛ 
UserManagerClient
ÜÜ !
useManagerProxy
ÜÜ" 1
=
ÜÜ2 3
new
ÜÜ4 7
UserManagerClient
ÜÜ8 I
(
ÜÜI J
)
ÜÜJ K
;
ÜÜK L
int
ÝÝ 
idUser
ÝÝ 
=
ÝÝ 
UserSingleton
ÝÝ *
.
ÝÝ* +
GetMainUser
ÝÝ+ 6
(
ÝÝ6 7
)
ÝÝ7 8
.
ÝÝ8 9
IdUser
ÝÝ9 ?
;
ÝÝ? @
string
ÞÞ 
email
ÞÞ 
=
ÞÞ 
txbEditEmail
ÞÞ +
.
ÞÞ+ ,
Text
ÞÞ, 0
.
ÞÞ0 1
Trim
ÞÞ1 5
(
ÞÞ5 6
)
ÞÞ6 7
;
ÞÞ7 8
if
àà 
(
àà 
string
àà 
.
àà 
IsNullOrEmpty
àà (
(
àà( )
email
àà) .
)
àà. /
)
àà/ 0
{
áá 
LblWrongEmail
ââ !
.
ââ! "
Content
ââ" )
=
ââ* +

Properties
ââ, 6
.
ââ6 7
	Resources
ââ7 @
.
ââ@ A
lblWrongEmail
ââA N
;
ââN O
LblWrongEmail
ãã !
.
ãã! "

Visibility
ãã" ,
=
ãã- .

Visibility
ãã/ 9
.
ãã9 :
Visible
ãã: A
;
ããA B
return
ää 
;
ää 
}
åå 
if
ææ 
(
ææ 
!
ææ 
IsValidEmail
ææ !
(
ææ! "
email
ææ" '
)
ææ' (
)
ææ( )
{
çç 
LblWrongEmail
èè !
.
èè! "
Content
èè" )
=
èè* +

Properties
èè, 6
.
èè6 7
	Resources
èè7 @
.
èè@ A
lblWrongFormat
èèA O
;
èèO P
LblWrongEmail
éé !
.
éé! "

Visibility
éé" ,
=
éé- .

Visibility
éé/ 9
.
éé9 :
Visible
éé: A
;
ééA B
return
êê 
;
êê 
}
ëë 
if
ìì 
(
ìì !
CheckEmailExistence
ìì '
(
ìì' (
email
ìì( -
)
ìì- .
==
ìì/ 1
DISALLOWED_VALUES
ìì2 C
)
ììC D
{
íí 
LblWrongEmail
îî !
.
îî! "
Content
îî" )
=
îî* +

Properties
îî, 6
.
îî6 7
	Resources
îî7 @
.
îî@ A
lblEmailExistInBD
îîA R
;
îîR S
LblWrongEmail
ïï !
.
ïï! "

Visibility
ïï" ,
=
ïï- .

Visibility
ïï/ 9
.
ïï9 :
Visible
ïï: A
;
ïïA B
return
ðð 
;
ðð 
}
ññ 
LblWrongEmail
óó 
.
óó 

Visibility
óó (
=
óó) *

Visibility
óó+ 5
.
óó5 6
	Collapsed
óó6 ?
;
óó? @
if
õõ 
(
õõ %
CheckEmailAddressFormat
õõ +
(
õõ+ ,
)
õõ, -
==
õõ. 0
ALLOWED_VALUES
õõ1 ?
&&
õõ@ B!
CheckEmailExistence
öö '
(
öö' (
email
öö( -
)
öö- .
==
öö/ 1
ALLOWED_VALUES
öö2 @
)
öö@ A
{
÷÷ 
var
øø 
result
øø 
=
øø  
useManagerProxy
øø! 0
.
øø0 1
UpdateEmailUser
øø1 @
(
øø@ A
idUser
øøA G
,
øøG H
email
øøI N
)
øøN O
;
øøO P
if
ùù 
(
ùù 
result
ùù 
!=
ùù !
null
ùù" &
)
ùù& '
{
úú 
UserSingleton
ûû %
.
ûû% &
GetMainUser
ûû& 1
(
ûû1 2
)
ûû2 3
.
ûû3 4
UpdateEmailData
ûû4 C
(
ûûC D
email
ûûD I
)
ûûI J
;
ûûJ K!
DialogWindowManager
üü +
.
üü+ ,#
ShowInfoOrErrorWindow
üü, A
(
üüA B

Properties
üüB L
.
üüL M
	Resources
üüM V
.
üüV W!
txbInformationTitle
üüW j
,
üüj k

Properties
üül v
.
üüv w
	Resourcesüüw 
.üü 
lblUpdateEmailüü 
,üü 
Applicationüü 
.üü 
Currentüü ¤
.üü¤ ¥

MainWindowüü¥ ¯
,üü¯ °#
DialogWindowManagerüü± Ä
.üüÄ Å
INFORMATIONüüÅ Ð
)üüÐ Ñ
;üüÑ Ò
MainMenu
ýý  
mainMenuPage
ýý! -
=
ýý. /
new
ýý0 3
MainMenu
ýý4 <
(
ýý< =
)
ýý= >
;
ýý> ?
this
þþ 
.
þþ 
NavigationService
þþ .
.
þþ. /
Navigate
þþ/ 7
(
þþ7 8
mainMenuPage
þþ8 D
)
þþD E
;
þþE F
NavigationService
ÿÿ )
.
ÿÿ) *
RemoveBackEntry
ÿÿ* 9
(
ÿÿ9 :
)
ÿÿ: ;
;
ÿÿ; <
}
 
else
 
{
 
RefreshWindow
 %
(
% &
)
& '
;
' (!
DialogWindowManager
 +
.
+ ,#
ShowInfoOrErrorWindow
, A
(
A B

Properties
B L
.
L M
	Resources
M V
.
V W
txbErrorTitle
W d
,
d e

Properties
f p
.
p q
	Resources
q z
.
z {"
lblWrongUpdateEmail{ 
, 
Application 
. 
Current £
.£ ¤

MainWindow¤ ®
,® ¯#
DialogWindowManager° Ã
.Ã Ä
ERRORÄ É
)É Ê
;Ê Ë
}
 
useManagerProxy
 #
.
# $
Close
$ )
(
) *
)
* +
;
+ ,
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWrongUpdateEmail
9 L
+
M N
$str
O T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l!
lblEndPointNotFound
l 
) 
; 
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWrongUpdateEmail
9 L
+
M N
$str
O T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l'
lblComunicationExceptionl 
) 
; 
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWrongUpdateEmail
9 L
+
M N
$str
O T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l
lblTimeException
l |
)
| }
;
} ~
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWrongUpdateEmail
9 L
+
M N
$str
O T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l!
lblWithoutConection
l 
) 
; 
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9"
lblWrongUpdateAvatar
9 M
+
N O
$str
P U
+
V W

Properties
X b
.
b c
	Resources
c l
.
l m"
lblWithoutConectionm 
) 
; 
}
 
}
 	
private
 
void
 
ClickSaveNewName
 %
(
% &
object
& ,
sender
- 3
,
3 4"
MouseButtonEventArgs
5 I
e
J K
)
K L
{
 	
try
   
{
¡¡ 
UserManagerClient
¢¢ !
useManagerProxy
¢¢" 1
=
¢¢2 3
new
¢¢4 7
UserManagerClient
¢¢8 I
(
¢¢I J
)
¢¢J K
;
¢¢K L
String
££ 

nameEdited
££ !
=
££" #
txbEditName
££$ /
.
££/ 0
Text
££0 4
;
££4 5
int
¤¤ 
idUser
¤¤ 
=
¤¤ 
UserSingleton
¤¤ *
.
¤¤* +
GetMainUser
¤¤+ 6
(
¤¤6 7
)
¤¤7 8
.
¤¤8 9
IdUser
¤¤9 ?
;
¤¤? @
if
¥¥ 
(
¥¥ 
string
¥¥ 
.
¥¥ 
IsNullOrEmpty
¥¥ (
(
¥¥( )

nameEdited
¥¥) 3
)
¥¥3 4
)
¥¥4 5
{
¦¦ 
LblWrongName
§§  
.
§§  !
Content
§§! (
=
§§) *

Properties
§§+ 5
.
§§5 6
	Resources
§§6 ?
.
§§? @
lblWrongName
§§@ L
;
§§L M
LblWrongName
¨¨  
.
¨¨  !

Visibility
¨¨! +
=
¨¨, -

Visibility
¨¨. 8
.
¨¨8 9
Visible
¨¨9 @
;
¨¨@ A
return
©© 
;
©© 
}
ªª 
LblWrongName
«« 
.
«« 

Visibility
«« '
=
««( )

Visibility
««* 4
.
««4 5
	Collapsed
««5 >
;
««> ?
var
­­ 
result
­­ 
=
­­ 
useManagerProxy
­­ ,
.
­­, -#
UpdateUserInformation
­­- B
(
­­B C
idUser
­­C I
,
­­I J

nameEdited
­­K U
)
­­U V
;
­­V W
if
®® 
(
®® 
result
®® 
!=
®® 
null
®® "
)
®®" #
{
¯¯ 
UserSingleton
°° !
.
°°! "
GetMainUser
°°" -
(
°°- .
)
°°. /
.
°°/ 0
UpdateNameData
°°0 >
(
°°> ?

nameEdited
°°? I
)
°°I J
;
°°J K!
DialogWindowManager
±± '
.
±±' (#
ShowInfoOrErrorWindow
±±( =
(
±±= >

Properties
±±> H
.
±±H I
	Resources
±±I R
.
±±R S!
txbInformationTitle
±±S f
,
±±f g

Properties
±±h r
.
±±r s
	Resources
±±s |
.
±±| }
lblUpdateName±±} 
,±± 
Application±± 
.±± 
Current±± 
.±±  

MainWindow±±  ª
,±±ª «#
DialogWindowManager±±¬ ¿
.±±¿ À
INFORMATION±±À Ë
)±±Ë Ì
;±±Ì Í
MainMenu
²² 
mainMenuPage
²² )
=
²²* +
new
²², /
MainMenu
²²0 8
(
²²8 9
)
²²9 :
;
²²: ;
this
³³ 
.
³³ 
NavigationService
³³ *
.
³³* +
Navigate
³³+ 3
(
³³3 4
mainMenuPage
³³4 @
)
³³@ A
;
³³A B
NavigationService
´´ %
.
´´% &
RemoveBackEntry
´´& 5
(
´´5 6
)
´´6 7
;
´´7 8
}
µµ 
else
¶¶ 
{
·· !
DialogWindowManager
¸¸ '
.
¸¸' (#
ShowInfoOrErrorWindow
¸¸( =
(
¸¸= >

Properties
¸¸> H
.
¸¸H I
	Resources
¸¸I R
.
¸¸R S
txbErrorTitle
¸¸S `
,
¸¸` a

Properties
¸¸b l
.
¸¸l m
	Resources
¸¸m v
.
¸¸v w!
lblWrongUpdateName¸¸w 
,¸¸ 
Application¸¸ 
.¸¸ 
Current¸¸ 
.¸¸ 

MainWindow¸¸ ©
,¸¸© ª#
DialogWindowManager¸¸« ¾
.¸¸¾ ¿
ERROR¸¸¿ Ä
)¸¸Ä Å
;¸¸Å Æ
}
¹¹ 
useManagerProxy
ºº 
.
ºº  
Close
ºº  %
(
ºº% &
)
ºº& '
;
ºº' (
}
»» 
catch
¼¼ 
(
¼¼ '
EndpointNotFoundException
¼¼ ,
ex
¼¼- /
)
¼¼/ 0
{
½½ 
HandleException
¾¾ 
(
¾¾  
ex
¾¾  "
,
¾¾" #

Properties
¾¾$ .
.
¾¾. /
	Resources
¾¾/ 8
.
¾¾8 9 
lblWrongUpdateName
¾¾9 K
+
¾¾L M
$str
¾¾N S
+
¾¾T U

Properties
¾¾V `
.
¾¾` a
	Resources
¾¾a j
.
¾¾j k!
lblEndPointNotFound
¾¾k ~
)
¾¾~ 
;¾¾ 
}
¿¿ 
catch
ÀÀ 
(
ÀÀ 1
#CommunicationObjectFaultedException
ÀÀ 6
ex
ÀÀ7 9
)
ÀÀ9 :
{
ÁÁ 
HandleException
ÂÂ 
(
ÂÂ  
ex
ÂÂ  "
,
ÂÂ" #

Properties
ÂÂ$ .
.
ÂÂ. /
	Resources
ÂÂ/ 8
.
ÂÂ8 9 
lblWrongUpdateName
ÂÂ9 K
+
ÂÂL M
$str
ÂÂN S
+
ÂÂT U

Properties
ÂÂV `
.
ÂÂ` a
	Resources
ÂÂa j
.
ÂÂj k'
lblComunicationExceptionÂÂk 
)ÂÂ 
;ÂÂ 
}
ÃÃ 
catch
ÄÄ 
(
ÄÄ 
TimeoutException
ÄÄ #
ex
ÄÄ$ &
)
ÄÄ& '
{
ÅÅ 
HandleException
ÆÆ 
(
ÆÆ  
ex
ÆÆ  "
,
ÆÆ" #

Properties
ÆÆ$ .
.
ÆÆ. /
	Resources
ÆÆ/ 8
.
ÆÆ8 9 
lblWrongUpdateName
ÆÆ9 K
+
ÆÆL M
$str
ÆÆN S
+
ÆÆT U

Properties
ÆÆV `
.
ÆÆ` a
	Resources
ÆÆa j
.
ÆÆj k
lblTimeException
ÆÆk {
)
ÆÆ{ |
;
ÆÆ| }
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ $
CommunicationException
ÈÈ )
ex
ÈÈ* ,
)
ÈÈ, -
{
ÉÉ 
HandleException
ÊÊ 
(
ÊÊ  
ex
ÊÊ  "
,
ÊÊ" #

Properties
ÊÊ$ .
.
ÊÊ. /
	Resources
ÊÊ/ 8
.
ÊÊ8 9 
lblWrongUpdateName
ÊÊ9 K
+
ÊÊL M
$str
ÊÊN S
+
ÊÊT U

Properties
ÊÊV `
.
ÊÊ` a
	Resources
ÊÊa j
.
ÊÊj k!
lblWithoutConection
ÊÊk ~
)
ÊÊ~ 
;ÊÊ 
}
ËË 
catch
ÌÌ 
(
ÌÌ 
SocketException
ÌÌ "
ex
ÌÌ# %
)
ÌÌ% &
{
ÍÍ 
HandleException
ÎÎ 
(
ÎÎ  
ex
ÎÎ  "
,
ÎÎ" #

Properties
ÎÎ$ .
.
ÎÎ. /
	Resources
ÎÎ/ 8
.
ÎÎ8 9"
lblWrongUpdateAvatar
ÎÎ9 M
+
ÎÎN O
$str
ÎÎP U
+
ÎÎV W

Properties
ÎÎX b
.
ÎÎb c
	Resources
ÎÎc l
.
ÎÎl m"
lblWithoutConectionÎÎm 
)ÎÎ 
;ÎÎ 
}
ÏÏ 
}
ÐÐ 	
private
ÑÑ 
int
ÑÑ %
CheckEmailAddressFormat
ÑÑ +
(
ÑÑ+ ,
)
ÑÑ, -
{
ÒÒ 	
try
ÓÓ 
{
ÔÔ '
RegularExpressionsLibrary
ÕÕ )
regexInstance
ÕÕ* 7
=
ÕÕ8 9
new
ÕÕ: ='
RegularExpressionsLibrary
ÕÕ> W
(
ÕÕW X
)
ÕÕX Y
;
ÕÕY Z
string
ÖÖ 
regexExpression
ÖÖ &
=
ÖÖ' (
regexInstance
ÖÖ) 6
.
ÖÖ6 7!
GetEMAIL_RULES_CHAR
ÖÖ7 J
(
ÖÖJ K
)
ÖÖK L
;
ÖÖL M
int
×× 
answer
×× 
;
×× 
String
ØØ 
email
ØØ 
=
ØØ 
txbEditEmail
ØØ +
.
ØØ+ ,
Text
ØØ, 0
.
ØØ0 1
Trim
ØØ1 5
(
ØØ5 6
)
ØØ6 7
;
ØØ7 8
if
ÙÙ 
(
ÙÙ 
!
ÙÙ 
Regex
ÙÙ 
.
ÙÙ 
IsMatch
ÙÙ "
(
ÙÙ" #
email
ÙÙ# (
,
ÙÙ( )
regexExpression
ÙÙ* 9
,
ÙÙ9 :
RegexOptions
ÙÙ; G
.
ÙÙG H

IgnoreCase
ÙÙH R
,
ÙÙR S
TimeSpan
ÙÙT \
.
ÙÙ\ ]
FromMilliseconds
ÙÙ] m
(
ÙÙm n
$num
ÙÙn q
)
ÙÙq r
)
ÙÙr s
)
ÙÙs t
{
ÚÚ 
lblEmailWarning
ÛÛ #
.
ÛÛ# $
Content
ÛÛ$ +
=
ÛÛ, -

Properties
ÛÛ. 8
.
ÛÛ8 9
	Resources
ÛÛ9 B
.
ÛÛB C
lblInvalidEmail
ÛÛC R
;
ÛÛR S
lblEmailWarning
ÜÜ #
.
ÜÜ# $

Visibility
ÜÜ$ .
=
ÜÜ/ 0

Visibility
ÜÜ1 ;
.
ÜÜ; <
Visible
ÜÜ< C
;
ÜÜC D
answer
ÝÝ 
=
ÝÝ 
DISALLOWED_VALUES
ÝÝ .
;
ÝÝ. /
}
ÞÞ 
else
ßß 
{
àà 
lblEmailWarning
áá #
.
áá# $
Content
áá$ +
=
áá, -
string
áá. 4
.
áá4 5
Empty
áá5 :
;
áá: ;
lblEmailWarning
ââ #
.
ââ# $

Visibility
ââ$ .
=
ââ/ 0

Visibility
ââ1 ;
.
ââ; <
	Collapsed
ââ< E
;
ââE F
answer
ãã 
=
ãã 
ALLOWED_VALUES
ãã +
;
ãã+ ,
}
ää 
return
åå 
answer
åå 
;
åå 
}
ææ 
catch
çç 
(
çç (
RegexMatchTimeoutException
çç -
ex
çç. 0
)
çç0 1
{
èè %
ExceptionHandlerForLogs
éé '
.
éé' (
LogException
éé( 4
(
éé4 5
ex
éé5 7
,
éé7 8!
ExceptionDictionary
éé9 L
.
ééL M
ERROR
ééM R
)
ééR S
;
ééS T
return
êê 
DISALLOWED_VALUES
êê (
;
êê( )
}
ëë 
}
íí 	
private
ïï 
int
ïï !
CheckEmailExistence
ïï '
(
ïï' (
string
ïï( .
email
ïï/ 4
)
ïï4 5
{
ðð 	
try
ññ 
{
òò )
ValidateUserExistanceClient
óó +
dataCheckerProxy
óó, <
=
óó= >
new
óó? B
(
óóB C
)
óóC D
;
óóD E
GenericClassOfint
ôô !
	userIsNew
ôô" +
=
ôô, -
dataCheckerProxy
ôô. >
.
ôô> ?
EmailAlreadyExist
ôô? P
(
ôôP Q
email
ôôQ V
)
ôôV W
;
ôôW X
dataCheckerProxy
õõ  
.
õõ  !
Close
õõ! &
(
õõ& '
)
õõ' (
;
õõ( )
if
öö 
(
öö 
	userIsNew
öö 
.
öö 
	CodeEvent
öö '
==
öö( *!
ExceptionDictionary
öö+ >
.
öö> ?
SUCCESFULL_EVENT
öö? O
||
ööP R
	userIsNew
ööS \
.
öö\ ]
	CodeEvent
öö] f
==
öög i!
ExceptionDictionary
ööj }
.
öö} ~!
UNSUCCESFULL_EVENTöö~ 
||öö 
	userIsNewöö 
.öö 
ObjectSavedöö ©
==ööª ¬
ALLOWED_VALUESöö­ »
)öö» ¼
{
÷÷ 
return
øø 
ALLOWED_VALUES
øø )
;
øø) *
}
ùù 
else
úú 
{
ûû 
if
üü 
(
üü 
	userIsNew
üü !
.
üü! "
ObjectSaved
üü" -
==
üü. 0!
ExceptionDictionary
üü1 D
.
üüD E!
EMAIL_ALREADY_EXIST
üüE X
)
üüX Y
{
ýý !
DialogWindowManager
þþ +
.
þþ+ ,#
ShowInfoOrErrorWindow
þþ, A
(
þþA B

Properties
þþB L
.
þþL M
	Resources
þþM V
.
þþV W
txbErrorTitle
þþW d
,
þþd e

Properties
þþf p
.
þþp q
	Resources
þþq z
.
þþz {
lblRepeatedEmailþþ{ 
,þþ 
Applicationþþ 
.þþ 
Currentþþ  
.þþ  ¡

MainWindowþþ¡ «
,þþ« ¬#
DialogWindowManagerþþ­ À
.þþÀ Á
ERRORþþÁ Æ
)þþÆ Ç
;þþÇ È
}
ÿÿ 
else
 
if
 
(
 
	userIsNew
 &
.
& '
ObjectSaved
' 2
==
3 5!
ExceptionDictionary
6 I
.
I J$
USERNAME_ALREADY_EXIST
J `
)
` a
{
 !
DialogWindowManager
 +
.
+ ,#
ShowInfoOrErrorWindow
, A
(
A B

Properties
B L
.
L M
	Resources
M V
.
V W
txbErrorTitle
W d
,
d e

Properties
f p
.
p q
	Resources
q z
.
z {"
lblRepeatedUserName{ 
, 
Application 
. 
Current £
.£ ¤

MainWindow¤ ®
,® ¯#
DialogWindowManager° Ã
.Ã Ä
ERRORÄ É
)É Ê
;Ê Ë
}
 
else
 
{
 !
DialogWindowManager
 +
.
+ ,#
ShowInfoOrErrorWindow
, A
(
A B

Properties
B L
.
L M
	Resources
M V
.
V W
txbErrorTitle
W d
,
d e

Properties
f p
.
p q
	Resources
q z
.
z {#
lblWrongEmailRepited{ 
, 
Application 
. 
Current ¤
.¤ ¥

MainWindow¥ ¯
,¯ °#
DialogWindowManager± Ä
.Ä Å
ERRORÅ Ê
)Ê Ë
;Ë Ì
CloseWindow
 #
(
# $
)
$ %
;
% &
}
 
return
 
DISALLOWED_VALUES
 ,
;
, -
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
)
, -
{
 
throw
 
new
 '
EndpointNotFoundException
 3
(
3 4
)
4 5
;
5 6
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
)
6 7
{
 
throw
 
new
 $
CommunicationException
 0
(
0 1
)
1 2
;
2 3
}
 
catch
 
(
 
TimeoutException
 #
)
# $
{
 
throw
 
new
 
TimeoutException
 *
(
* +
)
+ ,
;
, -
}
 
catch
 
(
 $
CommunicationException
 )
)
) *
{
 
throw
 
new
 $
CommunicationException
 0
(
0 1
)
1 2
;
2 3
}
 
catch
 
(
 
SocketException
 "
)
" #
{
 
throw
 
new
 
SocketException
 )
(
) *
)
* +
;
+ ,
}
 
}
   	
private
¢¢ 
void
¢¢ "
ClickBackToMaminMenu
¢¢ )
(
¢¢) *
object
¢¢* 0
sender
¢¢1 7
,
¢¢7 8"
MouseButtonEventArgs
¢¢9 M
e
¢¢N O
)
¢¢O P
{
££ 	
CloseWindow
¤¤ 
(
¤¤ 
)
¤¤ 
;
¤¤ 
}
¥¥ 	
private
¦¦ 
void
¦¦ 
CloseWindow
¦¦  
(
¦¦  !
)
¦¦! "
{
§§ 	
MainMenu
¨¨ 
mainMenuPage
¨¨ !
=
¨¨" #
new
¨¨$ '
MainMenu
¨¨( 0
(
¨¨0 1
)
¨¨1 2
;
¨¨2 3
this
©© 
.
©© 
NavigationService
©© "
.
©©" #
Navigate
©©# +
(
©©+ ,
mainMenuPage
©©, 8
)
©©8 9
;
©©9 :
NavigationService
ªª 
.
ªª 
RemoveBackEntry
ªª -
(
ªª- .
)
ªª. /
;
ªª/ 0
}
«« 	
private
­­ 
void
­­ 
RefreshWindow
­­ "
(
­­" #
)
­­# $
{
®® 	
EditUserProfile
¯¯ !
editUserProfilePage
¯¯ /
=
¯¯0 1
new
¯¯2 5
EditUserProfile
¯¯6 E
(
¯¯E F
)
¯¯F G
;
¯¯G H
this
°° 
.
°° 
NavigationService
°° "
.
°°" #
Navigate
°°# +
(
°°+ ,!
editUserProfilePage
°°, ?
)
°°? @
;
°°@ A
NavigationService
±± 
.
±± 
RemoveBackEntry
±± -
(
±±- .
)
±±. /
;
±±/ 0
}
²² 	
private
´´ 
void
´´ 
HandleException
´´ $
(
´´$ %
	Exception
´´% .
ex
´´/ 1
,
´´1 2
string
´´3 9
errorMessage
´´: F
)
´´F G
{
µµ 	%
ExceptionHandlerForLogs
¶¶ #
.
¶¶# $
LogException
¶¶$ 0
(
¶¶0 1
ex
¶¶1 3
,
¶¶3 4!
ExceptionDictionary
¶¶5 H
.
¶¶H I
FATAL_EXCEPTION
¶¶I X
)
¶¶X Y
;
¶¶Y Z!
DialogWindowManager
·· 
.
··  #
ShowInfoOrErrorWindow
··  5
(
··5 6

Properties
··6 @
.
··@ A
	Resources
··A J
.
··J K
txbErrorTitle
··K X
,
··X Y
errorMessage
··Z f
,
··f g
Application
··h s
.
··s t
Current
··t {
.
··{ |

MainWindow··| 
,·· #
DialogWindowManager·· 
.·· 
ERROR·· ¡
)··¡ ¢
;··¢ £
CloseWindow
¸¸ 
(
¸¸ 
)
¸¸ 
;
¸¸ 
}
¹¹ 	
private
ºº 
bool
ºº 
IsValidEmail
ºº !
(
ºº! "
string
ºº" (
email
ºº) .
)
ºº. /
{
»» 	
try
¼¼ 
{
½½ '
RegularExpressionsLibrary
¾¾ )
regexInstance
¾¾* 7
=
¾¾8 9
new
¾¾: ='
RegularExpressionsLibrary
¾¾> W
(
¾¾W X
)
¾¾X Y
;
¾¾Y Z
string
¿¿ 
regexExpression
¿¿ &
=
¿¿' (
regexInstance
¿¿) 6
.
¿¿6 7!
GetEMAIL_RULES_CHAR
¿¿7 J
(
¿¿J K
)
¿¿K L
;
¿¿L M
return
ÀÀ 
Regex
ÀÀ 
.
ÀÀ 
IsMatch
ÀÀ $
(
ÀÀ$ %
email
ÀÀ% *
,
ÀÀ* +
regexExpression
ÀÀ, ;
,
ÀÀ; <
RegexOptions
ÀÀ= I
.
ÀÀI J

IgnoreCase
ÀÀJ T
,
ÀÀT U
TimeSpan
ÀÀV ^
.
ÀÀ^ _
FromMilliseconds
ÀÀ_ o
(
ÀÀo p
$num
ÀÀp s
)
ÀÀs t
)
ÀÀt u
;
ÀÀu v
}
ÁÁ 
catch
ÂÂ 
(
ÂÂ (
RegexMatchTimeoutException
ÂÂ -
ex
ÂÂ. 0
)
ÂÂ0 1
{
ÃÃ %
ExceptionHandlerForLogs
ÄÄ '
.
ÄÄ' (
LogException
ÄÄ( 4
(
ÄÄ4 5
ex
ÄÄ5 7
,
ÄÄ7 8!
ExceptionDictionary
ÄÄ9 L
.
ÄÄL M
ERROR
ÄÄM R
)
ÄÄR S
;
ÄÄS T
return
ÅÅ 
false
ÅÅ 
;
ÅÅ 
}
ÆÆ 
}
ÈÈ 	
}
ÉÉ 
}ÊÊ Þ½
pC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\enterGameWithCode.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
enterGameWithCode *
:+ ,
Page- 1
,1 2$
ICheckUserLivingCallback3 K
{ 
private 
Window 
windowBehind #
;# $
UserSingleton   
userSingleton   #
=  $ %
UserSingleton  & 3
.  3 4
GetMainUser  4 ?
(  ? @
)  @ A
;  A B
private!! 
UserPojo!! 
userForGuest!! %
;!!% &
int"" 
idUser"" 
="" 
-"" 
$num"" 
;"" 
private## 
readonly## 
int## 
ROOMCODE_IS_FULL## -
=##. /
-##0 1
$num##1 2
;##2 3
private$$ 
readonly$$ 
int$$ 
	SUCCESFUL$$ &
=$$' (
$num$$) *
;$$* +
public&& 
enterGameWithCode&&  
(&&  !
Window&&! '
previousWindow&&( 6
,&&6 7
bool&&8 <
isGuest&&= D
)&&D E
{'' 	
InitializeComponent(( 
(((  
)((  !
;((! "
this)) 
.)) 
windowBehind)) 
=)) 
previousWindow))  .
;)). /
tbxCode** 
.** 
	MaxLength** 
=** 
$num**  "
;**" #
if++ 
(++ 
!++ 
isGuest++ 
)++ 
{,, 
idUser-- 
=-- 
userSingleton-- &
.--& '
IdUser--' -
;--- .
}.. 
}// 	
private11 
void11 #
ClickEnterLobbyWithCode11 ,
(11, -
object11- 3
sender114 :
,11: ;
RoutedEventArgs11< K
e11L M
)11M N
{22 	
int33 
enteredCode33 
;33 
if44 
(44 
int44 
.44 
TryParse44 
(44 
tbxCode44 $
.44$ %
Text44% )
,44) *
out44+ .
enteredCode44/ :
)44: ;
)44; <
{55 
try66 
{77 )
LobbyCodeAuthenticationClient88 1#
codeAuthenticationProxy882 I
=88J K
new88L O)
LobbyCodeAuthenticationClient88P m
(88m n
)88n o
;88o p
GenericClassOfint99 %
isRoomActive99& 2
=993 4#
codeAuthenticationProxy995 L
.99L M
VerifyRoomCodeExist99M `
(99` a
enteredCode99a l
,99l m
idUser99n t
)99t u
;99u v
if:: 
(:: 
isRoomActive:: $
.::$ %
	CodeEvent::% .
==::/ 1
ExceptionDictionary::2 E
.::E F
SUCCESFULL_EVENT::F V
||::W Y
isRoomActive::Z f
.::f g
	CodeEvent::g p
==::q s 
ExceptionDictionary	::t 
.
::  
UNSUCCESFULL_EVENT
:: 
)
:: 
{;; 
if<< 
(<< 
isRoomActive<< '
.<<' (
ObjectSaved<<( 3
==<<4 6
	SUCCESFUL<<7 @
)<<@ A
{== 
if>> 
(>>  
AssurePlayer>>  ,
(>>, -
)>>- .
)>>. /
{?? 
GotoLobbyPage@@  -
(@@- .
enteredCode@@. 9
)@@9 :
;@@: ;
}AA 
}BB 
elseCC 
ifCC 
(CC  
isRoomActiveCC  ,
.CC, -
ObjectSavedCC- 8
==CC9 ;
ROOMCODE_IS_FULLCC< L
)CCL M
{DD 
DialogWindowManagerEE /
.EE/ 0!
ShowInfoOrErrorWindowEE0 E
(EEE F

PropertiesEEF P
.EEP Q
	ResourcesEEQ Z
.EEZ [
txbErrorTitleEE[ h
,EEh i

PropertiesEEj t
.EEt u
	ResourcesEEu ~
.EE~ 
LobbyIsFull	EE 
,
EE 
Application
EE 
.
EE 
Current
EE 
.
EE  

MainWindow
EE  ª
,
EEª «!
DialogWindowManager
EE¬ ¿
.
EE¿ À
INFORMATION
EEÀ Ë
)
EEË Ì
;
EEÌ Í
}FF 
elseGG 
{HH 
DialogWindowManagerII /
.II/ 0!
ShowInfoOrErrorWindowII0 E
(IIE F

PropertiesIIF P
.IIP Q
	ResourcesIIQ Z
.IIZ [
txbErrorTitleII[ h
,IIh i

PropertiesIIj t
.IIt u
	ResourcesIIu ~
.II~ 
LobbyNotExist	II 
,
II 
Application
II 
.
II 
Current
II ¡
.
II¡ ¢

MainWindow
II¢ ¬
,
II¬ ­!
DialogWindowManager
II® Á
.
IIÁ Â
INFORMATION
IIÂ Í
)
IIÍ Î
;
IIÎ Ï
}JJ 
}KK 
}LL 
catchMM 
(MM %
EndpointNotFoundExceptionMM 0
exMM1 3
)MM3 4
{NN 
HandleExceptionOO #
(OO# $
exOO$ &
,OO& '

PropertiesOO) 3
.OO3 4
	ResourcesOO4 =
.OO= >
lblEndPointNotFoundOO> Q
)OOQ R
;OOR S
WindowPP 
.PP 
	GetWindowPP $
(PP$ %
thisPP% )
)PP) *
.PP* +
ClosePP+ 0
(PP0 1
)PP1 2
;PP2 3
}QQ 
catchRR 
(RR /
#CommunicationObjectFaultedExceptionRR :
exRR; =
)RR= >
{SS 
HandleExceptionTT #
(TT# $
exTT$ &
,TT& '

PropertiesTT( 2
.TT2 3
	ResourcesTT3 <
.TT< =$
lblComunicationExceptionTT= U
)TTU V
;TTV W
WindowUU 
.UU 
	GetWindowUU $
(UU$ %
thisUU% )
)UU) *
.UU* +
CloseUU+ 0
(UU0 1
)UU1 2
;UU2 3
}VV 
catchWW 
(WW 
TimeoutExceptionWW '
exWW( *
)WW* +
{XX 
HandleExceptionYY #
(YY# $
exYY$ &
,YY& '

PropertiesYY( 2
.YY2 3
	ResourcesYY3 <
.YY< =
lblTimeExceptionYY= M
)YYM N
;YYN O
WindowZZ 
.ZZ 
	GetWindowZZ $
(ZZ$ %
thisZZ% )
)ZZ) *
.ZZ* +
CloseZZ+ 0
(ZZ0 1
)ZZ1 2
;ZZ2 3
}[[ 
catch\\ 
(\\ "
CommunicationException\\ -
ex\\. 0
)\\0 1
{]] 
HandleException^^ #
(^^# $
ex^^$ &
,^^& '

Properties^^( 2
.^^2 3
	Resources^^3 <
.^^< =
lblWithoutConection^^= P
)^^P Q
;^^Q R
Window__ 
.__ 
	GetWindow__ $
(__$ %
this__% )
)__) *
.__* +
Close__+ 0
(__0 1
)__1 2
;__2 3
}`` 
catchaa 
(aa 
SocketExceptionaa &
exaa' )
)aa) *
{bb 
HandleExceptioncc #
(cc# $
excc$ &
,cc& '

Propertiescc( 2
.cc2 3
	Resourcescc3 <
.cc< =
lblWithoutConectioncc= P
)ccP Q
;ccQ R
Windowdd 
.dd 
	GetWindowdd $
(dd$ %
thisdd% )
)dd) *
.dd* +
Closedd+ 0
(dd0 1
)dd1 2
;dd2 3
}ee 
}ff 
elsegg 
{hh 
DialogWindowManagerii #
.ii# $!
ShowInfoOrErrorWindowii$ 9
(ii9 :

Propertiesii: D
.iiD E
	ResourcesiiE N
.iiN O
txbErrorTitleiiO \
,ii\ ]

Propertiesii^ h
.iih i
	Resourcesiii r
.iir s
lblnvalidCode	iis 
,
ii 
Application
ii 
.
ii 
Current
ii 
.
ii 

MainWindow
ii  
,
ii  ¡!
DialogWindowManager
ii¢ µ
.
iiµ ¶
ERROR
ii¶ »
)
ii» ¼
;
ii¼ ½
}jj 
}kk 	
privatemm 
boolmm 
AssurePlayermm !
(mm! "
)mm" #
{nn 	
booloo 
successoo 
=oo 
trueoo 
;oo  
ifpp 
(pp 
idUserpp 
==pp 
-pp 
$numpp 
)pp 
{qq 
ifrr 
(rr 
!rr '
GetPlayerAndUserInformationrr 0
(rr0 1
)rr1 2
)rr2 3
{ss 
returntt 
falsett  
;tt  !
}uu 
successvv 
=vv $
SubscribeToLivingChannelvv 2
(vv2 3
)vv3 4
;vv4 5
}ww 
returnxx 
successxx 
;xx 
}yy 	
private{{ 
bool{{ '
GetPlayerAndUserInformation{{ 0
({{0 1
){{1 2
{|| 	
bool}} 
isPlayerGuestActive}} $
=}}% &
false}}' ,
;}}, -
try~~ 
{ &
GuestPlayerManagerClient
 (%
guestPlayerManagerProxy
) @
=
A B
new
C F&
GuestPlayerManagerClient
G _
(
_ `
)
` a
;
a b
var
 
	userGuest
 
=
 %
guestPlayerManagerProxy
  7
.
7 8 
CreateUserForGuest
8 J
(
J K
)
K L
;
L M
if
 
(
 
	userGuest
 
.
 
	CodeEvent
 '
==
( *!
ExceptionDictionary
+ >
.
> ?
SUCCESFULL_EVENT
? O
)
O P
{
 
userForGuest
  
=
! "
	userGuest
# ,
.
, -
ObjectSaved
- 8
;
8 9*
ConsultUserInformationClient
 0)
consultUserInformationProxy
1 L
=
M N
new
O R
(
R S
)
S T
;
T U
var
 
playerGuest
 #
=
$ %)
consultUserInformationProxy
& A
.
A B#
ConsultPlayerByIdUser
B W
(
W X
	userGuest
X a
.
a b
ObjectSaved
b m
.
m n
IdUser
n t
)
t u
;
u v
if
 
(
 
playerGuest
 #
.
# $
	CodeEvent
$ -
==
. 0!
ExceptionDictionary
1 D
.
D E
SUCCESFULL_EVENT
E U
)
U V
{
 
UserSingleton
 %
.
% &
CleanSingleton
& 4
(
4 5
)
5 6
;
6 7
UserSingleton
 %
.
% &
GetMainUser
& 1
(
1 2
	userGuest
2 ;
.
; <
ObjectSaved
< G
,
G H
playerGuest
I T
.
T U
ObjectSaved
U `
)
` a
;
a b!
isPlayerGuestActive
 +
=
, -
true
. 2
;
2 3
}
 
}
 
else
 
{
 !
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbErrorTitle
S `
,
` a

Properties
b l
.
l m
	Resources
m v
.
v w'
lblFailToCreateGuestUserw 
, 
Application 
. 
Current ¤
.¤ ¥

MainWindow¥ ¯
,¯ °#
DialogWindowManager± Ä
.Ä Å
ERRORÅ Ê
)Ê Ë
;Ë Ì
Window
 
.
 
	GetWindow
 $
(
$ %
this
% )
)
) *
.
* +
Close
+ 0
(
0 1
)
1 2
;
2 3
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblEndPointNotFound
9 L
+
M N
$str
O T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l'
lblFailToCreateGuestUserl 
) 
; 
Window
 
.
 
	GetWindow
  
(
  !
this
! %
)
% &
.
& '
Close
' ,
(
, -
)
- .
;
. /
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblComunicationException
9 Q
+
R S
$str
T Y
+
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q'
lblFailToCreateGuestUserq 
) 
; 
Window
 
.
 
	GetWindow
  
(
  !
this
! %
)
% &
.
& '
Close
' ,
(
, -
)
- .
;
. /
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
   
(
    
ex
    "
,
  " #

Properties
  $ .
.
  . /
	Resources
  / 8
.
  8 9
lblTimeException
  9 I
+
  J K
$str
  L Q
+
  R S

Properties
  T ^
.
  ^ _
	Resources
  _ h
.
  h i'
lblFailToCreateGuestUser  i 
)   
;   
Window
¡¡ 
.
¡¡ 
	GetWindow
¡¡  
(
¡¡  !
this
¡¡! %
)
¡¡% &
.
¡¡& '
Close
¡¡' ,
(
¡¡, -
)
¡¡- .
;
¡¡. /
}
¢¢ 
catch
££ 
(
££ $
CommunicationException
££ )
ex
££* ,
)
££, -
{
¤¤ 
HandleException
¥¥ 
(
¥¥  
ex
¥¥  "
,
¥¥" #

Properties
¥¥$ .
.
¥¥. /
	Resources
¥¥/ 8
.
¥¥8 9!
lblWithoutConection
¥¥9 L
+
¥¥M N
$str
¥¥O T
+
¥¥U V

Properties
¥¥W a
.
¥¥a b
	Resources
¥¥b k
.
¥¥k l'
lblFailToCreateGuestUser¥¥l 
)¥¥ 
;¥¥ 
Window
¦¦ 
.
¦¦ 
	GetWindow
¦¦  
(
¦¦  !
this
¦¦! %
)
¦¦% &
.
¦¦& '
Close
¦¦' ,
(
¦¦, -
)
¦¦- .
;
¦¦. /
}
§§ 
catch
¨¨ 
(
¨¨ 
SocketException
¨¨ "
ex
¨¨# %
)
¨¨% &
{
©© 
HandleException
ªª 
(
ªª  
ex
ªª  "
,
ªª" #

Properties
ªª$ .
.
ªª. /
	Resources
ªª/ 8
.
ªª8 9!
lblWithoutConection
ªª9 L
)
ªªL M
;
ªªM N
Window
«« 
.
«« 
	GetWindow
««  
(
««  !
this
««! %
)
««% &
.
««& '
Close
««' ,
(
««, -
)
««- .
;
««. /
}
¬¬ 
return
­­ !
isPlayerGuestActive
­­ &
;
­­& '
}
®® 	
private
°° 
bool
°° &
SubscribeToLivingChannel
°° -
(
°°- .
)
°°. /
{
±± 	
try
²² 
{
³³ 
InstanceContext
´´ 
context
´´  '
=
´´( )
new
´´* -
(
´´- .
this
´´. 2
)
´´2 3
;
´´3 4#
CheckUserLivingClient
µµ %#
checkUserLivingClient
µµ& ;
=
µµ< =
new
µµ> A
(
µµA B
context
µµB I
)
µµI J
;
µµJ K
int
¶¶ 
success
¶¶ 
=
¶¶ #
checkUserLivingClient
¶¶ 3
.
¶¶3 4)
SubscribeToICheckUserLiving
¶¶4 O
(
¶¶O P
userForGuest
¶¶P \
)
¶¶\ ]
;
¶¶] ^
if
·· 
(
·· 
success
·· 
==
·· !
ExceptionDictionary
·· 1
.
··1 2
SUCCESFULL_EVENT
··2 B
)
··B C
{
¸¸ 
return
¹¹ 
true
¹¹ 
;
¹¹  
}
ºº 
else
»» 
{
¼¼ !
DialogWindowManager
½½ '
.
½½' (#
ShowInfoOrErrorWindow
½½( =
(
½½= >

Properties
½½> H
.
½½H I
	Resources
½½I R
.
½½R S
txbErrorTitle
½½S `
,
½½` a

Properties
½½b l
.
½½l m
	Resources
½½m v
.
½½v w(
lblFailRegistryToCallBack½½w 
,½½ 
Application½½ 
.½½ 
Current½½ ¥
.½½¥ ¦

MainWindow½½¦ °
,½½° ±#
DialogWindowManager½½² Å
.½½Å Æ
ERROR½½Æ Ë
)½½Ë Ì
;½½Ì Í
Window
¾¾ 
.
¾¾ 
	GetWindow
¾¾ $
(
¾¾$ %
this
¾¾% )
)
¾¾) *
.
¾¾* +
Close
¾¾+ 0
(
¾¾0 1
)
¾¾1 2
;
¾¾2 3
return
¿¿ 
false
¿¿  
;
¿¿  !
}
ÀÀ 
}
ÁÁ 
catch
ÂÂ 
(
ÂÂ '
EndpointNotFoundException
ÂÂ ,
ex
ÂÂ- /
)
ÂÂ/ 0
{
ÃÃ 
HandleException
ÄÄ 
(
ÄÄ  
ex
ÄÄ  "
,
ÄÄ" #

Properties
ÄÄ$ .
.
ÄÄ. /
	Resources
ÄÄ/ 8
.
ÄÄ8 9!
lblEndPointNotFound
ÄÄ9 L
+
ÄÄM N
$str
ÄÄO T
+
ÄÄU V

Properties
ÄÄW a
.
ÄÄa b
	Resources
ÄÄb k
.
ÄÄk l(
lblFailRegistryToCallBackÄÄl 
)ÄÄ 
;ÄÄ 
}
ÅÅ 
catch
ÆÆ 
(
ÆÆ 1
#CommunicationObjectFaultedException
ÆÆ 6
ex
ÆÆ7 9
)
ÆÆ9 :
{
ÇÇ 
HandleException
ÈÈ 
(
ÈÈ  
ex
ÈÈ  "
,
ÈÈ" #

Properties
ÈÈ$ .
.
ÈÈ. /
	Resources
ÈÈ/ 8
.
ÈÈ8 9&
lblComunicationException
ÈÈ9 Q
+
ÈÈR S
$str
ÈÈT Y
+
ÈÈZ [

Properties
ÈÈ\ f
.
ÈÈf g
	Resources
ÈÈg p
.
ÈÈp q(
lblFailRegistryToCallBackÈÈq 
)ÈÈ 
;ÈÈ 
}
ÉÉ 
catch
ÊÊ 
(
ÊÊ 
TimeoutException
ÊÊ #
ex
ÊÊ$ &
)
ÊÊ& '
{
ËË 
HandleException
ÌÌ 
(
ÌÌ  
ex
ÌÌ  "
,
ÌÌ" #

Properties
ÌÌ$ .
.
ÌÌ. /
	Resources
ÌÌ/ 8
.
ÌÌ8 9
lblTimeException
ÌÌ9 I
+
ÌÌJ K
$str
ÌÌL Q
+
ÌÌR S

Properties
ÌÌT ^
.
ÌÌ^ _
	Resources
ÌÌ_ h
.
ÌÌh i(
lblFailRegistryToCallBackÌÌi 
)ÌÌ 
;ÌÌ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ $
CommunicationException
ÎÎ )
ex
ÎÎ* ,
)
ÎÎ, -
{
ÏÏ 
HandleException
ÐÐ 
(
ÐÐ  
ex
ÐÐ  "
,
ÐÐ" #

Properties
ÐÐ$ .
.
ÐÐ. /
	Resources
ÐÐ/ 8
.
ÐÐ8 9!
lblWithoutConection
ÐÐ9 L
+
ÐÐM N
$str
ÐÐO T
+
ÐÐU V

Properties
ÐÐW a
.
ÐÐa b
	Resources
ÐÐb k
.
ÐÐk l(
lblFailRegistryToCallBackÐÐl 
)ÐÐ 
;ÐÐ 
}
ÑÑ 
catch
ÒÒ 
(
ÒÒ 
SocketException
ÒÒ "
ex
ÒÒ# %
)
ÒÒ% &
{
ÓÓ 
HandleException
ÔÔ 
(
ÔÔ  
ex
ÔÔ  "
,
ÔÔ" #

Properties
ÔÔ$ .
.
ÔÔ. /
	Resources
ÔÔ/ 8
.
ÔÔ8 9!
lblWithoutConection
ÔÔ9 L
+
ÔÔM N
$str
ÔÔO T
+
ÔÔU V

Properties
ÔÔW a
.
ÔÔa b
	Resources
ÔÔb k
.
ÔÔk l(
lblFailRegistryToCallBackÔÔl 
)ÔÔ 
;ÔÔ 
}
ÕÕ 
return
ÖÖ 
false
ÖÖ 
;
ÖÖ 
}
×× 	
private
ÚÚ 
void
ÚÚ 
GotoLobbyPage
ÚÚ "
(
ÚÚ" #
int
ÚÚ# &
enteredCode
ÚÚ' 2
)
ÚÚ2 3
{
ÛÛ 	
Views
ÜÜ 
.
ÜÜ 
PrincipalWindow
ÜÜ !

gameWindow
ÜÜ" ,
=
ÜÜ- .
new
ÜÜ/ 2
Views
ÜÜ3 8
.
ÜÜ8 9
PrincipalWindow
ÜÜ9 H
(
ÜÜH I
)
ÜÜI J
;
ÜÜJ K
	LobbyPage
ÝÝ 
	lobbyPage
ÝÝ 
=
ÝÝ  !
new
ÝÝ" %
	LobbyPage
ÝÝ& /
(
ÝÝ/ 0
enteredCode
ÝÝ0 ;
)
ÝÝ; <
;
ÝÝ< =

gameWindow
ÞÞ 
.
ÞÞ 
Show
ÞÞ 
(
ÞÞ 
)
ÞÞ 
;
ÞÞ 

gameWindow
ßß 
.
ßß 
contentFrame
ßß #
.
ßß# $
Navigate
ßß$ ,
(
ßß, -
	lobbyPage
ßß- 6
)
ßß6 7
;
ßß7 8
windowBehind
àà 
.
àà 
Close
àà 
(
àà 
)
àà  
;
àà  !
Window
áá 
.
áá 
	GetWindow
áá 
(
áá 
this
áá !
)
áá! "
.
áá" #
Close
áá# (
(
áá( )
)
áá) *
;
áá* +
}
ââ 	
private
ää 
void
ää 

ClickClose
ää 
(
ää  
object
ää  &
sender
ää' -
,
ää- ."
MouseButtonEventArgs
ää/ C
e
ääD E
)
ääE F
{
åå 	
Window
ææ 
.
ææ 
	GetWindow
ææ 
(
ææ 
this
ææ !
)
ææ! "
.
ææ" #
Close
ææ# (
(
ææ( )
)
ææ) *
;
ææ* +
}
çç 	
public
éé 
bool
éé 
IsClientActive
éé "
(
éé" #
)
éé# $
{
êê 	
return
ëë 
(
ëë 
(
ëë &
ICheckUserLivingCallback
ëë -
)
ëë- .
userSingleton
ëë. ;
)
ëë; <
.
ëë< =
IsClientActive
ëë= K
(
ëëK L
)
ëëL M
;
ëëM N
}
ìì 	
private
îî 
void
îî 
HandleException
îî $
(
îî$ %
	Exception
îî% .
ex
îî/ 1
,
îî1 2
string
îî3 9
errorMessage
îî: F
)
îîF G
{
ïï 	%
ExceptionHandlerForLogs
ðð #
.
ðð# $
LogException
ðð$ 0
(
ðð0 1
ex
ðð1 3
,
ðð3 4!
ExceptionDictionary
ðð5 H
.
ððH I
FATAL_EXCEPTION
ððI X
)
ððX Y
;
ððY Z!
DialogWindowManager
ññ 
.
ññ  #
ShowInfoOrErrorWindow
ññ  5
(
ññ5 6

Properties
ññ6 @
.
ññ@ A
	Resources
ññA J
.
ññJ K
txbErrorTitle
ññK X
,
ññX Y
errorMessage
ññZ f
,
ññf g
Application
ññh s
.
ññs t
Current
ññt {
.
ññ{ |

MainWindowññ| 
,ññ #
DialogWindowManagerññ 
.ññ 
ERRORññ ¡
)ññ¡ ¢
;ññ¢ £
}
òò 	
}
õõ 
}öö ÝÖ
lC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\FriendManager.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
FriendManager &
:' (
Page) -
,- .)
IFriendManagerActionsCallback/ L
{ 
private 
List 
< "
FriendBasicInformation +
>+ ,
friends- 4
;4 5
private 
List 
< "
FriendBasicInformation +
>+ ,
friendRequests- ;
;; <
private 
List 
< "
FriendBasicInformation +
>+ ,
otherPeople- 8
;8 9
private 
String 
textLeftButton %
=& '

Properties( 2
.2 3
	Resources3 <
.< =
	bttReport= F
;F G
private 
String 
textRightButton &
=' (

Properties) 3
.3 4
	Resources4 =
.= >
bttEliminate> J
;J K
private   
DispatcherTimer   
timer    %
;  % &
private!! 
int!! 
leftTime!! 
=!! 
$num!!  
;!!  !
private"" 
const"" 
int"" 

NOT_STATUS"" $
=""% &
$num""' (
;""( )
private## 
const## 
int## 

MY_FRIENDS## $
=##% &
$num##' (
;##( )
private$$ 
const$$ 
int$$ 
FRIENDS_REQUEST$$ )
=$$* +
$num$$, -
;$$- .
private%% 
const%% 
int%% 
OTHER_PEOPLE%% &
=%%' (
$num%%) *
;%%* +
private&& 
const&& 
int&& 
DECLINED_REQUEST&& *
=&&+ ,
$num&&- .
;&&. /
private'' 
const'' 
int'' 
SEND_REQUEST'' &
=''' (
$num'') *
;''* +
private(( 
const(( 
int(( 
ACCEPT_REQUEST(( (
=(() *
$num((+ ,
;((, -
private)) 
int)) 
typeUserConsult)) #
=))$ %

MY_FRIENDS))& 0
;))0 1
private** 
UserSingleton** 
userSingleton** +
;**+ ,
public,, 
FriendManager,, 
(,, 
),, 
{-- 	
InitializeComponent.. 
(..  
)..  !
;..! "
Loaded// 
+=// 
LoadedPrepareWindow// )
;//) *
}00 	
private22 
void22 
LoadedPrepareWindow22 (
(22( )
object22) /
sender220 6
,226 7
RoutedEventArgs228 G
e22H I
)22I J
{33 	
userSingleton44 
=44 
UserSingleton44 )
.44) *
GetMainUser44* 5
(445 6
)446 7
;447 8
try55 
{66 
InstanceContext77 
context77  '
=77( )
new77* -
InstanceContext77. =
(77= >
this77> B
)77B C
;77C D&
FriendManagerActionsClient88 *
friendActionsProxy88+ =
=88> ?
new88@ C&
FriendManagerActionsClient88D ^
(88^ _
context88_ f
)88f g
;88g h
friendActionsProxy99 "
.99" #%
RegisterFriendManagerUser99# <
(99< =
userSingleton99= J
.99J K
IdUser99K Q
)99Q R
;99R S
GetAllTables:: 
(:: 
):: 
;:: 
};; 
catch<< 
(<< 
SocketException<< "
ex<<# %
)<<% &
{== 
HandleException>> 
(>>  
ex>>  "
,>>" #

Properties>>$ .
.>>. /
	Resources>>/ 8
.>>8 9
lblEndPointNotFound>>9 L
)>>L M
;>>M N
GotoMenu?? 
(?? 
)?? 
;?? 
}@@ 
catchAA 
(AA %
EndpointNotFoundExceptionAA ,
exAA- /
)AA/ 0
{BB 
HandleExceptionCC 
(CC  
exCC  "
,CC" #

PropertiesCC$ .
.CC. /
	ResourcesCC/ 8
.CC8 9
lblEndPointNotFoundCC9 L
)CCL M
;CCM N
GotoMenuDD 
(DD 
)DD 
;DD 
}EE 
catchFF 
(FF /
#CommunicationObjectFaultedExceptionFF 6
exFF7 9
)FF9 :
{GG 
HandleExceptionHH 
(HH  
exHH  "
,HH" #

PropertiesHH$ .
.HH. /
	ResourcesHH/ 8
.HH8 9$
lblComunicationExceptionHH9 Q
)HHQ R
;HHR S
GotoMenuII 
(II 
)II 
;II 
}JJ 
catchKK 
(KK 
TimeoutExceptionKK #
exKK$ &
)KK& '
{LL 
HandleExceptionMM 
(MM  
exMM  "
,MM" #

PropertiesMM$ .
.MM. /
	ResourcesMM/ 8
.MM8 9
lblTimeExceptionMM9 I
)MMI J
;MMJ K
GotoMenuNN 
(NN 
)NN 
;NN 
}OO 
catchPP 
(PP "
CommunicationExceptionPP )
exPP* ,
)PP, -
{QQ 
HandleExceptionRR 
(RR  
exRR  "
,RR" #

PropertiesRR$ .
.RR. /
	ResourcesRR/ 8
.RR8 9$
lblComunicationExceptionRR9 Q
)RRQ R
;RRR S
GotoMenuSS 
(SS 
)SS 
;SS 
}TT 
}UU 	
privateXX 
voidXX 
GetAllTablesXX !
(XX! "
)XX" #
{YY 	
tryZZ 
{[[ 
if\\ 
(\\ 
userSingleton\\ !
!=\\" $
null\\% )
)\\) *
{]] 
UserPojo^^ 
userConsulted^^ *
=^^+ ,
new^^- 0
UserPojo^^1 9
(^^9 :
)^^: ;
{__ 
IdUser`` 
=``  
userSingleton``! .
.``. /
IdUser``/ 5
,``5 6
EmailAddressaa $
=aa% &
userSingletonaa' 4
.aa4 5
Emailaa5 :
,aa: ;
Namebb 
=bb 
userSingletonbb ,
.bb, -
Namebb- 1
,bb1 2
Passwordcc  
=cc! "
userSingletoncc# 0
.cc0 1
Passwordcc1 9
,cc9 :
UserNamedd  
=dd! "
userSingletondd# 0
.dd0 1
Namedd1 5
,dd5 6
}ee 
;ee 
ifff 
(ff 
!ff 

GetFriendsff "
(ff" #
userConsultedff# 0
)ff0 1
||ff2 4
!ff5 6
GetFriendRequestsff6 G
(ffG H
userConsultedffH U
)ffU V
||ffW Y
!ffZ [
GetNotFriendsff[ h
(ffh i
userConsultedffi v
)ffv w
)ffw x
{gg 
DialogWindowManagerhh +
.hh+ ,!
ShowInfoOrErrorWindowhh, A
(hhA B

PropertieshhB L
.hhL M
	ResourceshhM V
.hhV W
txbErrorTitlehhW d
,hhd e

Propertieshhf p
.hhp q
	Resourceshhq z
.hhz {$
lblFailToRecoverFriends	hh{ 
,
hh 
Application
hh 
.
hh  
Current
hh  §
.
hh§ ¨

MainWindow
hh¨ ²
,
hh² ³!
DialogWindowManager
hh´ Ç
.
hhÇ È
ERROR
hhÈ Í
)
hhÍ Î
;
hhÎ Ï
GotoMenuii  
(ii  !
)ii! "
;ii" #
}jj 
elsekk 
{ll 
SetCardsmm  
(mm  !
)mm! "
;mm" #
}nn 
}oo 
}pp 
catchqq 
(qq %
EndpointNotFoundExceptionqq ,
exqq- /
)qq/ 0
{rr 
HandleExceptionss 
(ss  
exss  "
,ss" #

Propertiesss$ .
.ss. /
	Resourcesss/ 8
.ss8 9
lblEndPointNotFoundss9 L
)ssL M
;ssM N
GotoMenutt 
(tt 
)tt 
;tt 
}uu 
catchvv 
(vv /
#CommunicationObjectFaultedExceptionvv 6
exvv7 9
)vv9 :
{ww 
HandleExceptionxx 
(xx  
exxx  "
,xx" #

Propertiesxx$ .
.xx. /
	Resourcesxx/ 8
.xx8 9$
lblComunicationExceptionxx9 Q
)xxQ R
;xxR S
GotoMenuyy 
(yy 
)yy 
;yy 
}zz 
catch{{ 
({{ 
TimeoutException{{ #
ex{{$ &
){{& '
{|| 
HandleException}} 
(}}  
ex}}  "
,}}" #

Properties}}$ .
.}}. /
	Resources}}/ 8
.}}8 9
lblTimeException}}9 I
)}}I J
;}}J K
GotoMenu~~ 
(~~ 
)~~ 
;~~ 
} 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblComunicationException
9 Q
)
Q R
;
R S
GotoMenu
 
(
 
)
 
;
 
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblComunicationException
9 Q
)
Q R
;
R S
GotoMenu
 
(
 
)
 
;
 
}
 
}
 	
private
 
bool
 

GetFriends
 
(
  
UserPojo
  (
userConsulted
) 6
)
6 7
{
 	
try
 
{
 "
ConsultFriendsClient
 $ 
friendManagerProxy
% 7
=
8 9
new
: ="
ConsultFriendsClient
> R
(
R S
)
S T
;
T U
var
 
friendsConsulted
 $
=
% & 
friendManagerProxy
' 9
.
9 :
GetUserFriends
: H
(
H I
userConsulted
I V
)
V W
;
W X
if
 
(
 
friendsConsulted
 $
.
$ %
	CodeEvent
% .
==
/ 1!
ExceptionDictionary
2 E
.
E F
SUCCESFULL_EVENT
F V
)
V W
{
 
friends
 
=
 
friendsConsulted
 .
.
. /
ObjectSaved
/ :
.
: ;
ToList
; A
(
A B
)
B C
;
C D
return
 
true
 
;
  
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
throw
 
new
 '
EndpointNotFoundException
 3
(
3 4

Properties
4 >
.
> ?
	Resources
? H
.
H I%
lblFailToRecoverFriends
I `
,
` a
ex
b d
)
d e
;
e f
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
throw
 
new
 1
#CommunicationObjectFaultedException
 =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S%
lblFailToRecoverFriends
S j
,
j k
ex
l n
)
n o
;
o p
}
 
catch
   
(
   
TimeoutException
   #
ex
  $ &
)
  & '
{
¡¡ 
throw
¢¢ 
new
¢¢ 
TimeoutException
¢¢ *
(
¢¢* +

Properties
¢¢+ 5
.
¢¢5 6
	Resources
¢¢6 ?
.
¢¢? @%
lblFailToRecoverFriends
¢¢@ W
,
¢¢W X
ex
¢¢Y [
)
¢¢[ \
;
¢¢\ ]
}
££ 
catch
¤¤ 
(
¤¤ $
CommunicationException
¤¤ )
ex
¤¤* ,
)
¤¤, -
{
¥¥ 
throw
¦¦ 
new
¦¦ $
CommunicationException
¦¦ 0
(
¦¦0 1

Properties
¦¦1 ;
.
¦¦; <
	Resources
¦¦< E
.
¦¦E F%
lblFailToRecoverFriends
¦¦F ]
,
¦¦] ^
ex
¦¦_ a
)
¦¦a b
;
¦¦b c
}
§§ 
catch
¨¨ 
(
¨¨ 
SocketException
¨¨ "
)
¨¨" #
{
©© 
throw
ªª 
new
ªª 
SocketException
ªª )
(
ªª) *
)
ªª* +
;
ªª+ ,
}
«« 
return
¬¬ 
false
¬¬ 
;
¬¬ 
}
­­ 	
private
¯¯ 
bool
¯¯ 
GetFriendRequests
¯¯ &
(
¯¯& '
UserPojo
¯¯' /
userConsulted
¯¯0 =
)
¯¯= >
{
°° 	
try
±± 
{
²² "
ConsultFriendsClient
³³ $ 
friendManagerProxy
³³% 7
=
³³8 9
new
³³: ="
ConsultFriendsClient
³³> R
(
³³R S
)
³³S T
;
³³T U
var
´´ %
friendRequestsConsulted
´´ +
=
´´, - 
friendManagerProxy
´´. @
.
´´@ A#
GetUserFriendRequests
´´A V
(
´´V W
userConsulted
´´W d
)
´´d e
;
´´e f
if
µµ 
(
µµ %
friendRequestsConsulted
µµ +
.
µµ+ ,
	CodeEvent
µµ, 5
==
µµ6 8!
ExceptionDictionary
µµ9 L
.
µµL M
SUCCESFULL_EVENT
µµM ]
)
µµ] ^
{
¶¶ 
friendRequests
·· "
=
··# $%
friendRequestsConsulted
··% <
.
··< =
ObjectSaved
··= H
.
··H I
ToList
··I O
(
··O P
)
··P Q
;
··Q R
return
¸¸ 
true
¸¸ 
;
¸¸  
}
¹¹ 
}
ºº 
catch
»» 
(
»» '
EndpointNotFoundException
»» ,
ex
»»- /
)
»»/ 0
{
¼¼ 
throw
½½ 
new
½½ '
EndpointNotFoundException
½½ 3
(
½½3 4

Properties
½½4 >
.
½½> ?
	Resources
½½? H
.
½½H I%
lblFailToRecoverFriends
½½I `
,
½½` a
ex
½½b d
)
½½d e
;
½½e f
}
¾¾ 
catch
¿¿ 
(
¿¿ 1
#CommunicationObjectFaultedException
¿¿ 6
ex
¿¿7 9
)
¿¿9 :
{
ÀÀ 
throw
ÁÁ 
new
ÁÁ 1
#CommunicationObjectFaultedException
ÁÁ =
(
ÁÁ= >

Properties
ÁÁ> H
.
ÁÁH I
	Resources
ÁÁI R
.
ÁÁR S%
lblFailToRecoverFriends
ÁÁS j
,
ÁÁj k
ex
ÁÁl n
)
ÁÁn o
;
ÁÁo p
}ÂÂ 
catch
ÃÃ 
(
ÃÃ 
TimeoutException
ÃÃ #
ex
ÃÃ$ &
)
ÃÃ& '
{
ÄÄ 
throw
ÅÅ 
new
ÅÅ 
TimeoutException
ÅÅ *
(
ÅÅ* +

Properties
ÅÅ+ 5
.
ÅÅ5 6
	Resources
ÅÅ6 ?
.
ÅÅ? @%
lblFailToRecoverFriends
ÅÅ@ W
,
ÅÅW X
ex
ÅÅY [
)
ÅÅ[ \
;
ÅÅ\ ]
}
ÆÆ 
catch
ÇÇ 
(
ÇÇ $
CommunicationException
ÇÇ )
ex
ÇÇ* ,
)
ÇÇ, -
{
ÈÈ 
throw
ÉÉ 
new
ÉÉ $
CommunicationException
ÉÉ 0
(
ÉÉ0 1

Properties
ÉÉ1 ;
.
ÉÉ; <
	Resources
ÉÉ< E
.
ÉÉE F%
lblFailToRecoverFriends
ÉÉF ]
,
ÉÉ] ^
ex
ÉÉ_ a
)
ÉÉa b
;
ÉÉb c
}
ÊÊ 
catch
ËË 
(
ËË 
SocketException
ËË "
)
ËË" #
{
ÌÌ 
throw
ÍÍ 
new
ÍÍ 
SocketException
ÍÍ )
(
ÍÍ) *
)
ÍÍ* +
;
ÍÍ+ ,
}
ÎÎ 
return
ÏÏ 
false
ÏÏ 
;
ÏÏ 
}
ÐÐ 	
private
ÒÒ 
bool
ÒÒ 
GetNotFriends
ÒÒ "
(
ÒÒ" #
UserPojo
ÒÒ# +
userConsulted
ÒÒ, 9
)
ÒÒ9 :
{
ÓÓ 	
try
ÔÔ 
{
ÔÔ "
ConsultFriendsClient
ÕÕ $ 
friendManagerProxy
ÕÕ% 7
=
ÕÕ8 9
new
ÕÕ: ="
ConsultFriendsClient
ÕÕ> R
(
ÕÕR S
)
ÕÕS T
;
ÕÕT U
var
ÖÖ "
otherPeopleConsulted
ÖÖ (
=
ÖÖ) * 
friendManagerProxy
ÖÖ+ =
.
ÖÖ= > 
GetUsersNotFriends
ÖÖ> P
(
ÖÖP Q
userConsulted
ÖÖQ ^
)
ÖÖ^ _
;
ÖÖ_ `
if
×× 
(
×× "
otherPeopleConsulted
×× (
.
××( )
	CodeEvent
××) 2
==
××3 5!
ExceptionDictionary
××6 I
.
××I J
SUCCESFULL_EVENT
××J Z
)
××Z [
{
ØØ 
otherPeople
ÙÙ 
=
ÙÙ  !"
otherPeopleConsulted
ÙÙ" 6
.
ÙÙ6 7
ObjectSaved
ÙÙ7 B
.
ÙÙB C
ToList
ÙÙC I
(
ÙÙI J
)
ÙÙJ K
;
ÙÙK L
return
ÚÚ 
true
ÚÚ 
;
ÚÚ  
}
ÛÛ 
}
ÜÜ 
catch
ÝÝ 
(
ÝÝ '
EndpointNotFoundException
ÝÝ ,
ex
ÝÝ- /
)
ÝÝ/ 0
{
ÞÞ 
throw
ßß 
new
ßß '
EndpointNotFoundException
ßß 3
(
ßß3 4

Properties
ßß4 >
.
ßß> ?
	Resources
ßß? H
.
ßßH I%
lblFailToRecoverFriends
ßßI `
,
ßß` a
ex
ßßb d
)
ßßd e
;
ßße f
}
àà 
catch
áá 
(
áá 1
#CommunicationObjectFaultedException
áá 6
ex
áá7 9
)
áá9 :
{
ââ 
throw
ãã 
new
ãã 1
#CommunicationObjectFaultedException
ãã =
(
ãã= >

Properties
ãã> H
.
ããH I
	Resources
ããI R
.
ããR S%
lblFailToRecoverFriends
ããS j
,
ããj k
ex
ããl n
)
ããn o
;
ãão p
}
ää 
catch
åå 
(
åå 
TimeoutException
åå #
ex
åå$ &
)
åå& '
{
ææ 
throw
çç 
new
çç 
TimeoutException
çç *
(
çç* +

Properties
çç+ 5
.
çç5 6
	Resources
çç6 ?
.
çç? @%
lblFailToRecoverFriends
çç@ W
,
ççW X
ex
ççY [
)
çç[ \
;
çç\ ]
}
èè 
catch
éé 
(
éé $
CommunicationException
éé )
ex
éé* ,
)
éé, -
{
êê 
throw
ëë 
new
ëë $
CommunicationException
ëë 0
(
ëë0 1

Properties
ëë1 ;
.
ëë; <
	Resources
ëë< E
.
ëëE F%
lblFailToRecoverFriends
ëëF ]
,
ëë] ^
ex
ëë_ a
)
ëëa b
;
ëëb c
}
ìì 
catch
íí 
(
íí 
SocketException
íí "
)
íí" #
{
îî 
throw
ïï 
new
ïï 
SocketException
ïï )
(
ïï) *
)
ïï* +
;
ïï+ ,
}
ðð 
return
ññ 
false
ññ 
;
ññ 
}
òò 	
private
öö 
void
öö 
SetCards
öö 
(
öö 
)
öö 
{
÷÷ 	#
stpFrinedsManagerList
øø !
.
øø! "
Children
øø" *
.
øø* +
Clear
øø+ 0
(
øø0 1
)
øø1 2
;
øø2 3
List
ùù 
<
ùù $
FriendBasicInformation
ùù '
>
ùù' (
listOfUsers
ùù) 4
;
ùù4 5
switch
úú 
(
úú 
typeUserConsult
úú #
)
úú# $
{
ûû 
case
üü 

MY_FRIENDS
üü 
:
üü  
listOfUsers
ýý 
=
ýý  !
new
ýý" %
List
ýý& *
<
ýý* +$
FriendBasicInformation
ýý+ A
>
ýýA B
(
ýýB C
friends
ýýC J
)
ýýJ K
;
ýýK L
break
þþ 
;
þþ 
case
ÿÿ 
FRIENDS_REQUEST
ÿÿ $
:
ÿÿ$ %
listOfUsers
 
=
  !
new
" %
List
& *
<
* +$
FriendBasicInformation
+ A
>
A B
(
B C
friendRequests
C Q
)
Q R
;
R S
break
 
;
 
case
 
OTHER_PEOPLE
 !
:
! "
listOfUsers
 
=
  !
new
" %
List
& *
<
* +$
FriendBasicInformation
+ A
>
A B
(
B C
otherPeople
C N
)
N O
;
O P
break
 
;
 
default
 
:
 
listOfUsers
 
=
  !
new
" %
List
& *
<
* +$
FriendBasicInformation
+ A
>
A B
(
B C
)
C D
;
D E
break
 
;
 
}
 
foreach
 
(
 
var
 
item
 
in
  
listOfUsers
! ,
)
, -
{
 
Border
 
brdCard
 
=
  
new
! $
Border
% +
(
+ ,
)
, -
;
- .(
FriendCardManagementWindow
 *"
friendCardManagement
+ ?
=
@ A
new
B E(
FriendCardManagementWindow
F `
(
` a
item
a e
.
e f
IdUser
f l
,
l m
item
n r
.
r s
UserName
s {
,
{ |
typeUserConsult} 
, 
textLeftButton 
, 
textRightButton ­
,­ ®
this¯ ³
)³ ´
;´ µ
brdCard
 
.
 
Child
 
=
 "
friendCardManagement
  4
;
4 5#
stpFrinedsManagerList
 %
.
% &
Children
& .
.
. /
Add
/ 2
(
2 3 
SetBorderCardStyle
3 E
(
E F
brdCard
F M
)
M N
)
N O
;
O P
}
 
}
 	
private
 
Border
  
SetBorderCardStyle
 )
(
) *
Border
* 0
brdCard
1 8
)
8 9
{
 	
brdCard
 
.
 

Background
 
=
  
new
! $
SolidColorBrush
% 4
(
4 5
(
5 6
Color
6 ;
)
; <
ColorConverter
< J
.
J K
ConvertFromString
K \
(
\ ]
$str
] f
)
f g
)
g h
;
h i
brdCard
 
.
 

Background
 
.
 
Opacity
 &
=
' (
$num
) -
;
- .
brdCard
 
.
 
CornerRadius
  
=
! "
new
# &
CornerRadius
' 3
(
3 4
$num
4 6
)
6 7
;
7 8
brdCard
 
.
 
Margin
 
=
 
new
  
	Thickness
! *
(
* +
$num
+ -
,
- .
$num
/ 1
,
1 2
$num
3 4
,
4 5
$num
6 8
)
8 9
;
9 :
brdCard
 
.
 
Width
 
=
 
$num
  
;
  !
brdCard
 
.
 
MaxWidth
 
=
 
$num
 #
;
# $
brdCard
 
.
 
Height
 
=
 
$num
 
;
  
brdCard
 
.
 !
HorizontalAlignment
 '
=
( )!
HorizontalAlignment
* =
.
= >
Left
> B
;
B C
return
 
brdCard
 
;
 
}
 	
private
   
void
   #
ClickConsultMyFriends
   *
(
  * +
object
  + 1
sender
  2 8
,
  8 9"
MouseButtonEventArgs
  : N
e
  O P
)
  P Q
{
¡¡ 	
typeUserConsult
¢¢ 
=
¢¢ 

MY_FRIENDS
¢¢ (
;
¢¢( )
textLeftButton
££ 
=
££ 

Properties
££ '
.
££' (
	Resources
££( 1
.
££1 2
	bttReport
££2 ;
;
££; <
textRightButton
¤¤ 
=
¤¤ 

Properties
¤¤ (
.
¤¤( )
	Resources
¤¤) 2
.
¤¤2 3
bttEliminate
¤¤3 ?
;
¤¤? @
SelectLabel
¥¥ 
(
¥¥ 
lblMyFriends
¥¥ $
)
¥¥$ %
;
¥¥% &
SetCards
¦¦ 
(
¦¦ 
)
¦¦ 
;
¦¦ 
}
§§ 	
private
©© 
void
©© +
ClickConsultFriendSolicitudes
©© 2
(
©©2 3
object
©©3 9
sender
©©: @
,
©©@ A"
MouseButtonEventArgs
©©B V
e
©©W X
)
©©X Y
{
ªª 	
typeUserConsult
«« 
=
«« 
FRIENDS_REQUEST
«« -
;
««- .
textLeftButton
¬¬ 
=
¬¬ 

Properties
¬¬ '
.
¬¬' (
	Resources
¬¬( 1
.
¬¬1 2$
bttAcceptFriendRequest
¬¬2 H
;
¬¬H I
textRightButton
­­ 
=
­­ 

Properties
­­ (
.
­­( )
	Resources
­­) 2
.
­­2 3%
bttDeclineFriendRequest
­­3 J
;
­­J K
SelectLabel
®® 
(
®® 
lblRequests
®® #
)
®®# $
;
®®$ %
SetCards
¯¯ 
(
¯¯ 
)
¯¯ 
;
¯¯ 
}
°° 	
private
²² 
void
²² $
ClickConsultMorePeople
²² +
(
²²+ ,
object
²², 2
sender
²²3 9
,
²²9 :"
MouseButtonEventArgs
²²; O
e
²²P Q
)
²²Q R
{
³³ 	
typeUserConsult
´´ 
=
´´ 
OTHER_PEOPLE
´´ *
;
´´* +
textLeftButton
µµ 
=
µµ 

Properties
µµ '
.
µµ' (
	Resources
µµ( 1
.
µµ1 2
bttAddFriend
µµ2 >
;
µµ> ?
textRightButton
¶¶ 
=
¶¶ 

Properties
¶¶ (
.
¶¶( )
	Resources
¶¶) 2
.
¶¶2 3
	bttReport
¶¶3 <
;
¶¶< =
SelectLabel
·· 
(
·· 
lblMorePeople
·· %
)
··% &
;
··& '
SetCards
¸¸ 
(
¸¸ 
)
¸¸ 
;
¸¸ 
}
¹¹ 	
private
»» 
void
»» 
SelectLabel
»»  
(
»»  !
Label
»»! &
selectedLabel
»»' 4
)
»»4 5
{
¼¼ 	
lblMyFriends
½½ 
.
½½ 
FontSize
½½ !
=
½½" #
$num
½½$ &
;
½½& '
lblMyFriends
¾¾ 
.
¾¾ 

Foreground
¾¾ #
=
¾¾$ %
new
¾¾& )
SolidColorBrush
¾¾* 9
(
¾¾9 :
Colors
¾¾: @
.
¾¾@ A
White
¾¾A F
)
¾¾F G
;
¾¾G H
lblRequests
¿¿ 
.
¿¿ 
FontSize
¿¿  
=
¿¿! "
$num
¿¿# %
;
¿¿% &
lblRequests
ÀÀ 
.
ÀÀ 

Foreground
ÀÀ "
=
ÀÀ# $
new
ÀÀ% (
SolidColorBrush
ÀÀ) 8
(
ÀÀ8 9
Colors
ÀÀ9 ?
.
ÀÀ? @
White
ÀÀ@ E
)
ÀÀE F
;
ÀÀF G
lblMorePeople
ÁÁ 
.
ÁÁ 
FontSize
ÁÁ "
=
ÁÁ# $
$num
ÁÁ% '
;
ÁÁ' (
lblMorePeople
ÂÂ 
.
ÂÂ 

Foreground
ÂÂ $
=
ÂÂ% &
new
ÂÂ' *
SolidColorBrush
ÂÂ+ :
(
ÂÂ: ;
Colors
ÂÂ; A
.
ÂÂA B
White
ÂÂB G
)
ÂÂG H
;
ÂÂH I
selectedLabel
ÃÃ 
.
ÃÃ 
FontSize
ÃÃ "
=
ÃÃ# $
$num
ÃÃ% '
;
ÃÃ' (
selectedLabel
ÄÄ 
.
ÄÄ 

Foreground
ÄÄ $
=
ÄÄ% &
new
ÄÄ' *
SolidColorBrush
ÄÄ+ :
(
ÄÄ: ;
Colors
ÄÄ; A
.
ÄÄA B
	LightGray
ÄÄB K
)
ÄÄK L
;
ÄÄL M
}
ÅÅ 	
public
ÇÇ 
void
ÇÇ 

ReportUser
ÇÇ 
(
ÇÇ 
int
ÇÇ "
idPlayer
ÇÇ# +
)
ÇÇ+ ,
{
ÈÈ 	
try
ÉÉ 
{
ÊÊ (
FriendManagerActionsClient
ËË *(
friendActionsCallBackProxy
ËË+ E
=
ËËF G
new
ËËH K(
FriendManagerActionsClient
ËËL f
(
ËËf g
new
ËËg j
InstanceContext
ËËk z
(
ËËz {
this
ËË{ 
)ËË 
)ËË 
;ËË (
friendActionsCallBackProxy
ÌÌ *
.
ÌÌ* +,
RenewFriendManagerUserCallBack
ÌÌ+ I
(
ÌÌI J
userSingleton
ÌÌJ W
.
ÌÌW X
IdUser
ÌÌX ^
)
ÌÌ^ _
;
ÌÌ_ `1
#FriendManagerActionOperationsClient
ÎÎ 3 
friendActionsProxy
ÎÎ4 F
=
ÎÎG H
new
ÎÎI L
(
ÎÎL M
)
ÎÎM N
;
ÎÎN O
var
ÏÏ 
result
ÏÏ 
=
ÏÏ  
friendActionsProxy
ÏÏ /
.
ÏÏ/ 0
BanUser
ÏÏ0 7
(
ÏÏ7 8
idPlayer
ÏÏ8 @
,
ÏÏ@ A
userSingleton
ÏÏB O
.
ÏÏO P
IdUser
ÏÏP V
)
ÏÏV W
;
ÏÏW X
if
ÐÐ 
(
ÐÐ 
result
ÐÐ 
.
ÐÐ 
	CodeEvent
ÐÐ $
==
ÐÐ% '!
ExceptionDictionary
ÐÐ( ;
.
ÐÐ; <
SUCCESFULL_EVENT
ÐÐ< L
)
ÐÐL M
{
ÑÑ !
DialogWindowManager
ÒÒ '
.
ÒÒ' (#
ShowInfoOrErrorWindow
ÒÒ( =
(
ÒÒ= >

Properties
ÒÒ> H
.
ÒÒH I
	Resources
ÒÒI R
.
ÒÒR S!
txbInformationTitle
ÒÒS f
,
ÒÒf g

Properties
ÒÒh r
.
ÒÒr s
	Resources
ÒÒs |
.
ÒÒ| }$
lblSuccesReportedUserÒÒ} 
,ÒÒ 
ApplicationÒÒ 
.ÒÒ  
CurrentÒÒ  §
.ÒÒ§ ¨

MainWindowÒÒ¨ ²
,ÒÒ² ³#
DialogWindowManagerÒÒ´ Ç
.ÒÒÇ È
INFORMATIONÒÒÈ Ó
)ÒÒÓ Ô
;ÒÒÔ Õ
}
ÓÓ 
else
ÔÔ 
{
ÕÕ !
DialogWindowManager
ÖÖ '
.
ÖÖ' (#
ShowInfoOrErrorWindow
ÖÖ( =
(
ÖÖ= >

Properties
ÖÖ> H
.
ÖÖH I
	Resources
ÖÖI R
.
ÖÖR S
txbErrorTitle
ÖÖS `
,
ÖÖ` a

Properties
ÖÖb l
.
ÖÖl m
	Resources
ÖÖm v
.
ÖÖv w#
lblFailToReportAUserÖÖw 
,ÖÖ 
ApplicationÖÖ 
.ÖÖ 
CurrentÖÖ  
.ÖÖ  ¡

MainWindowÖÖ¡ «
,ÖÖ« ¬#
DialogWindowManagerÖÖ­ À
.ÖÖÀ Á
ERRORÖÖÁ Æ
)ÖÖÆ Ç
;ÖÖÇ È
}
×× 
}
ØØ 
catch
ÙÙ 
(
ÙÙ '
EndpointNotFoundException
ÙÙ ,
ex
ÙÙ- /
)
ÙÙ/ 0
{
ÚÚ 
HandleException
ÛÛ 
(
ÛÛ  
ex
ÛÛ  "
,
ÛÛ" #

Properties
ÛÛ$ .
.
ÛÛ. /
	Resources
ÛÛ/ 8
.
ÛÛ8 9"
lblFailToReportAUser
ÛÛ9 M
+
ÛÛN O
$str
ÛÛP U
+
ÛÛV W

Properties
ÛÛX b
.
ÛÛb c
	Resources
ÛÛc l
.
ÛÛl m"
lblEndPointNotFoundÛÛm 
)ÛÛ 
;ÛÛ 
}
ÜÜ 
catch
ÝÝ 
(
ÝÝ 1
#CommunicationObjectFaultedException
ÝÝ 6
ex
ÝÝ7 9
)
ÝÝ9 :
{
ÞÞ 
HandleException
ßß 
(
ßß  
ex
ßß  "
,
ßß" #

Properties
ßß$ .
.
ßß. /
	Resources
ßß/ 8
.
ßß8 9"
lblFailToReportAUser
ßß9 M
+
ßßN O
$str
ßßP U
+
ßßV W

Properties
ßßX b
.
ßßb c
	Resources
ßßc l
.
ßßl m'
lblComunicationExceptionßßm 
)ßß 
;ßß 
}
àà 
catch
áá 
(
áá 
TimeoutException
áá #
ex
áá$ &
)
áá& '
{
ââ 
HandleException
ãã 
(
ãã  
ex
ãã  "
,
ãã" #

Properties
ãã$ .
.
ãã. /
	Resources
ãã/ 8
.
ãã8 9"
lblFailToReportAUser
ãã9 M
+
ããN O
$str
ããP U
+
ããV W

Properties
ããX b
.
ããb c
	Resources
ããc l
.
ããl m
lblTimeException
ããm }
)
ãã} ~
;
ãã~ 
}
ää 
catch
åå 
(
åå $
CommunicationException
åå )
ex
åå* ,
)
åå, -
{
ææ 
HandleException
çç 
(
çç  
ex
çç  "
,
çç" #

Properties
çç$ .
.
çç. /
	Resources
çç/ 8
.
çç8 9"
lblFailToReportAUser
çç9 M
+
ççN O
$str
ççP U
+
ççV W

Properties
ççX b
.
ççb c
	Resources
ççc l
.
ççl m'
lblComunicationExceptionççm 
)çç 
;çç 
}
èè 
catch
éé 
(
éé 
SocketException
éé "
ex
éé# %
)
éé% &
{
êê 
HandleException
ëë 
(
ëë  
ex
ëë  "
,
ëë" #

Properties
ëë$ .
.
ëë. /
	Resources
ëë/ 8
.
ëë8 9"
lblFailToReportAUser
ëë9 M
+
ëëN O
$str
ëëP U
+
ëëV W

Properties
ëëX b
.
ëëb c
	Resources
ëëc l
.
ëël m"
lblEndPointNotFoundëëm 
)ëë 
;ëë 
}
ìì 
}
íí 	
public
ïï 
void
ïï 
EliminateFriend
ïï #
(
ïï# $
int
ïï$ '%
idUserFriendToEliminate
ïï( ?
)
ïï? @
{
ðð 	
try
ññ 
{
òò (
FriendManagerActionsClient
óó *(
friendActionsCallBackProxy
óó+ E
=
óóF G
new
óóH K(
FriendManagerActionsClient
óóL f
(
óóf g
new
óóg j
InstanceContext
óók z
(
óóz {
this
óó{ 
)óó 
)óó 
;óó (
friendActionsCallBackProxy
ôô *
.
ôô* +,
RenewFriendManagerUserCallBack
ôô+ I
(
ôôI J
userSingleton
ôôJ W
.
ôôW X
IdUser
ôôX ^
)
ôô^ _
;
ôô_ `1
#FriendManagerActionOperationsClient
õõ 3 
friendActionsProxy
õõ4 F
=
õõG H
new
õõI L
(
õõL M
)
õõM N
;
õõN O 
friendActionsProxy
öö "
.
öö" #&
EliminateUserFromFriends
öö# ;
(
öö; <
userSingleton
öö< I
.
ööI J
IdPlayer
ööJ R
,
ööR S%
idUserFriendToEliminate
ööT k
)
öök l
;
ööl m
String
÷÷ 
userName
÷÷ 
=
÷÷  !
String
÷÷" (
.
÷÷( )
Empty
÷÷) .
;
÷÷. /
foreach
øø 
(
øø 
var
øø 
item
øø !
in
øø" $
friends
øø% ,
)
øø, -
{
ùù 
if
úú 
(
úú 
item
úú 
.
úú 
IdUser
úú #
==
úú$ &%
idUserFriendToEliminate
úú' >
)
úú> ?
{
ûû 
friends
üü 
.
üü  
Remove
üü  &
(
üü& '
item
üü' +
)
üü+ ,
;
üü, -
userName
ýý  
=
ýý! "
item
ýý# '
.
ýý' (
UserName
ýý( 0
;
ýý0 1
break
þþ 
;
þþ 
}
ÿÿ 
}
 
if
 
(
 
!
 
otherPeople
  
.
  !
Exists
! '
(
' (
pla
( +
=>
, .
pla
/ 2
.
2 3
UserName
3 ;
.
; <
Equals
< B
(
B C
userName
C K
)
K L
)
L M
)
M N
{
 $
FriendBasicInformation
 *
	newFriend
+ 4
=
5 6
new
7 :$
FriendBasicInformation
; Q
(
Q R
)
R S
;
S T
	newFriend
 
.
 
IdUser
 $
=
% &%
idUserFriendToEliminate
' >
;
> ?
	newFriend
 
.
 
UserName
 &
=
' (
userName
) 1
;
1 2
	newFriend
 
.
 "
IdStatusAvailability
 2
=
3 4

NOT_STATUS
5 ?
;
? @
otherPeople
 
.
  
Add
  #
(
# $
	newFriend
$ -
)
- .
;
. /
}
 
SetCards
 
(
 
)
 
;
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblFailToEliminateFriend
9 Q
+
R S
$str
T Y
+
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q"
lblEndPointNotFoundq 
) 
; 
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblFailToEliminateFriend
9 Q
+
R S
$str
T Y
+
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q'
lblComunicationExceptionq 
) 
; 
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblFailToEliminateFriend
9 Q
+
R S
$str
T Y
+
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q
lblTimeExceptionq 
) 
; 
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9&
lblFailToEliminateFriend
9 Q
+
R S
$str
T Y
+
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q'
lblComunicationExceptionq 
) 
; 
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9"
lblFailToReportAUser
9 M
+
N O
$str
P U
+
V W

Properties
X b
.
b c
	Resources
c l
.
l m"
lblEndPointNotFoundm 
) 
; 
}
 
}
 	
public
¡¡ 
void
¡¡ 
SentFriendRequest
¡¡ %
(
¡¡% &
int
¡¡& )
idUserRequested
¡¡* 9
)
¡¡9 :
{
¢¢ 	
try
££ 
{
¤¤ (
FriendManagerActionsClient
¥¥ *(
friendActionsCallBackProxy
¥¥+ E
=
¥¥F G
new
¥¥H K(
FriendManagerActionsClient
¥¥L f
(
¥¥f g
new
¥¥g j
InstanceContext
¥¥k z
(
¥¥z {
this
¥¥{ 
)¥¥ 
)¥¥ 
;¥¥ (
friendActionsCallBackProxy
¦¦ *
.
¦¦* +,
RenewFriendManagerUserCallBack
¦¦+ I
(
¦¦I J
userSingleton
¦¦J W
.
¦¦W X
IdUser
¦¦X ^
)
¦¦^ _
;
¦¦_ `1
#FriendManagerActionOperationsClient
¨¨ 3 
friendActionsProxy
¨¨4 F
=
¨¨G H
new
¨¨I L
(
¨¨L M
)
¨¨M N
;
¨¨N O 
friendActionsProxy
©© "
.
©©" #
SendFriendRequest
©©# 4
(
©©4 5
userSingleton
©©5 B
.
©©B C
IdPlayer
©©C K
,
©©K L
idUserRequested
©©M \
)
©©\ ]
;
©©] ^$
FriendBasicInformation
ªª &
item
ªª' +
=
ªª, -
otherPeople
ªª. 9
.
ªª9 :
Find
ªª: >
(
ªª> ?
pla
ªª? B
=>
ªªC E
pla
ªªF I
.
ªªI J
IdUser
ªªJ P
==
ªªQ S
idUserRequested
ªªT c
)
ªªc d
;
ªªd e
if
«« 
(
«« 
item
«« 
.
«« 
IdUser
«« 
==
««  "
idUserRequested
««# 2
)
««2 3
{
¬¬ 
otherPeople
­­ 
.
­­  
Remove
­­  &
(
­­& '
item
­­' +
)
­­+ ,
;
­­, -
}
®® 
SetCards
¯¯ 
(
¯¯ 
)
¯¯ 
;
¯¯ 
}
°° 
catch
±± 
(
±± '
EndpointNotFoundException
±± ,
ex
±±- /
)
±±/ 0
{
²² 
HandleException
³³ 
(
³³  
ex
³³  "
,
³³" #

Properties
³³$ .
.
³³. /
	Resources
³³/ 8
.
³³8 9+
lblFailToSentTheFriendRequest
³³9 V
+
³³W X
$str
³³Y ^
+
³³_ `

Properties
³³a k
.
³³k l
	Resources
³³l u
.
³³u v"
lblEndPointNotFound³³v 
)³³ 
;³³ 
}
´´ 
catch
µµ 
(
µµ 1
#CommunicationObjectFaultedException
µµ 6
ex
µµ7 9
)
µµ9 :
{
¶¶ 
HandleException
·· 
(
··  
ex
··  "
,
··" #

Properties
··$ .
.
··. /
	Resources
··/ 8
.
··8 9+
lblFailToSentTheFriendRequest
··9 V
+
··W X
$str
··Y ^
+
··_ `

Properties
··a k
.
··k l
	Resources
··l u
.
··u v'
lblComunicationException··v 
)·· 
;·· 
}
¸¸ 
catch
¹¹ 
(
¹¹ 
TimeoutException
¹¹ #
ex
¹¹$ &
)
¹¹& '
{
ºº 
HandleException
»» 
(
»»  
ex
»»  "
,
»»" #

Properties
»»$ .
.
»». /
	Resources
»»/ 8
.
»»8 9+
lblFailToSentTheFriendRequest
»»9 V
+
»»W X
$str
»»Y ^
+
»»_ `

Properties
»»a k
.
»»k l
	Resources
»»l u
.
»»u v
lblTimeException»»v 
)»» 
;»» 
}
¼¼ 
catch
½½ 
(
½½ $
CommunicationException
½½ )
ex
½½* ,
)
½½, -
{
¾¾ 
HandleException
¿¿ 
(
¿¿  
ex
¿¿  "
,
¿¿" #

Properties
¿¿$ .
.
¿¿. /
	Resources
¿¿/ 8
.
¿¿8 9+
lblFailToSentTheFriendRequest
¿¿9 V
+
¿¿W X
$str
¿¿Y ^
+
¿¿_ `

Properties
¿¿a k
.
¿¿k l
	Resources
¿¿l u
.
¿¿u v'
lblComunicationException¿¿v 
)¿¿ 
;¿¿ 
}
ÀÀ 
catch
ÁÁ 
(
ÁÁ 
SocketException
ÁÁ "
ex
ÁÁ# %
)
ÁÁ% &
{
ÂÂ 
HandleException
ÃÃ 
(
ÃÃ  
ex
ÃÃ  "
,
ÃÃ" #

Properties
ÃÃ$ .
.
ÃÃ. /
	Resources
ÃÃ/ 8
.
ÃÃ8 9"
lblFailToReportAUser
ÃÃ9 M
+
ÃÃN O
$str
ÃÃP U
+
ÃÃV W

Properties
ÃÃX b
.
ÃÃb c
	Resources
ÃÃc l
.
ÃÃl m"
lblEndPointNotFoundÃÃm 
)ÃÃ 
;ÃÃ 
}
ÄÄ 
}
ÅÅ 	
public
ÇÇ 
void
ÇÇ !
AcceptFriendRequest
ÇÇ '
(
ÇÇ' (
int
ÇÇ( +
idUserRequesting
ÇÇ, <
,
ÇÇ< =
String
ÇÇ> D
userName
ÇÇE M
)
ÇÇM N
{
ÈÈ 	
try
ÉÉ 
{
ÊÊ (
FriendManagerActionsClient
ËË *(
friendActionsCallBackProxy
ËË+ E
=
ËËF G
new
ËËH K(
FriendManagerActionsClient
ËËL f
(
ËËf g
new
ËËg j
InstanceContext
ËËk z
(
ËËz {
this
ËË{ 
)ËË 
)ËË 
;ËË (
friendActionsCallBackProxy
ÌÌ *
.
ÌÌ* +,
RenewFriendManagerUserCallBack
ÌÌ+ I
(
ÌÌI J
userSingleton
ÌÌJ W
.
ÌÌW X
IdUser
ÌÌX ^
)
ÌÌ^ _
;
ÌÌ_ `1
#FriendManagerActionOperationsClient
ÎÎ 3 
friendActionsProxy
ÎÎ4 F
=
ÎÎG H
new
ÎÎI L
(
ÎÎL M
)
ÎÎM N
;
ÎÎN O 
friendActionsProxy
ÏÏ "
.
ÏÏ" #!
AcceptFriendRequest
ÏÏ# 6
(
ÏÏ6 7
userSingleton
ÏÏ7 D
.
ÏÏD E
IdPlayer
ÏÏE M
,
ÏÏM N
idUserRequesting
ÏÏO _
)
ÏÏ_ `
;
ÏÏ` a
foreach
ÐÐ 
(
ÐÐ 
var
ÐÐ 
item
ÐÐ !
in
ÐÐ" $
friendRequests
ÐÐ% 3
)
ÐÐ3 4
{
ÑÑ 
if
ÒÒ 
(
ÒÒ 
item
ÒÒ 
.
ÒÒ 
IdUser
ÒÒ #
==
ÒÒ$ &
idUserRequesting
ÒÒ' 7
)
ÒÒ7 8
{
ÓÓ 
friendRequests
ÔÔ &
.
ÔÔ& '
Remove
ÔÔ' -
(
ÔÔ- .
item
ÔÔ. 2
)
ÔÔ2 3
;
ÔÔ3 4
break
ÕÕ 
;
ÕÕ 
}
ÖÖ 
}
×× 
if
ØØ 
(
ØØ 
!
ØØ 
friends
ØØ 
.
ØØ 
Exists
ØØ #
(
ØØ# $
pla
ØØ$ '
=>
ØØ( *
pla
ØØ+ .
.
ØØ. /
IdUser
ØØ/ 5
==
ØØ6 8
idUserRequesting
ØØ9 I
)
ØØI J
)
ØØJ K
{
ÙÙ $
FriendBasicInformation
ÚÚ *
	newFriend
ÚÚ+ 4
=
ÚÚ5 6
new
ÚÚ7 :$
FriendBasicInformation
ÚÚ; Q
(
ÚÚQ R
)
ÚÚR S
;
ÚÚS T
	newFriend
ÛÛ 
.
ÛÛ 
IdUser
ÛÛ $
=
ÛÛ% &
idUserRequesting
ÛÛ' 7
;
ÛÛ7 8
	newFriend
ÜÜ 
.
ÜÜ 
UserName
ÜÜ &
=
ÜÜ' (
userName
ÜÜ) 1
;
ÜÜ1 2
	newFriend
ÝÝ 
.
ÝÝ "
IdStatusAvailability
ÝÝ 2
=
ÝÝ3 4

NOT_STATUS
ÝÝ5 ?
;
ÝÝ? @
friends
ÞÞ 
.
ÞÞ 
Add
ÞÞ 
(
ÞÞ  
	newFriend
ÞÞ  )
)
ÞÞ) *
;
ÞÞ* +
}
ßß 
SetCards
àà 
(
àà 
)
àà 
;
àà 
}
áá 
catch
ââ 
(
ââ '
EndpointNotFoundException
ââ ,
ex
ââ- /
)
ââ/ 0
{
ãã 
HandleException
ää 
(
ää  
ex
ää  "
,
ää" #

Properties
ää$ .
.
ää. /
	Resources
ää/ 8
.
ää8 9&
lblFailToAccepInvitation
ää9 Q
+
ääR S
$str
ääT Y
+
ääZ [

Properties
ää\ f
.
ääf g
	Resources
ääg p
.
ääp q"
lblEndPointNotFoundääq 
)ää 
;ää 
}
åå 
catch
ææ 
(
ææ 1
#CommunicationObjectFaultedException
ææ 6
ex
ææ7 9
)
ææ9 :
{
çç 
HandleException
èè 
(
èè  
ex
èè  "
,
èè" #

Properties
èè$ .
.
èè. /
	Resources
èè/ 8
.
èè8 9&
lblFailToAccepInvitation
èè9 Q
+
èèR S
$str
èèT Y
+
èèZ [

Properties
èè\ f
.
èèf g
	Resources
èèg p
.
èèp q'
lblComunicationExceptionèèq 
)èè 
;èè 
}
éé 
catch
êê 
(
êê 
TimeoutException
êê #
ex
êê$ &
)
êê& '
{
ëë 
HandleException
ìì 
(
ìì  
ex
ìì  "
,
ìì" #

Properties
ìì$ .
.
ìì. /
	Resources
ìì/ 8
.
ìì8 9&
lblFailToAccepInvitation
ìì9 Q
+
ììR S
$str
ììT Y
+
ììZ [

Properties
ìì\ f
.
ììf g
	Resources
ììg p
.
ììp q
lblTimeExceptionììq 
)ìì 
;ìì 
}
íí 
catch
îî 
(
îî $
CommunicationException
îî )
ex
îî* ,
)
îî, -
{
ïï 
HandleException
ðð 
(
ðð  
ex
ðð  "
,
ðð" #

Properties
ðð$ .
.
ðð. /
	Resources
ðð/ 8
.
ðð8 9&
lblFailToAccepInvitation
ðð9 Q
+
ððR S
$str
ððT Y
+
ððZ [

Properties
ðð\ f
.
ððf g
	Resources
ððg p
.
ððp q'
lblComunicationExceptionððq 
)ðð 
;ðð 
}
ññ 
catch
òò 
(
òò 
SocketException
òò "
ex
òò# %
)
òò% &
{
óó 
HandleException
ôô 
(
ôô  
ex
ôô  "
,
ôô" #

Properties
ôô$ .
.
ôô. /
	Resources
ôô/ 8
.
ôô8 9"
lblFailToReportAUser
ôô9 M
+
ôôN O
$str
ôôP U
+
ôôV W

Properties
ôôX b
.
ôôb c
	Resources
ôôc l
.
ôôl m"
lblEndPointNotFoundôôm 
)ôô 
;ôô 
}
õõ 
}
öö 	
public
øø 
void
øø "
DeclineFriendRequest
øø (
(
øø( )
int
øø) ,
idUserRequesting
øø- =
,
øø= >
String
øø? E
userName
øøF N
)
øøN O
{
ùù 	
try
úú 
{
ûû (
FriendManagerActionsClient
üü *(
friendActionsCallBackProxy
üü+ E
=
üüF G
new
üüH K(
FriendManagerActionsClient
üüL f
(
üüf g
new
üüg j
InstanceContext
üük z
(
üüz {
this
üü{ 
)üü 
)üü 
;üü (
friendActionsCallBackProxy
ýý *
.
ýý* +,
RenewFriendManagerUserCallBack
ýý+ I
(
ýýI J
userSingleton
ýýJ W
.
ýýW X
IdUser
ýýX ^
)
ýý^ _
;
ýý_ `1
#FriendManagerActionOperationsClient
ÿÿ 3 
friendActionsProxy
ÿÿ4 F
=
ÿÿG H
new
ÿÿI L
(
ÿÿL M
)
ÿÿM N
;
ÿÿN O 
friendActionsProxy
 "
.
" #"
DeclineFriendRequest
# 7
(
7 8
userSingleton
8 E
.
E F
IdPlayer
F N
,
N O
idUserRequesting
P `
)
` a
;
a b
foreach
 
(
 
var
 
item
 !
in
" $
friendRequests
% 3
)
3 4
{
 
if
 
(
 
item
 
.
 
IdUser
 #
==
$ &
idUserRequesting
' 7
)
7 8
{
 
friendRequests
 &
.
& '
Remove
' -
(
- .
item
. 2
)
2 3
;
3 4
break
 
;
 
}
 
}
 
if
 
(
 
!
 
otherPeople
  
.
  !
Exists
! '
(
' (
pla
( +
=>
, .
pla
/ 2
.
2 3
IdUser
3 9
==
: <
idUserRequesting
= M
)
M N
)
N O
{
 $
FriendBasicInformation
 *
	newFriend
+ 4
=
5 6
new
7 :$
FriendBasicInformation
; Q
(
Q R
)
R S
;
S T
	newFriend
 
.
 
IdUser
 $
=
% &
idUserRequesting
' 7
;
7 8
	newFriend
 
.
 
UserName
 &
=
' (
userName
) 1
;
1 2
	newFriend
 
.
 "
IdStatusAvailability
 2
=
3 4

NOT_STATUS
5 ?
;
? @
otherPeople
 
.
  
Add
  #
(
# $
	newFriend
$ -
)
- .
;
. /
}
 
SetCards
 
(
 
)
 
;
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9%
lblFailToDeclineRequest
9 P
+
Q R
$str
S X
+
Y Z

Properties
[ e
.
e f
	Resources
f o
.
o p"
lblEndPointNotFoundp 
) 
; 
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9%
lblFailToDeclineRequest
9 P
+
Q R
$str
S X
+
Y Z

Properties
[ e
.
e f
	Resources
f o
.
o p'
lblComunicationExceptionp 
) 
; 
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9%
lblFailToDeclineRequest
9 P
+
Q R
$str
S X
+
Y Z

Properties
[ e
.
e f
	Resources
f o
.
o p
lblTimeExceptionp 
) 
; 
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
   
HandleException
¡¡ 
(
¡¡  
ex
¡¡  "
,
¡¡" #

Properties
¡¡$ .
.
¡¡. /
	Resources
¡¡/ 8
.
¡¡8 9%
lblFailToDeclineRequest
¡¡9 P
+
¡¡Q R
$str
¡¡S X
+
¡¡Y Z

Properties
¡¡[ e
.
¡¡e f
	Resources
¡¡f o
.
¡¡o p'
lblComunicationException¡¡p 
)¡¡ 
;¡¡ 
}
¢¢ 
catch
££ 
(
££ 
SocketException
££ "
ex
££# %
)
££% &
{
¤¤ 
HandleException
¥¥ 
(
¥¥  
ex
¥¥  "
,
¥¥" #

Properties
¥¥$ .
.
¥¥. /
	Resources
¥¥/ 8
.
¥¥8 9"
lblFailToReportAUser
¥¥9 M
+
¥¥N O
$str
¥¥P U
+
¥¥V W

Properties
¥¥X b
.
¥¥b c
	Resources
¥¥c l
.
¥¥l m"
lblEndPointNotFound¥¥m 
)¥¥ 
;¥¥ 
}
¦¦ 
}
§§ 	
public
©© 
void
©© 
ResponseReported
©© $
(
©©$ %
int
©©% (

numReports
©©) 3
)
©©3 4
{
ªª 	!
DialogWindowManager
«« 
.
««  #
ShowInfoOrErrorWindow
««  5
(
««5 6

Properties
««6 @
.
««@ A
	Resources
««A J
.
««J K
txbWarningTitle
««K Z
,
««Z [

Properties
««\ f
.
««f g
	Resources
««g p
.
««p q
MessageReported««q 
+«« 

numReports«« 
.«« 
ToString«« 
(«« 
)«« 
,«« 
Application«« ¥
.««¥ ¦
Current««¦ ­
.««­ ®

MainWindow««® ¸
,««¸ ¹#
DialogWindowManager««º Í
.««Í Î
INFORMATION««Î Ù
)««Ù Ú
;««Ú Û
}
¬¬ 	
public
®® 
void
®® #
ResponseRequestAction
®® )
(
®®) *
int
®®* -
idUser
®®. 4
,
®®4 5
int
®®6 9
requestStatus
®®: G
,
®®G H
string
®®I O
userName
®®P X
)
®®X Y
{
¯¯ 	
switch
°° 
(
°° 
requestStatus
°° !
)
°°! "
{
±± 
case
²² 
DECLINED_REQUEST
²² %
:
²²% &
ManageResponse
³³ "
(
³³" #
friendRequests
³³# 1
,
³³1 2
otherPeople
³³3 >
,
³³> ?
idUser
³³? E
,
³³E F
userName
³³F N
)
³³N O
;
³³O P&
lblDeclineRequestMessage
´´ ,
.
´´, -
Content
´´- 4
=
´´5 6
userName
´´7 ?
+
´´@ A
$str
´´B E
+
´´F G

Properties
´´H R
.
´´R S
	Resources
´´S \
.
´´\ ]%
MessageFriRequeDeclined
´´] t
;
´´t u

StartTimer
µµ 
(
µµ 
)
µµ  
;
µµ  !
break
¶¶ 
;
¶¶ 
case
·· 
SEND_REQUEST
·· !
:
··! "
ManageResponse
¸¸ "
(
¸¸" #
otherPeople
¸¸# .
,
¸¸. /
friendRequests
¸¸0 >
,
¸¸> ?
idUser
¸¸@ F
,
¸¸F G
userName
¸¸H P
)
¸¸P Q
;
¸¸Q R
break
¹¹ 
;
¹¹ 
case
ºº 
ACCEPT_REQUEST
ºº #
:
ºº# $
ManageResponse
»» "
(
»»" #
friendRequests
»»# 1
,
»»1 2
friends
»»3 :
,
»»: ;
idUser
»»< B
,
»»B C
userName
»»D L
)
»»L M
;
»»M N
break
¼¼ 
;
¼¼ 
}
½½ 
SetCards
¾¾ 
(
¾¾ 
)
¾¾ 
;
¾¾ 
}
¿¿ 	
private
ÁÁ 
void
ÁÁ 
ManageResponse
ÁÁ #
(
ÁÁ# $
List
ÁÁ$ (
<
ÁÁ( )$
FriendBasicInformation
ÁÁ) ?
>
ÁÁ? @
deleteFromList
ÁÁA O
,
ÁÁO P
List
ÁÁQ U
<
ÁÁU V$
FriendBasicInformation
ÁÁV l
>
ÁÁl m
	addToList
ÁÁn w
,
ÁÁw x
int
ÁÁy |
idUserOperationÁÁ} 
,ÁÁ 
stringÁÁ 
userNameÁÁ 
)ÁÁ 
{
ÂÂ 	
foreach
ÃÃ 
(
ÃÃ 
var
ÃÃ 
item
ÃÃ 
in
ÃÃ  
deleteFromList
ÃÃ! /
)
ÃÃ/ 0
{
ÄÄ 
if
ÅÅ 
(
ÅÅ 
item
ÅÅ 
.
ÅÅ 
IdUser
ÅÅ 
==
ÅÅ  "
idUserOperation
ÅÅ# 2
)
ÅÅ2 3
{
ÆÆ 
deleteFromList
ÇÇ "
.
ÇÇ" #
Remove
ÇÇ# )
(
ÇÇ) *
item
ÇÇ* .
)
ÇÇ. /
;
ÇÇ/ 0
break
ÈÈ 
;
ÈÈ 
}
ÉÉ 
}
ÊÊ 
if
ËË 
(
ËË 
!
ËË 
	addToList
ËË 
.
ËË 
Exists
ËË  
(
ËË  !
pla
ËË! $
=>
ËË% '
pla
ËË( +
.
ËË+ ,
IdUser
ËË, 2
==
ËË3 5
idUserOperation
ËË6 E
)
ËËE F
)
ËËF G
{
ÌÌ $
FriendBasicInformation
ÍÍ &
	newFriend
ÍÍ' 0
=
ÍÍ1 2
new
ÍÍ3 6$
FriendBasicInformation
ÍÍ7 M
(
ÍÍM N
)
ÍÍN O
;
ÍÍO P
	newFriend
ÎÎ 
.
ÎÎ 
IdUser
ÎÎ  
=
ÎÎ! "
idUserOperation
ÎÎ# 2
;
ÎÎ2 3
	newFriend
ÏÏ 
.
ÏÏ 
UserName
ÏÏ "
=
ÏÏ# $
userName
ÏÏ% -
;
ÏÏ- .
	newFriend
ÐÐ 
.
ÐÐ "
IdStatusAvailability
ÐÐ .
=
ÐÐ/ 0

NOT_STATUS
ÐÐ1 ;
;
ÐÐ; <
	addToList
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ 
	newFriend
ÑÑ '
)
ÑÑ' (
;
ÑÑ( )
}
ÒÒ 
}
ÓÓ 	
public
ÕÕ 
void
ÕÕ ,
ResponseEliminationFromFriends
ÕÕ 2
(
ÕÕ2 3
int
ÕÕ3 6
idUser
ÕÕ7 =
)
ÕÕ= >
{
ÖÖ 	
String
×× 
userName
×× 
=
×× 
String
×× $
.
××$ %
Empty
××% *
;
××* +
foreach
ØØ 
(
ØØ 
var
ØØ 
item
ØØ 
in
ØØ  
friends
ØØ! (
)
ØØ( )
{
ÙÙ 
if
ÚÚ 
(
ÚÚ 
item
ÚÚ 
.
ÚÚ 
IdUser
ÚÚ 
==
ÚÚ  "
idUser
ÚÚ# )
)
ÚÚ) *
{
ÛÛ 
friends
ÜÜ 
.
ÜÜ 
Remove
ÜÜ "
(
ÜÜ" #
item
ÜÜ# '
)
ÜÜ' (
;
ÜÜ( )
userName
ÝÝ 
=
ÝÝ 
item
ÝÝ #
.
ÝÝ# $
UserName
ÝÝ$ ,
;
ÝÝ, -
break
ÞÞ 
;
ÞÞ 
}
ßß 
}
àà 
if
áá 
(
áá 
!
áá 
otherPeople
áá 
.
áá 
Exists
áá #
(
áá# $
pla
áá$ '
=>
áá( *
pla
áá+ .
.
áá. /
IdUser
áá/ 5
==
áá6 8
idUser
áá9 ?
)
áá? @
)
áá@ A
{
ââ $
FriendBasicInformation
ãã &
	newFriend
ãã' 0
=
ãã1 2
new
ãã3 6$
FriendBasicInformation
ãã7 M
(
ããM N
)
ããN O
;
ããO P
	newFriend
ää 
.
ää 
IdUser
ää  
=
ää! "
idUser
ää# )
;
ää) *
	newFriend
åå 
.
åå 
UserName
åå "
=
åå# $
userName
åå% -
;
åå- .
	newFriend
ææ 
.
ææ "
IdStatusAvailability
ææ .
=
ææ/ 0

NOT_STATUS
ææ1 ;
;
ææ; <
otherPeople
çç 
.
çç 
Add
çç 
(
çç  
	newFriend
çç  )
)
çç) *
;
çç* +
}
èè 
SetCards
éé 
(
éé 
)
éé 
;
éé 
}
êê 	
private
ìì 
void
ìì %
ClickSearchPlayerButton
ìì ,
(
ìì, -
object
ìì- 3
sender
ìì4 :
,
ìì: ;
RoutedEventArgs
ìì< K
e
ììL M
)
ììM N
{
íí 	
String
îî 
userNameToSearch
îî #
=
îî$ %
txbUserToSearch
îî& 5
.
îî5 6
Text
îî6 :
;
îî: ;
if
ïï 
(
ïï 
!
ïï 
userNameToSearch
ïï !
.
ïï! "
Equals
ïï" (
(
ïï( )

Properties
ïï) 3
.
ïï3 4
	Resources
ïï4 =
.
ïï= >
	bttSearch
ïï> G
)
ïïG H
)
ïïH I
{
ðð #
stpFrinedsManagerList
ññ %
.
ññ% &
Children
ññ& .
.
ññ. /
Clear
ññ/ 4
(
ññ4 5
)
ññ5 6
;
ññ6 7
List
òò 
<
òò $
FriendBasicInformation
òò +
>
òò+ ,
listOfUsers
òò- 8
;
òò8 9
switch
óó 
(
óó 
typeUserConsult
óó '
)
óó' (
{
ôô 
case
õõ 

MY_FRIENDS
õõ #
:
õõ# $
listOfUsers
öö #
=
öö$ %
new
öö& )
List
öö* .
<
öö. /$
FriendBasicInformation
öö/ E
>
ööE F
(
ööF G
friends
ööG N
)
ööN O
;
ööO P
break
÷÷ 
;
÷÷ 
case
øø 
FRIENDS_REQUEST
øø (
:
øø( )
listOfUsers
ùù #
=
ùù$ %
new
ùù& )
List
ùù* .
<
ùù. /$
FriendBasicInformation
ùù/ E
>
ùùE F
(
ùùF G
friendRequests
ùùG U
)
ùùU V
;
ùùV W
break
úú 
;
úú 
case
ûû 
OTHER_PEOPLE
ûû %
:
ûû% &
listOfUsers
üü #
=
üü$ %
new
üü& )
List
üü* .
<
üü. /$
FriendBasicInformation
üü/ E
>
üüE F
(
üüF G
otherPeople
üüG R
)
üüR S
;
üüS T
break
ýý 
;
ýý 
default
þþ 
:
þþ 
listOfUsers
ÿÿ #
=
ÿÿ$ %
new
ÿÿ& )
List
ÿÿ* .
<
ÿÿ. /$
FriendBasicInformation
ÿÿ/ E
>
ÿÿE F
(
ÿÿF G
)
ÿÿG H
;
ÿÿH I
break
 
;
 
}
 
foreach
 
(
 $
FriendBasicInformation
 /
item
0 4
in
5 7
listOfUsers
8 C
)
C D
{
 
if
 
(
 
item
 
.
 
UserName
 %
==
& (
userNameToSearch
) 9
)
9 :
{
 
Border
 
brdCard
 &
=
' (
new
) ,
Border
- 3
(
3 4
)
4 5
;
5 6(
FriendCardManagementWindow
 2"
friendCardManagement
3 G
=
H I
new
J M(
FriendCardManagementWindow
N h
(
h i
item
i m
.
m n
IdUser
n t
,
t u
item
v z
.
z {
UserName{ 
, 
typeUserConsult 
, 
textLeftButton ¤
,¤ ¥
textRightButton¦ µ
,µ ¶
this· »
)» ¼
;¼ ½
brdCard
 
.
  
Child
  %
=
& '"
friendCardManagement
( <
;
< =#
stpFrinedsManagerList
 -
.
- .
Children
. 6
.
6 7
Add
7 :
(
: ; 
SetBorderCardStyle
; M
(
M N
brdCard
N U
)
U V
)
V W
;
W X
}
 
}
 
}
 
}
 	
private
 
void
 

StartTimer
 
(
  
)
  !
{
 	
leftTime
 
=
 
$num
 
;
 
timer
 
=
 
new
 
DispatcherTimer
 '
(
' (
)
( )
;
) *
timer
 
.
 
Interval
 
=
 
TimeSpan
 %
.
% &
FromSeconds
& 1
(
1 2
$num
2 3
)
3 4
;
4 5
timer
 
.
 
Tick
 
+=
 

Timer_Tick
 $
;
$ %
timer
 
.
 
Start
 
(
 
)
 
;
 
}
 	
private
 
void
 

Timer_Tick
 
(
  
object
  &
sender
' -
,
- .
	EventArgs
/ 8
e
9 :
)
: ;
{
 	
if
 
(
 
leftTime
 
>
 
$num
 
)
 
{
 
leftTime
 
--
 
;
 
}
 
else
 
{
 &
lblDeclineRequestMessage
   (
.
  ( )
Content
  ) 0
=
  1 2
string
  3 9
.
  9 :
Empty
  : ?
;
  ? @
timer
¡¡ 
.
¡¡ 
Stop
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
}
¢¢ 
}
££ 	
private
¥¥ 
void
¥¥ 
OverSearchBar
¥¥ "
(
¥¥" #
object
¥¥# )
sender
¥¥* 0
,
¥¥0 1
MouseEventArgs
¥¥2 @
e
¥¥A B
)
¥¥B C
{
¦¦ 	
txbUserToSearch
§§ 
.
§§ 
Text
§§  
=
§§! "
string
§§# )
.
§§) *
Empty
§§* /
;
§§/ 0
}
¨¨ 	
private
ªª 
void
ªª 
HandleException
ªª $
(
ªª$ %
	Exception
ªª% .
ex
ªª/ 1
,
ªª1 2
string
ªª3 9
errorMessage
ªª: F
)
ªªF G
{
«« 	%
ExceptionHandlerForLogs
¬¬ #
.
¬¬# $
LogException
¬¬$ 0
(
¬¬0 1
ex
¬¬1 3
,
¬¬3 4!
ExceptionDictionary
¬¬5 H
.
¬¬H I
FATAL_EXCEPTION
¬¬I X
)
¬¬X Y
;
¬¬Y Z!
DialogWindowManager
­­ 
.
­­  #
ShowInfoOrErrorWindow
­­  5
(
­­5 6

Properties
­­6 @
.
­­@ A
	Resources
­­A J
.
­­J K
txbErrorTitle
­­K X
,
­­X Y
errorMessage
­­Z f
,
­­f g
Application
­­h s
.
­­s t
Current
­­t {
.
­­{ |

MainWindow­­| 
,­­ #
DialogWindowManager­­ 
.­­ 
ERROR­­ ¡
)­­¡ ¢
;­­¢ £
}
®® 	
private
°° 
void
°° 
ClickBackToMenu
°° $
(
°°$ %
object
°°% +
sender
°°, 2
,
°°2 3"
MouseButtonEventArgs
°°4 H
e
°°I J
)
°°J K
{
±± 	
GotoMenu
²² 
(
²² 
)
²² 
;
²² 
}
³³ 	
private
µµ 
void
µµ 
GotoMenu
µµ 
(
µµ 
)
µµ 
{
¶¶ 	
try
·· 
{
¸¸ 1
#FriendManagerActionOperationsClient
¹¹ 3 
friendActionsProxy
¹¹4 F
=
¹¹G H
new
¹¹I L
(
¹¹L M
)
¹¹M N
;
¹¹N O 
friendActionsProxy
ºº "
.
ºº" #)
UnregisterFriendManagerUser
ºº# >
(
ºº> ?
userSingleton
ºº? L
.
ººL M
IdUser
ººM S
)
ººS T
;
ººT U
}
»» 
catch
¼¼ 
(
¼¼ '
EndpointNotFoundException
¼¼ ,
ex
¼¼- /
)
¼¼/ 0
{
½½ %
ExceptionHandlerForLogs
¾¾ '
.
¾¾' (
LogException
¾¾( 4
(
¾¾4 5
ex
¾¾5 7
,
¾¾7 8!
ExceptionDictionary
¾¾9 L
.
¾¾L M
FATAL_EXCEPTION
¾¾M \
)
¾¾\ ]
;
¾¾] ^
}
¿¿ 
catch
ÀÀ 
(
ÀÀ 1
#CommunicationObjectFaultedException
ÀÀ 6
ex
ÀÀ7 9
)
ÀÀ9 :
{
ÁÁ %
ExceptionHandlerForLogs
ÂÂ '
.
ÂÂ' (
LogException
ÂÂ( 4
(
ÂÂ4 5
ex
ÂÂ5 7
,
ÂÂ7 8!
ExceptionDictionary
ÂÂ9 L
.
ÂÂL M
FATAL_EXCEPTION
ÂÂM \
)
ÂÂ\ ]
;
ÂÂ] ^
}
ÃÃ 
catch
ÄÄ 
(
ÄÄ 
TimeoutException
ÄÄ #
ex
ÄÄ$ &
)
ÄÄ& '
{
ÅÅ %
ExceptionHandlerForLogs
ÆÆ '
.
ÆÆ' (
LogException
ÆÆ( 4
(
ÆÆ4 5
ex
ÆÆ5 7
,
ÆÆ7 8!
ExceptionDictionary
ÆÆ9 L
.
ÆÆL M
FATAL_EXCEPTION
ÆÆM \
)
ÆÆ\ ]
;
ÆÆ] ^
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ $
CommunicationException
ÈÈ )
ex
ÈÈ* ,
)
ÈÈ, -
{
ÉÉ %
ExceptionHandlerForLogs
ÊÊ '
.
ÊÊ' (
LogException
ÊÊ( 4
(
ÊÊ4 5
ex
ÊÊ5 7
,
ÊÊ7 8!
ExceptionDictionary
ÊÊ9 L
.
ÊÊL M
FATAL_EXCEPTION
ÊÊM \
)
ÊÊ\ ]
;
ÊÊ] ^
}
ËË 
catch
ÌÌ 
(
ÌÌ 
SocketException
ÌÌ "
ex
ÌÌ# %
)
ÌÌ% &
{
ÍÍ %
ExceptionHandlerForLogs
ÎÎ '
.
ÎÎ' (
LogException
ÎÎ( 4
(
ÎÎ4 5
ex
ÎÎ5 7
,
ÎÎ7 8!
ExceptionDictionary
ÎÎ9 L
.
ÎÎL M
FATAL_EXCEPTION
ÎÎM \
)
ÎÎ\ ]
;
ÎÎ] ^
}
ÏÏ 
MainMenu
ÐÐ 
mainMenu
ÐÐ 
=
ÐÐ 
new
ÐÐ  #
MainMenu
ÐÐ$ ,
(
ÐÐ, -
)
ÐÐ- .
;
ÐÐ. /
this
ÑÑ 
.
ÑÑ 
NavigationService
ÑÑ "
.
ÑÑ" #
Navigate
ÑÑ# +
(
ÑÑ+ ,
mainMenu
ÑÑ, 4
)
ÑÑ4 5
;
ÑÑ5 6
NavigationService
ÒÒ 
.
ÒÒ 
RemoveBackEntry
ÒÒ -
(
ÒÒ- .
)
ÒÒ. /
;
ÒÒ/ 0
}
ÓÓ 	
public
ÕÕ 
void
ÕÕ &
ResponseNewPlayerJusJoin
ÕÕ ,
(
ÕÕ, -
int
ÕÕ- 0
idUser
ÕÕ1 7
,
ÕÕ7 8
string
ÕÕ9 ?
userName
ÕÕ@ H
)
ÕÕH I
{
ÖÖ 	
if
×× 
(
×× 
idUser
×× 
!=
×× 
$num
×× 
&&
×× 
!
×× 
string
×× %
.
××% &
IsNullOrEmpty
××& 3
(
××3 4
userName
××4 <
)
××< =
&&
××> @
!
××A B
otherPeople
××B M
.
××M N
Exists
××N T
(
××T U
pl
××U W
=>
××X Z
pl
××[ ]
.
××] ^
IdUser
××^ d
==
××e g
idUser
××h n
)
××n o
)
××o p
{
ØØ 
otherPeople
ÙÙ 
.
ÙÙ 
Add
ÙÙ 
(
ÙÙ  
new
ÙÙ  #$
FriendBasicInformation
ÙÙ$ :
(
ÙÙ; <
)
ÙÙ< =
{
ÙÙ= >
IdUser
ÙÙ> D
=
ÙÙE F
idUser
ÙÙG M
,
ÙÙM N
EmailAddress
ÙÙO [
=
ÙÙ\ ]
string
ÙÙ^ d
.
ÙÙd e
Empty
ÙÙe j
,
ÙÙj k
UserName
ÙÙl t
=
ÙÙu v
userName
ÙÙw 
,ÙÙ $
IdStatusAvailabilityÙÙ 
=ÙÙ 
$numÙÙ 
}ÙÙ 
)ÙÙ 
;ÙÙ 
SetCards
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ 
}
ÛÛ 
}
ÜÜ 	
}
ÞÞ 
}ßß ã	
hC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\GameBoard.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
	GameBoard "
:# $
Page% )
,) * 
IGameActionsCallback+ ?
,? @!
IChatForTeamsCallbackA V
{ 
private 
const 
int 
	ROUND_ONE #
=$ %
$num& '
;' (
private 
const 
int 
	ROUND_TWO #
=$ %
$num& '
;' (
private 
const 
int 
ROUND_THREE %
=& '
$num( )
;) *
private   
readonly   
string   
secondsAbbreviation    3
=  4 5

Properties  6 @
.  @ A
	Resources  A J
.  J K 
lblSecondsAbrevation  K _
;  _ `
private!! 
int!! 
timeLeft!! 
;!! 
private"" 
bool"" 
itsTeamGame""  
;""  !
private## 
readonly## 
int## 
roomCode## %
;##% &
private$$ 
int$$ 
	pointsBet$$ 
;$$ 
private%% 
List%% 
<%% $
PlayerInGameDataContract%% -
>%%- .
team1%%/ 4
;%%4 5
private&& 
List&& 
<&& $
PlayerInGameDataContract&& -
>&&- .
team2&&/ 4
;&&4 5
private'' 
string'' 
	team1Name''  
;''  !
private(( 
string(( 
	team2Name((  
;((  !
private)) 
List)) 
<)) #
QuestionCardInformation)) ,
>)), -
currentQuestions)). >
;))> ?
private** 
List** 
<** #
QuestionCardInformation** ,
>**, -
questionsRoundOne**. ?
;**? @
private++ 
List++ 
<++ #
QuestionCardInformation++ ,
>++, -
questionsRoundTwo++. ?
;++? @
private,, #
QuestionCardInformation,, '
finalQuestion,,( 5
;,,5 6
private-- 
List-- 
<-- 
CategoryPojo-- !
>--! ""
categoriesOfGameRound1--# 9
=--: ;
new--< ?
List--@ D
<--D E
CategoryPojo--E Q
>--Q R
(--R S
)--S T
;--T U
private.. 
List.. 
<.. 
CategoryPojo.. !
>..! ""
categoriesOfGameRound2..# 9
=..: ;
new..< ?
List..@ D
<..D E
CategoryPojo..E Q
>..Q R
(..R S
)..S T
;..T U
private// 
List// 
<// $
PlayerInGameDataContract// -
>//- .
playersInGame/// <
;//< =
private00 
int00 
yourTurn00 
;00 
private11 
int11 
currentTurn11 
;11  
private22 
int22 
currentRound22  
;22  !
private33 
QuestionPojo33 
questionBeingAsked33 /
;33/ 0
private44 

AnswerPojo44 #
answerToCurrentQuestion44 2
;442 3
private55 
List55 
<55 

AnswerPojo55 
>55  '
answersOfQuestionBeingAsked55! <
;55< =
private66 
DispatcherTimer66 
timer66  %
;66% &
private77 
readonly77 
UserSingleton77 &
userSingleton77' 4
=775 6
UserSingleton777 D
.77D E
GetMainUser77E P
(77P Q
)77Q R
;77R S
private88 
TeamChat88 
teamChat88 !
;88! "
public;; 
	GameBoard;; 
(;; 
List;; 
<;; #
QuestionCardInformation;; 5
>;;5 6
	questions;;7 @
,;;@ A
int;;B E
roomCode;;F N
);;N O
{<< 	
InitializeComponent== 
(==  
)==  !
;==! "
currentQuestions>> 
=>> 
	questions>> (
;>>( )
this?? 
.?? 
roomCode?? 
=?? 
roomCode?? $
;??$ %
Loaded@@ 
+=@@ *
LoadedSubscribeCallBackChannel@@ 4
;@@4 5
}AA 	
privateDD 
voidDD *
LoadedSubscribeCallBackChannelDD 3
(DD3 4
objectDD4 :
senderDD; A
,DDA B
RoutedEventArgsDDC R
eDDS T
)DDT U
{EE 	
tryFF 
{GG 
InstanceContextHH 
contextHH  '
=HH( )
newHH* -
InstanceContextHH. =
(HH= >
thisHH> B
)HHB C
;HHC D
GameActionsClientII !"
gameActionsClientProxyII" 8
=II9 :
newII; >
GameActionsClientII? P
(IIP Q
contextIIQ X
)IIX Y
;IIY Z"
gameActionsClientProxyJJ &
.JJ& '#
SubscribeToGameCallBackJJ' >
(JJ> ?
roomCodeJJ? G
,JJG H
userSingletonJJI V
.JJV W
IdUserJJW ]
,JJ] ^
userSingletonJJ_ l
.JJl m
IdCurrentAvatarJJm |
)JJ| }
;JJ} ~
}KK 
catchLL 
(LL %
EndpointNotFoundExceptionLL ,
exLL- /
)LL/ 0
{MM 
HandleExceptionNN 
(NN  
exNN  "
,NN" #

PropertiesNN$ .
.NN. /
	ResourcesNN/ 8
.NN8 9
lblFailToStartGameNN9 K
+NNL M
$strNNN S
+NNT U

PropertiesNNV `
.NN` a
	ResourcesNNa j
.NNj k
lblEndPointNotFoundNNk ~
)NN~ 
;	NN 
}OO 
catchPP 
(PP /
#CommunicationObjectFaultedExceptionPP 6
exPP7 9
)PP9 :
{QQ 
HandleExceptionRR 
(RR  
exRR  "
,RR" #

PropertiesRR$ .
.RR. /
	ResourcesRR/ 8
.RR8 9
lblFailToStartGameRR9 K
+RRL M
$strRRN S
+RRT U

PropertiesRRV `
.RR` a
	ResourcesRRa j
.RRj k%
lblComunicationException	RRk 
)
RR 
;
RR 
}SS 
catchTT 
(TT 
TimeoutExceptionTT #
exTT$ &
)TT& '
{UU 
HandleExceptionVV 
(VV  
exVV  "
,VV" #

PropertiesVV$ .
.VV. /
	ResourcesVV/ 8
.VV8 9
lblFailToStartGameVV9 K
+VVL M
$strVVN S
+VVT U

PropertiesVVV `
.VV` a
	ResourcesVVa j
.VVj k
lblTimeExceptionVVk {
)VV{ |
;VV| }
}WW 
catchXX 
(XX "
CommunicationExceptionXX )
exXX* ,
)XX, -
{YY 
HandleExceptionZZ 
(ZZ  
exZZ  "
,ZZ" #

PropertiesZZ$ .
.ZZ. /
	ResourcesZZ/ 8
.ZZ8 9
lblFailToStartGameZZ9 K
+ZZL M
$strZZN S
+ZZT U

PropertiesZZV `
.ZZ` a
	ResourcesZZa j
.ZZj k
lblWithoutConectionZZk ~
)ZZ~ 
;	ZZ 
}[[ 
catch\\ 
(\\ 
SocketException\\ "
ex\\# %
)\\% &
{]] 
HandleException^^ 
(^^  
ex^^  "
,^^" #

Properties^^$ .
.^^. /
	Resources^^/ 8
.^^8 9
lblFailToStartGame^^9 K
+^^L M
$str^^N S
+^^T U

Properties^^V `
.^^` a
	Resources^^a j
.^^j k
lblEndPointNotFound^^k ~
)^^~ 
;	^^ 
}__ 
}`` 	
publicbb 
asyncbb 
voidbb 1
%ReceiveNotificationEverybodyIsPlayingbb ?
(bb? @
boolbb@ D
isEveryBodyPlayingbbE W
,bbW X
intbbY \

isYourTurnbb] g
,bbg h%
PlayerInGameDataContract	bbi 
[
bb 
]
bb 
playerInGame
bb 
)
bb 
{cc 	
trydd 
{ee 
currentTurnff 
=ff 
$numff 
;ff  
yourTurngg 
=gg 

isYourTurngg %
;gg% &
playersInGamehh 
=hh 
playerInGamehh  ,
.hh, -
ToListhh- 3
(hh3 4
)hh4 5
;hh5 6
awaitii 
PrepareWindowAsyncii )
(ii) *
)ii* +
;ii+ ,
ShowIfItsYourTurnjj !
(jj! "
)jj" #
;jj# $
}kk 
catchll 
(ll %
EndpointNotFoundExceptionll ,
exll- /
)ll/ 0
{mm 
HandleExceptionnn 
(nn  
exnn  "
,nn" #

Propertiesnn$ .
.nn. /
	Resourcesnn/ 8
.nn8 9
lblFailToStartGamenn9 K
+nnL M
$strnnN S
+nnT U

PropertiesnnV `
.nn` a
	Resourcesnna j
.nnj k
lblEndPointNotFoundnnk ~
)nn~ 
;	nn 
}oo 
catchpp 
(pp /
#CommunicationObjectFaultedExceptionpp 6
expp7 9
)pp9 :
{qq 
HandleExceptionrr 
(rr  
exrr  "
,rr" #

Propertiesrr$ .
.rr. /
	Resourcesrr/ 8
.rr8 9
lblFailToStartGamerr9 K
+rrL M
$strrrN S
+rrT U

PropertiesrrV `
.rr` a
	Resourcesrra j
.rrj k%
lblComunicationException	rrk 
)
rr 
;
rr 
}ss 
catchtt 
(tt 
TimeoutExceptiontt #
extt$ &
)tt& '
{uu 
HandleExceptionvv 
(vv  
exvv  "
,vv" #

Propertiesvv$ .
.vv. /
	Resourcesvv/ 8
.vv8 9
lblFailToStartGamevv9 K
+vvL M
$strvvN S
+vvT U

PropertiesvvV `
.vv` a
	Resourcesvva j
.vvj k
lblTimeExceptionvvk {
)vv{ |
;vv| }
}ww 
catchxx 
(xx "
CommunicationExceptionxx )
exxx* ,
)xx, -
{yy 
HandleExceptionzz 
(zz  
exzz  "
,zz" #

Propertieszz$ .
.zz. /
	Resourceszz/ 8
.zz8 9
lblFailToStartGamezz9 K
+zzL M
$strzzN S
+zzT U

PropertieszzV `
.zz` a
	Resourceszza j
.zzj k
lblWithoutConectionzzk ~
)zz~ 
;	zz 
}{{ 
catch|| 
(|| 
SocketException|| "
ex||# %
)||% &
{}} 
HandleException~~ 
(~~  
ex~~  "
,~~" #

Properties~~$ .
.~~. /
	Resources~~/ 8
.~~8 9
lblFailToStartGame~~9 K
+~~L M
$str~~N S
+~~T U

Properties~~V `
.~~` a
	Resources~~a j
.~~j k
lblEndPointNotFound~~k ~
)~~~ 
;	~~ 
} 
}
 	
private
 
async
 
Task
  
PrepareWindowAsync
 -
(
- .
)
. /
{
 	!
VerifyThereAreTeams
 
(
  
)
  !
;
! "1
#PrepareListOfQuestionsAndCategories
 /
(
/ 0
)
0 1
;
1 2'
CreatePlayersScoresBoards
 %
(
% &
)
& '
;
' (
if
 
(
 
IsLoaded
 
)
 
{
 
await
 (
BeginHostPresentationAsync
 0
(
0 1
)
1 2
;
2 3
}
 
if
 
(
 
itsTeamGame
 
)
 
{
 
var
 
player
 
=
 
playersInGame
 *
.
* +
Find
+ /
(
/ 0
pl
0 2
=>
3 5
pl
6 8
.
8 9
IdUser
9 ?
==
@ B
userSingleton
C P
.
P Q
IdUser
Q W
)
W X
;
X Y
var
 

playerTeam
 
=
  
playersInGame
! .
.
. /
Find
/ 3
(
3 4
pla
4 7
=>
8 :
pla
; >
.
> ?
SideTeam
? G
==
H J
player
K Q
.
Q R
SideTeam
R Z
&&
[ ]
pla
^ a
.
a b
IdUser
b h
!=
i k
userSingleton
l y
.
y z
IdUserz 
) 
; 
if
 
(
 

playerTeam
 
!=
 !
null
" &
)
& '
{
( )
teamChat
 
=
 
new
 "
TeamChat
# +
(
+ ,
this
, 0
,
0 1

playerTeam
2 <
.
< =
IdUser
= C
)
C D
;
D E
}
 
}
 
PrepareRoundOne
 
(
 
)
 
;
 
}
 	
private
 
void
 !
VerifyThereAreTeams
 (
(
( )
)
) *
{
 	
if
 
(
 
playersInGame
 
.
 
Exists
 $
(
$ %
pla
% (
=>
) +
pla
, /
.
/ 0
SideTeam
0 8
==
9 ;
$num
< =
)
= >
)
> ?
{
 
itsTeamGame
 
=
 
true
 "
;
" #
imgChatIcon
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Visible
4 ;
;
; <
}
 
else
 
{
 
itsTeamGame
 
=
 
false
 #
;
# $
}
   
}
¡¡ 	
private
££ 
void
££ 1
#PrepareListOfQuestionsAndCategories
££ 8
(
££8 9
)
££9 :
{
¤¤ 	
questionsRoundOne
¥¥ 
=
¥¥ 
currentQuestions
¥¥  0
.
¥¥0 1
Where
¥¥1 6
(
¥¥6 7
(
¥¥7 8
currentQuestion
¥¥8 G
)
¥¥G H
=>
¥¥I K
currentQuestion
¥¥L [
.
¥¥[ \
NumberOfRound
¥¥\ i
==
¥¥j l
	ROUND_ONE
¥¥m v
)
¥¥v w
.
¥¥w x
ToList
¥¥x ~
(
¥¥~ 
)¥¥ 
;¥¥ 
questionsRoundTwo
¦¦ 
=
¦¦ 
currentQuestions
¦¦  0
.
¦¦0 1
Where
¦¦1 6
(
¦¦6 7
(
¦¦7 8
currentQuestion
¦¦8 G
)
¦¦G H
=>
¦¦I K
currentQuestion
¦¦L [
.
¦¦[ \
NumberOfRound
¦¦\ i
==
¦¦j l
	ROUND_TWO
¦¦m v
)
¦¦v w
.
¦¦w x
ToList
¦¦x ~
(
¦¦~ 
)¦¦ 
;¦¦ 
finalQuestion
§§ 
=
§§ 
currentQuestions
§§ ,
.
§§, -
Find
§§- 1
(
§§1 2
(
§§2 3
currentQuestion
§§3 B
)
§§B C
=>
§§D F
currentQuestion
§§G V
.
§§V W
NumberOfRound
§§W d
==
§§e g
ROUND_THREE
§§h s
)
§§s t
;
§§t u
var
¨¨ 
categoriesRound1
¨¨  
=
¨¨! "
currentQuestions
¨¨# 3
.
¨¨3 4
Where
¨¨4 9
(
¨¨9 :
currentQuestion
¨¨: I
=>
¨¨J L
currentQuestion
¨¨M \
.
¨¨\ ]
NumberOfRound
¨¨] j
==
¨¨k m
	ROUND_ONE
¨¨n w
)
¨¨w x
.
¨¨x y
Select
¨¨y 
(¨¨ 
currentQuestion¨¨ 
=>¨¨ 
currentQuestion¨¨ ¢
.¨¨¢ £"
CategoryOfQuestion¨¨£ µ
)¨¨µ ¶
.¨¨¶ ·
ToList¨¨· ½
(¨¨½ ¾
)¨¨¾ ¿
;¨¨¿ À!
GetUniqueCategories
©© 
(
©©  
categoriesRound1
©©  0
,
©©0 1$
categoriesOfGameRound1
©©2 H
)
©©H I
;
©©I J
var
ªª 
categoriesRound2
ªª  
=
ªª! "
currentQuestions
ªª# 3
.
ªª3 4
Where
ªª4 9
(
ªª9 :
currentQuestion
ªª: I
=>
ªªJ L
currentQuestion
ªªM \
.
ªª\ ]
NumberOfRound
ªª] j
==
ªªk m
	ROUND_TWO
ªªn w
)
ªªw x
.
ªªx y
Select
ªªy 
(ªª 
currentQuestionªª 
=>ªª 
currentQuestionªª ¢
.ªª¢ £"
CategoryOfQuestionªª£ µ
)ªªµ ¶
.ªª¶ ·
ToListªª· ½
(ªª½ ¾
)ªª¾ ¿
;ªª¿ À!
GetUniqueCategories
«« 
(
««  
categoriesRound2
««  0
,
««0 1$
categoriesOfGameRound2
««2 H
)
««H I
;
««I J
}
¬¬ 	
private
®® 
void
®® !
GetUniqueCategories
®® (
(
®®( )
List
®®) -
<
®®- .
CategoryPojo
®®. :
>
®®: ;$
categoriesRepeatedList
®®< R
,
®®R S
List
®®T X
<
®®X Y
CategoryPojo
®®Y e
>
®®e f 
uniqueCategoryList
®®g y
)
®®y z
{
¯¯ 	
foreach
°° 
(
°° 
var
°° 
categoryToProve
°° (
in
°°) +$
categoriesRepeatedList
°°, B
)
°°B C
{
±± 
bool
²² 
exist
²² 
=
²² 
false
²² "
;
²²" #
foreach
³³ 
(
³³ 
var
³³ 
CategorySaved
³³ *
in
³³+ - 
uniqueCategoryList
³³. @
)
³³@ A
{
´´ 
if
¶¶ 
(
¶¶ 
categoryToProve
¶¶ '
.
¶¶' (

IdCategory
¶¶( 2
==
¶¶3 5
CategorySaved
¶¶6 C
.
¶¶C D

IdCategory
¶¶D N
)
¶¶N O
{
·· 
exist
¸¸ 
=
¸¸ 
true
¸¸  $
;
¸¸$ %
break
¹¹ 
;
¹¹ 
}
ºº 
}
»» 
if
¼¼ 
(
¼¼ 
!
¼¼ 
exist
¼¼ 
)
¼¼ 
{
½½  
uniqueCategoryList
¾¾ &
.
¾¾& '
Add
¾¾' *
(
¾¾* +
categoryToProve
¾¾+ :
)
¾¾: ;
;
¾¾; <
}
¿¿ 
}
ÀÀ 
}
ÁÁ 	
private
ÃÃ 
void
ÃÃ '
CreatePlayersScoresBoards
ÃÃ .
(
ÃÃ. /
)
ÃÃ/ 0
{
ÄÄ 	

stpPlayers
ÅÅ 
.
ÅÅ 
Children
ÅÅ 
.
ÅÅ  
Clear
ÅÅ  %
(
ÅÅ% &
)
ÅÅ& '
;
ÅÅ' (
if
ÆÆ 
(
ÆÆ 
itsTeamGame
ÆÆ 
)
ÆÆ 
{
ÇÇ 
team1
ÈÈ 
=
ÈÈ 
playersInGame
ÈÈ %
.
ÈÈ% &
Where
ÈÈ& +
(
ÈÈ+ ,
pla
ÈÈ, /
=>
ÈÈ0 2
pla
ÈÈ3 6
.
ÈÈ6 7
SideTeam
ÈÈ7 ?
==
ÈÈ@ B
$num
ÈÈC D
)
ÈÈD E
.
ÈÈE F
ToList
ÈÈF L
(
ÈÈL M
)
ÈÈM N
;
ÈÈN O
team2
ÉÉ 
=
ÉÉ 
playersInGame
ÉÉ %
.
ÉÉ% &
Where
ÉÉ& +
(
ÉÉ+ ,
pla
ÉÉ, /
=>
ÉÉ0 2
pla
ÉÉ3 6
.
ÉÉ6 7
SideTeam
ÉÉ7 ?
==
ÉÉ@ B
$num
ÉÉC D
)
ÉÉD E
.
ÉÉE F
ToList
ÉÉF L
(
ÉÉL M
)
ÉÉM N
;
ÉÉN O

stpPlayers
ÊÊ 
.
ÊÊ 
Children
ÊÊ #
.
ÊÊ# $
Add
ÊÊ$ '
(
ÊÊ' (
new
ÊÊ( +
GameTeamCard
ÊÊ, 8
(
ÊÊ8 9
team1
ÊÊ9 >
[
ÊÊ> ?
$num
ÊÊ? @
]
ÊÊ@ A
,
ÊÊA B
team1
ÊÊC H
[
ÊÊH I
$num
ÊÊI J
]
ÊÊJ K
)
ÊÊK L
)
ÊÊL M
;
ÊÊM N

stpPlayers
ËË 
.
ËË 
Children
ËË #
.
ËË# $
Add
ËË$ '
(
ËË' (
new
ËË( +
GameTeamCard
ËË, 8
(
ËË8 9
team2
ËË9 >
[
ËË> ?
$num
ËË? @
]
ËË@ A
,
ËËA B
team2
ËËC H
[
ËËH I
$num
ËËI J
]
ËËJ K
)
ËËK L
)
ËËL M
;
ËËM N
	team1Name
ÌÌ 
=
ÌÌ 
$str
ÌÌ 
+
ÌÌ  
team1
ÌÌ  %
[
ÌÌ% &
$num
ÌÌ& '
]
ÌÌ' (
.
ÌÌ( )
IdUser
ÌÌ) /
.
ÌÌ/ 0
ToString
ÌÌ0 8
(
ÌÌ8 9
)
ÌÌ9 :
+
ÌÌ: ;
team1
ÌÌ< A
[
ÌÌA B
$num
ÌÌB C
]
ÌÌC D
.
ÌÌD E
IdUser
ÌÌE K
.
ÌÌK L
ToString
ÌÌL T
(
ÌÌT U
)
ÌÌU V
;
ÌÌV W
	team2Name
ÍÍ 
=
ÍÍ 
$str
ÍÍ 
+
ÍÍ  !
team2
ÍÍ" '
[
ÍÍ' (
$num
ÍÍ( )
]
ÍÍ) *
.
ÍÍ* +
IdUser
ÍÍ+ 1
.
ÍÍ1 2
ToString
ÍÍ2 :
(
ÍÍ: ;
)
ÍÍ; <
+
ÍÍ< =
team2
ÍÍ> C
[
ÍÍC D
$num
ÍÍD E
]
ÍÍE F
.
ÍÍF G
IdUser
ÍÍG M
.
ÍÍM N
ToString
ÍÍN V
(
ÍÍV W
)
ÍÍW X
;
ÍÍX Y
}
ÎÎ 
else
ÏÏ 
{
ÐÐ 
foreach
ÑÑ 
(
ÑÑ 
var
ÑÑ 
item
ÑÑ !
in
ÑÑ" $
playersInGame
ÑÑ% 2
)
ÑÑ2 3
{
ÒÒ 
GamePlayerCard
ÓÓ "

playerCard
ÓÓ# -
=
ÓÓ. /
new
ÓÓ0 3
GamePlayerCard
ÓÓ4 B
(
ÓÓB C
item
ÓÓC G
)
ÓÓG H
;
ÓÓH I

stpPlayers
ÔÔ 
.
ÔÔ 
Children
ÔÔ '
.
ÔÔ' (
Add
ÔÔ( +
(
ÔÔ+ ,

playerCard
ÔÔ, 6
)
ÔÔ6 7
;
ÔÔ7 8
}
ÕÕ 
}
ÖÖ 
}
×× 	
private
ÙÙ 
void
ÙÙ 
PrepareRoundOne
ÙÙ #
(
ÙÙ# $
)
ÙÙ$ %
{
ÚÚ 	#
SetInformationInCards
ÛÛ !
(
ÛÛ! "$
categoriesOfGameRound1
ÛÛ" 8
,
ÛÛ8 9
questionsRoundOne
ÛÛ: K
)
ÛÛK L
;
ÛÛL M
currentRound
ÜÜ 
=
ÜÜ 
	ROUND_ONE
ÜÜ $
;
ÜÜ$ %
}
ÝÝ 	
private
ßß 
async
ßß 
Task
ßß 
PrepareRoundTwo
ßß *
(
ßß* +
)
ßß+ ,
{
àà 	
wrpBoardOfCards
áá 
.
áá 
Children
áá $
.
áá$ %
Clear
áá% *
(
áá* +
)
áá+ ,
;
áá, -
await
ââ 3
%BeginHostPresentationSecondRoundAsync
ââ 7
(
ââ7 8
)
ââ8 9
;
ââ9 :#
SetInformationInCards
ãã !
(
ãã! "$
categoriesOfGameRound2
ãã" 8
,
ãã8 9
questionsRoundTwo
ãã: K
)
ããK L
;
ããL M
}
ää 	
private
ææ 
async
ææ 
Task
ææ 
PrepareLastRound
ææ +
(
ææ+ ,
)
ææ, -
{
çç 	
wrpBoardOfCards
èè 
.
èè 
Children
èè $
.
èè$ %
Clear
èè% *
(
èè* +
)
èè+ ,
;
èè, -
wrpBoardOfCards
éé 
.
éé 

Visibility
éé &
=
éé' (

Visibility
éé) 3
.
éé3 4
	Collapsed
éé4 =
;
éé= >
await
êê ,
BeginHostPresentationLastRound
êê 0
(
êê0 1
)
êê1 2
;
êê2 3
}
ëë 	
private
íí 
void
íí #
SetInformationInCards
íí *
(
íí* +
List
íí+ /
<
íí/ 0
CategoryPojo
íí0 <
>
íí< =
categoriesOfGame
íí> N
,
ííN O
List
ííP T
<
ííT U%
QuestionCardInformation
ííU l
>
ííl m
questionsOfRound
íín ~
)
íí~ 
{
îî 	
foreach
ïï 
(
ïï 
var
ïï 
category
ïï !
in
ïï" $
categoriesOfGame
ïï% 5
)
ïï5 6
{
ðð 
GameCategoryCard
ññ  
categoryCard
ññ! -
=
ññ. /
new
ññ0 3
(
ññ3 4!
GetSpecificResource
ññ4 G
.
ññG H,
GetEnglishOrSpanishDescription
ññH f
(
ññf g
category
ññg o
.
ñño p)
EnglishCategoryDescriptionññp 
,ññ 
categoryññ 
.ññ *
SpanishCategoryDescriptionññ ¯
)ññ¯ °
)ññ° ±
;ññ± ²
wrpBoardOfCards
òò 
.
òò  
Children
òò  (
.
òò( )
Add
òò) ,
(
òò, -
categoryCard
òò- 9
)
òò9 :
;
òò: ;
var
óó !
questionsOfCategory
óó '
=
óó( )
questionsOfRound
óó* :
.
óó: ;
Where
óó; @
(
óó@ A
quest
óóA F
=>
óóG I
quest
óóJ O
.
óóO P%
SpecificQuestionDetails
óóP g
.
óóg h
IdCategoryBelong
óóh x
==
óóy {
categoryóó| 
.óó 

IdCategoryóó 
)óó 
.óó 
ToListóó 
(óó 
)óó 
;óó 
foreach
ôô 
(
ôô 
var
ôô 
questionCard
ôô )
in
ôô* ,!
questionsOfCategory
ôô- @
)
ôô@ A
{
õõ 
GamePointsCard
öö "

pointsCard
öö# -
=
öö. /
new
öö0 3
(
öö3 4
questionCard
öö4 @
,
öö@ A
this
ööB F
)
ööF G
;
ööG H
wrpBoardOfCards
÷÷ #
.
÷÷# $
Children
÷÷$ ,
.
÷÷, -
Add
÷÷- 0
(
÷÷0 1

pointsCard
÷÷1 ;
)
÷÷; <
;
÷÷< =
}
øø 
}
ùù 
}
úú 	
private
üü 
async
üü 
Task
üü (
BeginHostPresentationAsync
üü 5
(
üü5 6
)
üü6 7
{
ýý 	
wrpBoardOfCards
þþ 
.
þþ 

Visibility
þþ &
=
þþ' (

Visibility
þþ) 3
.
þþ3 4
Hidden
þþ4 :
;
þþ: ;
stpTurnLigth
ÿÿ 
.
ÿÿ 

Visibility
ÿÿ #
=
ÿÿ$ %

Visibility
ÿÿ& 0
.
ÿÿ0 1
Hidden
ÿÿ1 7
;
ÿÿ7 8
grdPresentation
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Visible
4 ;
;
; <
await
 &
ShowPresentationOneAsync
 *
(
* +
)
+ ,
;
, -
wrpBoardOfCards
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Visible
4 ;
;
; <
stpTurnLigth
 
.
 

Visibility
 #
=
$ %

Visibility
& 0
.
0 1
Visible
1 8
;
8 9
grdPresentation
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
	Collapsed
4 =
;
= >
}
 	
private
 
async
 
Task
 &
ShowPresentationOneAsync
 3
(
3 4
)
4 5
{
 	
string
 
hostPath
 
=
 !
GetSpecificResource
 1
.
1 2
GetHosImage
2 =
(
= >
$num
> ?
)
? @
;
@ A
imgHostImage
 
.
 
Source
 
=
  !
new
" %
BitmapImage
& 1
(
1 2
new
2 5
Uri
6 9
(
9 :
hostPath
: B
,
B C
UriKind
D K
.
K L
Absolute
L T
)
T U
)
U V
;
V W
string
 
hostName
 
=
 
System
 $
.
$ %
IO
% '
.
' (
Path
( ,
.
, -)
GetFileNameWithoutExtension
- H
(
H I
hostPath
I Q
)
Q R
;
R S
txbHostMessage
 
.
 
Text
 
=
  !

Properties
" ,
.
, -
	Resources
- 6
.
6 7$
HostRound1Presentation
7 M
.
M N
Replace
N U
(
U V
$str
V Y
,
Y Z
hostName
[ c
)
c d
;
d e
await
 
Task
 
.
 
Delay
 
(
 
$num
 !
)
! "
;
" #
string
 $
categoriesPresentation
 )
=
* +

Properties
, 6
.
6 7
	Resources
7 @
.
@ A(
HostCategoriesPresentation
A [
;
[ \$
categoriesPresentation
 "
=
# $$
categoriesPresentation
% ;
.
; <
Replace
< C
(
C D
$str
D G
,
G H!
GetSpecificResource
I \
.
\ ],
GetEnglishOrSpanishDescription
] {
(
{ |%
categoriesOfGameRound1| 
[ 
$num 
] 
. *
EnglishCategoryDescription °
,° ±&
categoriesOfGameRound1² È
[È É
$numÉ Ê
]Ê Ë
.Ë Ì*
SpanishCategoryDescriptionÌ æ
)æ ç
)ç è
;è é$
categoriesPresentation
 "
=
# $$
categoriesPresentation
% ;
.
; <
Replace
< C
(
C D
$str
D G
,
G H!
GetSpecificResource
I \
.
\ ],
GetEnglishOrSpanishDescription
] {
(
{ |%
categoriesOfGameRound1| 
[ 
$num 
] 
. *
EnglishCategoryDescription °
,° ±&
categoriesOfGameRound1² È
[È É
$numÉ Ê
]Ê Ë
.Ë Ì*
SpanishCategoryDescriptionÌ æ
)æ ç
)ç è
;è é$
categoriesPresentation
 "
=
# $$
categoriesPresentation
% ;
.
; <
Replace
< C
(
C D
$str
D G
,
G H!
GetSpecificResource
I \
.
\ ],
GetEnglishOrSpanishDescription
] {
(
{ |%
categoriesOfGameRound1| 
[ 
$num 
] 
. *
EnglishCategoryDescription °
,° ±&
categoriesOfGameRound1² È
[È É
$numÉ Ê
]Ê Ë
.Ë Ì*
SpanishCategoryDescriptionÌ æ
)æ ç
)ç è
;è é$
categoriesPresentation
 "
=
# $$
categoriesPresentation
% ;
.
; <
Replace
< C
(
C D
$str
D I
,
I J
Environment
K V
.
V W
NewLine
W ^
)
^ _
;
_ `$
categoriesPresentation
 "
=
# $$
categoriesPresentation
% ;
.
; <
Replace
< C
(
C D
$str
D G
,
G H
	ROUND_ONE
I R
.
R S
ToString
S [
(
[ \
)
\ ]
)
] ^
;
^ _
txbHostMessage
 
.
 
Text
 
=
  !$
categoriesPresentation
" 8
;
8 9
await
 
Task
 
.
 
Delay
 
(
 
$num
 !
)
! "
;
" #
}
 	
private
 
async
 
Task
 3
%BeginHostPresentationSecondRoundAsync
 @
(
@ A
)
A B
{
 	
grTimer
 
.
 

Visibility
 
=
  

Visibility
! +
.
+ ,
Hidden
, 2
;
2 3
wrpBoardOfCards
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Hidden
4 :
;
: ;
stpTurnLigth
 
.
 

Visibility
 #
=
$ %

Visibility
& 0
.
0 1
Hidden
1 7
;
7 8
grdPresentation
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Visible
4 ;
;
; <
await
 &
ShowPresentationTwoAsync
 *
(
* +
)
+ ,
;
, -
wrpBoardOfCards
 
.
 

Visibility
 &
=
' (

Visibility
) 3
.
3 4
Visible
4 ;
;
; <
stpTurnLigth
   
.
   

Visibility
   #
=
  $ %

Visibility
  & 0
.
  0 1
Visible
  1 8
;
  8 9
grdPresentation
¡¡ 
.
¡¡ 

Visibility
¡¡ &
=
¡¡' (

Visibility
¡¡) 3
.
¡¡3 4
	Collapsed
¡¡4 =
;
¡¡= >
}
££ 	
private
¥¥ 
async
¥¥ 
Task
¥¥ &
ShowPresentationTwoAsync
¥¥ 3
(
¥¥3 4
)
¥¥4 5
{
¦¦ 	
txbHostMessage
§§ 
.
§§ 
Text
§§ 
=
§§  !

Properties
§§" ,
.
§§, -
	Resources
§§- 6
.
§§6 7#
HostRoun2Presentation
§§7 L
;
§§L M
await
¨¨ 
Task
¨¨ 
.
¨¨ 
Delay
¨¨ 
(
¨¨ 
$num
¨¨ !
)
¨¨! "
;
¨¨" #
string
©© $
categoriesPresentation
©© )
=
©©* +

Properties
©©, 6
.
©©6 7
	Resources
©©7 @
.
©©@ A(
HostCategoriesPresentation
©©A [
;
©©[ \$
categoriesPresentation
ªª "
=
ªª# $$
categoriesPresentation
ªª% ;
.
ªª; <
Replace
ªª< C
(
ªªC D
$str
ªªD G
,
ªªG H!
GetSpecificResource
ªªI \
.
ªª\ ],
GetEnglishOrSpanishDescription
ªª] {
(
ªª{ |%
categoriesOfGameRound2ªª| 
[ªª 
$numªª 
]ªª 
.ªª *
EnglishCategoryDescriptionªª °
,ªª° ±&
categoriesOfGameRound2ªª² È
[ªªÈ É
$numªªÉ Ê
]ªªÊ Ë
.ªªË Ì*
SpanishCategoryDescriptionªªÌ æ
)ªªæ ç
)ªªç è
;ªªè é$
categoriesPresentation
«« "
=
««# $$
categoriesPresentation
««% ;
.
««; <
Replace
««< C
(
««C D
$str
««D G
,
««G H!
GetSpecificResource
««I \
.
««\ ],
GetEnglishOrSpanishDescription
««] {
(
««{ |%
categoriesOfGameRound2««| 
[«« 
$num«« 
]«« 
.«« *
EnglishCategoryDescription«« °
,««° ±&
categoriesOfGameRound2««² È
[««È É
$num««É Ê
]««Ê Ë
.««Ë Ì*
SpanishCategoryDescription««Ì æ
)««æ ç
)««ç è
;««è é$
categoriesPresentation
¬¬ "
=
¬¬# $$
categoriesPresentation
¬¬% ;
.
¬¬; <
Replace
¬¬< C
(
¬¬C D
$str
¬¬D G
,
¬¬G H!
GetSpecificResource
¬¬I \
.
¬¬\ ],
GetEnglishOrSpanishDescription
¬¬] {
(
¬¬{ |%
categoriesOfGameRound2¬¬| 
[¬¬ 
$num¬¬ 
]¬¬ 
.¬¬ *
EnglishCategoryDescription¬¬ °
,¬¬° ±&
categoriesOfGameRound2¬¬² È
[¬¬È É
$num¬¬É Ê
]¬¬Ê Ë
.¬¬Ë Ì*
SpanishCategoryDescription¬¬Ì æ
)¬¬æ ç
)¬¬ç è
;¬¬è é$
categoriesPresentation
­­ "
=
­­# $$
categoriesPresentation
­­% ;
.
­­; <
Replace
­­< C
(
­­C D
$str
­­D I
,
­­I J
Environment
­­K V
.
­­V W
NewLine
­­W ^
)
­­^ _
;
­­_ `$
categoriesPresentation
®® "
=
®®# $$
categoriesPresentation
®®% ;
.
®®; <
Replace
®®< C
(
®®C D
$str
®®D G
,
®®G H
	ROUND_TWO
®®I R
.
®®R S
ToString
®®S [
(
®®[ \
)
®®\ ]
)
®®] ^
;
®®^ _
txbHostMessage
¯¯ 
.
¯¯ 
Text
¯¯ 
=
¯¯  !$
categoriesPresentation
¯¯" 8
;
¯¯8 9
await
°° 
Task
°° 
.
°° 
Delay
°° 
(
°° 
$num
°° !
)
°°! "
;
°°" #
}
±± 	
private
³³ 
async
³³ 
Task
³³ ,
BeginHostPresentationLastRound
³³ 9
(
³³9 :
)
³³: ;
{
´´ 	
await
µµ (
ShowPresentationThreeAsync
µµ ,
(
µµ, -
)
µµ- .
;
µµ. /
grdBet
¶¶ 
.
¶¶ 

Visibility
¶¶ 
=
¶¶ 

Visibility
¶¶  *
.
¶¶* +
Visible
¶¶+ 2
;
¶¶2 3
grdPresentation
·· 
.
·· 

Visibility
·· &
=
··' (

Visibility
··) 3
.
··3 4
	Collapsed
··4 =
;
··= >
List
¸¸ 
<
¸¸ 
Border
¸¸ 
>
¸¸ 
playersBorders
¸¸ '
=
¸¸( )

stpPlayers
¸¸* 4
.
¸¸4 5
Children
¸¸5 =
.
¸¸= >
OfType
¸¸> D
<
¸¸D E
Border
¸¸E K
>
¸¸K L
(
¸¸L M
)
¸¸M N
.
¸¸N O
ToList
¸¸O U
(
¸¸U V
)
¸¸V W
;
¸¸W X
if
¹¹ 
(
¹¹ 
itsTeamGame
¹¹ 
)
¹¹ 
{
ºº 
string
»» 
nameOfBorder
»» #
;
»»# $
var
¼¼ 
playerInGame
¼¼  
=
¼¼! "
playersInGame
¼¼# 0
.
¼¼0 1
Find
¼¼1 5
(
¼¼5 6
pl
¼¼6 8
=>
¼¼9 ;
pl
¼¼< >
.
¼¼> ?
IdUser
¼¼? E
==
¼¼F H
userSingleton
¼¼I V
.
¼¼V W
IdUser
¼¼W ]
)
¼¼] ^
;
¼¼^ _
if
½½ 
(
½½ 
playerInGame
½½  
!=
½½! #
null
½½$ (
&&
½½) +
playerInGame
½½, 8
.
½½8 9
SideTeam
½½9 A
==
½½B D
$num
½½E F
)
½½F G
{
¾¾ 
nameOfBorder
¿¿  
=
¿¿! "
	team1Name
¿¿# ,
;
¿¿, -
}
ÀÀ 
else
ÁÁ 
{
ÂÂ 
nameOfBorder
ÃÃ  
=
ÃÃ! "
	team2Name
ÃÃ# ,
;
ÃÃ, -
}
ÄÄ 
GameTeamCard
ÅÅ #
currentPointsOfPlayer
ÅÅ 2
=
ÅÅ3 4
(
ÅÅ5 6
GameTeamCard
ÅÅ6 B
)
ÅÅB C

stpPlayers
ÅÅC M
.
ÅÅM N
Children
ÅÅN V
.
ÅÅV W
OfType
ÅÅW ]
<
ÅÅ] ^
Border
ÅÅ^ d
>
ÅÅd e
(
ÅÅe f
)
ÅÅf g
.
ÅÅg h
FirstOrDefault
ÅÅh v
(
ÅÅv w
pla
ÅÅw z
=>
ÅÅ{ }
plaÅÅ~ 
.ÅÅ 
NameÅÅ 
.ÅÅ 
EqualsÅÅ 
(ÅÅ 
nameOfBorderÅÅ 
)ÅÅ 
)ÅÅ 
;ÅÅ 
if
ÆÆ 
(
ÆÆ #
currentPointsOfPlayer
ÆÆ )
!=
ÆÆ) +
null
ÆÆ, 0
&&
ÆÆ1 3#
currentPointsOfPlayer
ÆÆ4 I
.
ÆÆI J
	GetPoints
ÆÆJ S
(
ÆÆS T
)
ÆÆT U
<
ÆÆV W
$num
ÆÆX Y
)
ÆÆY Z
{
ÇÇ 
txbPointsToBet
ÈÈ "
.
ÈÈ" #
Text
ÈÈ# '
=
ÈÈ( )
$str
ÈÈ* -
;
ÈÈ- .
txbPointsToBet
ÉÉ "
.
ÉÉ" #
	IsEnabled
ÉÉ# ,
=
ÉÉ- .
false
ÉÉ/ 4
;
ÉÉ4 5
}
ÊÊ 
}
ËË 
else
ÌÌ 
{
ÍÍ 
GamePlayerCard
ÎÎ #
currentPointsOfPlayer
ÎÎ 4
=
ÎÎ5 6
(
ÎÎ7 8
GamePlayerCard
ÎÎ8 F
)
ÎÎF G
playersBorders
ÎÎG U
.
ÎÎU V
Find
ÎÎV Z
(
ÎÎZ [
pl
ÎÎ[ ]
=>
ÎÎ^ `
pl
ÎÎa c
.
ÎÎc d
Name
ÎÎd h
.
ÎÎh i
Equals
ÎÎi o
(
ÎÎo p
$str
ÎÎp s
+
ÎÎt u
userSingletonÎÎv 
.ÎÎ 
IdUserÎÎ 
.ÎÎ 
ToStringÎÎ 
(ÎÎ 
)ÎÎ 
)ÎÎ 
)ÎÎ 
;ÎÎ 
if
ÏÏ 
(
ÏÏ #
currentPointsOfPlayer
ÏÏ )
!=
ÏÏ* ,
null
ÏÏ- 1
&&
ÏÏ2 4#
currentPointsOfPlayer
ÏÏ5 J
.
ÏÏJ K
	GetPoints
ÏÏK T
(
ÏÏT U
)
ÏÏU V
<
ÏÏW X
$num
ÏÏY Z
)
ÏÏZ [
{
ÐÐ 
txbPointsToBet
ÑÑ "
.
ÑÑ" #
Text
ÑÑ# '
=
ÑÑ( )
$str
ÑÑ* -
;
ÑÑ- .
txbPointsToBet
ÒÒ "
.
ÒÒ" #
	IsEnabled
ÒÒ# ,
=
ÒÒ- .
false
ÒÒ/ 4
;
ÒÒ4 5
}
ÓÓ 
}
ÔÔ 
}
ÕÕ 	
private
×× 
async
×× 
Task
×× (
ShowPresentationThreeAsync
×× 5
(
××5 6
)
××6 7
{
ØØ 	
grTimer
ÙÙ 
.
ÙÙ 

Visibility
ÙÙ 
=
ÙÙ  

Visibility
ÙÙ! +
.
ÙÙ+ ,
Hidden
ÙÙ, 2
;
ÙÙ2 3
wrpBoardOfCards
ÚÚ 
.
ÚÚ 

Visibility
ÚÚ &
=
ÚÚ' (

Visibility
ÚÚ) 3
.
ÚÚ3 4
Hidden
ÚÚ4 :
;
ÚÚ: ;
stpTurnLigth
ÛÛ 
.
ÛÛ 

Visibility
ÛÛ #
=
ÛÛ$ %

Visibility
ÛÛ& 0
.
ÛÛ0 1
Hidden
ÛÛ1 7
;
ÛÛ7 8
grdPresentation
ÜÜ 
.
ÜÜ 

Visibility
ÜÜ &
=
ÜÜ' (

Visibility
ÜÜ) 3
.
ÜÜ3 4
Visible
ÜÜ4 ;
;
ÜÜ; <
txbHostMessage
ÝÝ 
.
ÝÝ 
Text
ÝÝ 
=
ÝÝ  !

Properties
ÝÝ" ,
.
ÝÝ, -
	Resources
ÝÝ- 6
.
ÝÝ6 7$
HostRound3Presentation
ÝÝ7 M
;
ÝÝM N
await
ÞÞ 
Task
ÞÞ 
.
ÞÞ 
Delay
ÞÞ 
(
ÞÞ 
$num
ÞÞ !
)
ÞÞ! "
;
ÞÞ" #
}
ßß 	
private
áá 
void
áá 
ClickConfirmBet
áá $
(
áá$ %
object
áá% +
sender
áá, 2
,
áá2 3
RoutedEventArgs
áá4 C
e
ááD E
)
ááE F
{
ââ 	
string
ãã 
pointsToBets
ãã 
=
ãã  !
txbPointsToBet
ãã" 0
.
ãã0 1
Text
ãã1 5
;
ãã5 6
if
ää 
(
ää 
!
ää 
string
ää 
.
ää 
IsNullOrEmpty
ää %
(
ää% &
pointsToBets
ää& 2
)
ää2 3
)
ää3 4
{
åå 
	pointsBet
ææ 
=
ææ 
int
ææ 
.
ææ  
Parse
ææ  %
(
ææ% &
txbPointsToBet
ææ& 4
.
ææ4 5
Text
ææ5 9
)
ææ9 :
;
ææ: ;
List
çç 
<
çç 
Border
çç 
>
çç 
playersBorders
çç +
=
çç, -

stpPlayers
çç. 8
.
çç8 9
Children
çç9 A
.
ççA B
OfType
ççB H
<
ççH I
Border
ççI O
>
ççO P
(
ççP Q
)
ççQ R
.
ççR S
ToList
ççS Y
(
ççY Z
)
ççZ [
;
çç[ \
if
èè 
(
èè 
itsTeamGame
èè 
&&
èè  "
playersBorders
èè# 1
.
èè1 2
Count
èè2 7
>=
èè8 :
$num
èè; <
)
èè< =
{
éé &
ConfirmBetFoSinglePlayer
êê ,
(
êê, -
playersBorders
êê- ;
)
êê; <
;
êê< =
}
ëë 
else
ìì 
{
íí 
ConfirmBetForTeam
îî %
(
îî% &
playersBorders
îî& 4
)
îî4 5
;
îî5 6
}
ïï 
}
ðð 
}
ññ 	
private
óó 
void
óó &
ConfirmBetFoSinglePlayer
óó -
(
óó- .
List
óó. 2
<
óó2 3
Border
óó3 9
>
óó9 :
playersBorders
óó; I
)
óóI J
{
ôô 	
string
õõ 
nameOfBorder
õõ 
;
õõ  
var
öö 
playerInGameSide
öö  
=
öö! "
playersInGame
öö# 0
.
öö0 1
Find
öö1 5
(
öö5 6
pl
öö6 8
=>
öö9 ;
pl
öö< >
.
öö> ?
IdUser
öö? E
==
ööF H
userSingleton
ööI V
.
ööV W
IdUser
ööW ]
)
öö] ^
;
öö^ _
if
÷÷ 
(
÷÷ 
playerInGameSide
÷÷  
!=
÷÷! #
null
÷÷$ (
&&
÷÷) +
playerInGameSide
÷÷, <
.
÷÷< =
SideTeam
÷÷= E
==
÷÷F H
$num
÷÷I J
)
÷÷J K
{
øø 
nameOfBorder
ùù 
=
ùù 
	team1Name
ùù (
;
ùù( )
}
úú 
else
ûû 
{
üü 
nameOfBorder
ýý 
=
ýý 
	team2Name
ýý (
;
ýý( )
}
þþ 
var
ÿÿ #
currentPointsOfPlayer
ÿÿ %
=
ÿÿ& '
playersBorders
ÿÿ( 6
.
ÿÿ6 7
Find
ÿÿ7 ;
(
ÿÿ; <
pla
ÿÿ< ?
=>
ÿÿ@ B
pla
ÿÿC F
.
ÿÿF G
Name
ÿÿG K
.
ÿÿK L
Equals
ÿÿL R
(
ÿÿR S
nameOfBorder
ÿÿS _
)
ÿÿ_ `
)
ÿÿ` a
;
ÿÿa b
if
 
(
 
	pointsBet
 
<=
 
(
 
(
 
GameTeamCard
 +
)
+ ,#
currentPointsOfPlayer
, A
)
A B
.
B C
	GetPoints
C L
(
L M
)
M N
||
O Q
	pointsBet
R [
==
\ ^
$num
_ `
)
` a
{
 

ConfirmBet
 
(
 
)
 
;
 
}
 
}
 	
private
 
void
 
ConfirmBetForTeam
 &
(
& '
List
' +
<
+ ,
Border
, 2
>
2 3
playersBorders
4 B
)
B C
{
 	
var
 #
currentPointsOfPlayer
 %
=
& '
playersBorders
( 6
.
6 7
Find
7 ;
(
; <
pl
< >
=>
? A
pl
B D
.
D E
Name
E I
.
I J
Equals
J P
(
P Q
$str
Q T
+
U V
userSingleton
W d
.
d e
IdUser
e k
.
k l
ToString
l t
(
t u
)
u v
)
v w
)
w x
;
x y
if
 
(
 #
currentPointsOfPlayer
 %
!=
& (
null
) -
&&
. 0
	pointsBet
1 :
<=
; =
(
> ?
(
? @
GamePlayerCard
@ N
)
N O#
currentPointsOfPlayer
O d
)
d e
.
e f
	GetPoints
f o
(
o p
)
p q
||
r t
	pointsBet
u ~
== 
$num 
) 
{
 

ConfirmBet
 
(
 
)
 
;
 
}
 
}
 	
private
 
void
 

ConfirmBet
 
(
  
)
  !
{
 	
try
 
{
 
GameActionsClient
 !,
gameActionsCallBackClientProxy
" @
=
A B
new
C F
GameActionsClient
G X
(
X Y
new
Y \
InstanceContext
] l
(
l m
this
m q
)
q r
)
r s
;
s t,
gameActionsCallBackClientProxy
 .
.
. /
RenewGameCallBack
/ @
(
@ A
roomCode
A I
,
I J
userSingleton
K X
.
X Y
IdUser
Y _
)
_ `
;
` a)
GameActionsOperationsClient
 +$
gameActionsClientProxy
, B
=
C D
new
E H
(
H I
)
I J
;
J K$
gameActionsClientProxy
 &
.
& '

ConfirmBet
' 1
(
1 2
roomCode
2 :
,
: ;
userSingleton
< I
.
I J
IdUser
J P
)
P Q
;
Q R
txbPointsToBet
 
.
 
	IsEnabled
 (
=
) *
false
+ 0
;
0 1
bttConfirmBet
 
.
 
	IsEnabled
 '
=
( )
false
* /
;
/ 0
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9
lblFailToMakeBet
9 I
+
J K
$str
L Q
+
R S

Properties
T ^
.
^ _
	Resources
_ h
.
h i!
lblEndPointNotFound
i |
)
| }
;
} ~
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
HandleException
   
(
    
ex
    "
,
  " #

Properties
  $ .
.
  . /
	Resources
  / 8
.
  8 9
lblFailToMakeBet
  9 I
+
  J K
$str
  L Q
+
  R S

Properties
  T ^
.
  ^ _
	Resources
  _ h
.
  h i'
lblComunicationException  i 
)   
;   
}
¡¡ 
catch
¢¢ 
(
¢¢ 
TimeoutException
¢¢ #
ex
¢¢$ &
)
¢¢& '
{
££ 
HandleException
¤¤ 
(
¤¤  
ex
¤¤  "
,
¤¤" #

Properties
¤¤$ .
.
¤¤. /
	Resources
¤¤/ 8
.
¤¤8 9
lblFailToMakeBet
¤¤9 I
+
¤¤J K
$str
¤¤L Q
+
¤¤R S

Properties
¤¤T ^
.
¤¤^ _
	Resources
¤¤_ h
.
¤¤h i
lblTimeException
¤¤i y
)
¤¤y z
;
¤¤z {
}
¥¥ 
catch
¦¦ 
(
¦¦ $
CommunicationException
¦¦ )
ex
¦¦* ,
)
¦¦, -
{
§§ 
HandleException
¨¨ 
(
¨¨  
ex
¨¨  "
,
¨¨" #

Properties
¨¨$ .
.
¨¨. /
	Resources
¨¨/ 8
.
¨¨8 9
lblFailToMakeBet
¨¨9 I
+
¨¨J K
$str
¨¨L Q
+
¨¨R S

Properties
¨¨T ^
.
¨¨^ _
	Resources
¨¨_ h
.
¨¨h i!
lblWithoutConection
¨¨i |
)
¨¨| }
;
¨¨} ~
}
©© 
catch
ªª 
(
ªª 
SocketException
ªª "
ex
ªª# %
)
ªª% &
{
«« 
HandleException
¬¬ 
(
¬¬  
ex
¬¬  "
,
¬¬" #

Properties
¬¬$ .
.
¬¬. /
	Resources
¬¬/ 8
.
¬¬8 9 
lblFailToStartGame
¬¬9 K
+
¬¬L M
$str
¬¬N S
+
¬¬T U

Properties
¬¬V `
.
¬¬` a
	Resources
¬¬a j
.
¬¬j k!
lblEndPointNotFound
¬¬k ~
)
¬¬~ 
;¬¬ 
}
­­ 
}
®® 	
private
°° 
void
°° 
EntryBetPoints
°° #
(
°°# $
object
°°$ *
sender
°°+ 1
,
°°1 2&
TextCompositionEventArgs
°°3 K
e
°°L M
)
°°M N
{
±± 	
if
²² 
(
²² 
!
²² 
int
²² 
.
²² 
TryParse
²² 
(
²² 
e
²² 
.
²²  
Text
²²  $
,
²²$ %
out
²²& )
_
²²* +
)
²²+ ,
)
²², -
{
³³ 
e
´´ 
.
´´ 
Handled
´´ 
=
´´ 
true
´´  
;
´´  !
}
µµ 
}
¶¶ 	
public
¸¸ 
void
¸¸ &
ResponseShowLastQuestion
¸¸ ,
(
¸¸, -
)
¸¸- .
{
¹¹ 	 
questionBeingAsked
ºº 
=
ºº  
finalQuestion
ºº! .
.
ºº. /%
SpecificQuestionDetails
ºº/ F
;
ººF G
grdAnswerChoices
»» 
.
»» 

Visibility
»» '
=
»»( )

Visibility
»»* 4
.
»»4 5
Visible
»»5 <
;
»»< =
grdBet
¼¼ 
.
¼¼ 

Visibility
¼¼ 
=
¼¼ 

Visibility
¼¼  *
.
¼¼* +
	Collapsed
¼¼+ 4
;
¼¼4 5
grTimer
½½ 
.
½½ 

Visibility
½½ 
=
½½  

Visibility
½½! +
.
½½+ ,
Visible
½½, 3
;
½½3 4
txbQuestion
¾¾ 
.
¾¾ 
Text
¾¾ 
=
¾¾ !
GetSpecificResource
¾¾  3
.
¾¾3 4,
GetEnglishOrSpanishDescription
¾¾4 R
(
¾¾R S 
questionBeingAsked
¾¾S e
.
¾¾e f)
EnglishQuestionDescription¾¾f 
,¾¾ "
questionBeingAsked¾¾ 
.¾¾ *
SpanishQuestionDescription¾¾ ¯
)¾¾¯ °
;¾¾° ±)
answersOfQuestionBeingAsked
¿¿ '
=
¿¿( )
new
¿¿* -
List
¿¿. 2
<
¿¿2 3

AnswerPojo
¿¿3 =
>
¿¿= >
(
¿¿> ?
)
¿¿? @
{
¿¿A B
finalQuestion
¿¿C P
.
¿¿P Q
RightAnswer
¿¿Q \
,
¿¿\ ]
finalQuestion
¿¿^ k
.
¿¿k l
WrongOptionOne
¿¿l z
,
¿¿z {
finalQuestion¿¿| 
.¿¿ 
WrongOptionTwo¿¿ 
,¿¿ 
finalQuestion¿¿ §
.¿¿§ ¨ 
WrongOptionThree¿¿¨ ¸
}¿¿¹ º
.¿¿º »
OrderBy¿¿» Â
(¿¿Â Ã
order¿¿Ã È
=>¿¿É Ë
Guid¿¿Ì Ð
.¿¿Ð Ñ
NewGuid¿¿Ñ Ø
(¿¿Ø Ù
)¿¿Ù Ú
)¿¿Ú Û
.¿¿Û Ü
ToList¿¿Ü â
(¿¿â ã
)¿¿ã ä
;¿¿ä å%
answerToCurrentQuestion
ÀÀ #
=
ÀÀ$ %)
answersOfQuestionBeingAsked
ÀÀ& A
.
ÀÀA B
Find
ÀÀB F
(
ÀÀF G
answer
ÀÀG M
=>
ÀÀN P
answer
ÀÀQ W
.
ÀÀW X
IdAnswer
ÀÀX `
==
ÀÀa c
finalQuestion
ÀÀd q
.
ÀÀq r&
SpecificQuestionDetailsÀÀr 
.ÀÀ "
IdAnswerOfQuestionÀÀ 
)ÀÀ 
;ÀÀ 
bttFirstAnswer
ÁÁ 
.
ÁÁ 
Content
ÁÁ "
=
ÁÁ# $!
GetSpecificResource
ÁÁ% 8
.
ÁÁ8 9,
GetEnglishOrSpanishDescription
ÁÁ9 W
(
ÁÁW X)
answersOfQuestionBeingAsked
ÁÁX s
[
ÁÁs t
$num
ÁÁt u
]
ÁÁu v
.
ÁÁv w'
EnglishAnswerDescriptionÁÁw 
,ÁÁ +
answersOfQuestionBeingAskedÁÁ ¬
[ÁÁ¬ ­
$numÁÁ­ ®
]ÁÁ® ¯
.ÁÁ¯ °(
SpanishAnswerDescriptionÁÁ° È
)ÁÁÈ É
;ÁÁÉ Ê
bttSecondAnswer
ÂÂ 
.
ÂÂ 
Content
ÂÂ #
=
ÂÂ$ %!
GetSpecificResource
ÂÂ& 9
.
ÂÂ9 :,
GetEnglishOrSpanishDescription
ÂÂ: X
(
ÂÂX Y)
answersOfQuestionBeingAsked
ÂÂY t
[
ÂÂt u
$num
ÂÂu v
]
ÂÂv w
.
ÂÂw x'
EnglishAnswerDescriptionÂÂx 
,ÂÂ +
answersOfQuestionBeingAskedÂÂ ­
[ÂÂ­ ®
$numÂÂ® ¯
]ÂÂ¯ °
.ÂÂ° ±(
SpanishAnswerDescriptionÂÂ± É
)ÂÂÉ Ê
;ÂÂÊ Ë
bttThridAnswer
ÃÃ 
.
ÃÃ 
Content
ÃÃ "
=
ÃÃ# $!
GetSpecificResource
ÃÃ% 8
.
ÃÃ8 9,
GetEnglishOrSpanishDescription
ÃÃ9 W
(
ÃÃW X)
answersOfQuestionBeingAsked
ÃÃX s
[
ÃÃs t
$num
ÃÃt u
]
ÃÃu v
.
ÃÃv w'
EnglishAnswerDescriptionÃÃw 
,ÃÃ +
answersOfQuestionBeingAskedÃÃ ¬
[ÃÃ¬ ­
$numÃÃ­ ®
]ÃÃ® ¯
.ÃÃ¯ °(
SpanishAnswerDescriptionÃÃ° È
)ÃÃÈ É
;ÃÃÉ Ê
bttFourAnswer
ÄÄ 
.
ÄÄ 
Content
ÄÄ !
=
ÄÄ" #!
GetSpecificResource
ÄÄ$ 7
.
ÄÄ7 8,
GetEnglishOrSpanishDescription
ÄÄ8 V
(
ÄÄV W)
answersOfQuestionBeingAsked
ÄÄW r
[
ÄÄr s
$num
ÄÄs t
]
ÄÄt u
.
ÄÄu v'
EnglishAnswerDescriptionÄÄv 
,ÄÄ +
answersOfQuestionBeingAskedÄÄ «
[ÄÄ« ¬
$numÄÄ¬ ­
]ÄÄ­ ®
.ÄÄ® ¯(
SpanishAnswerDescriptionÄÄ¯ Ç
)ÄÄÇ È
;ÄÄÈ É

StartTimer
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÆÆ 	
public
ÈÈ 
void
ÈÈ 
SelectQuestion
ÈÈ "
(
ÈÈ" #%
QuestionCardInformation
ÈÈ# :
question
ÈÈ; C
)
ÈÈC D
{
ÉÉ 	
if
ÊÊ 
(
ÊÊ 
yourTurn
ÊÊ 
==
ÊÊ 
currentTurn
ÊÊ '
)
ÊÊ' (
{
ËË 
var
ÌÌ #
answersQuestionsAsked
ÌÌ )
=
ÌÌ* +
new
ÌÌ, /
List
ÌÌ0 4
<
ÌÌ4 5

AnswerPojo
ÌÌ5 ?
>
ÌÌ? @
(
ÌÌ@ A
)
ÌÌA B
{
ÌÌC D
question
ÌÌE M
.
ÌÌM N
RightAnswer
ÌÌN Y
,
ÌÌY Z
question
ÌÌ[ c
.
ÌÌc d
WrongOptionOne
ÌÌd r
,
ÌÌr s
question
ÌÌt |
.
ÌÌ| }
WrongOptionTwoÌÌ} 
,ÌÌ 
questionÌÌ 
.ÌÌ  
WrongOptionThreeÌÌ ¦
}ÌÌ§ ¨
.ÌÌ¨ ©
OrderByÌÌ© °
(ÌÌ° ±
orderÌÌ± ¶
=>ÌÌ· ¹
GuidÌÌº ¾
.ÌÌ¾ ¿
NewGuidÌÌ¿ Æ
(ÌÌÆ Ç
)ÌÌÇ È
)ÌÌÈ É
.ÌÌÉ Ê
ToListÌÌÊ Ð
(ÌÌÐ Ñ
)ÌÌÑ Ò
;ÌÌÒ Ó+
CurrentQuestionToShowContract
ÍÍ -#
currentQuestionToShow
ÍÍ. C
=
ÍÍD E
new
ÍÍF I+
CurrentQuestionToShowContract
ÍÍJ g
(
ÍÍg h
)
ÍÍh i
{
ÎÎ 

IdQuestion
ÏÏ 
=
ÏÏ  
question
ÏÏ! )
.
ÏÏ) *%
SpecificQuestionDetails
ÏÏ* A
.
ÏÏA B

IdQuestion
ÏÏB L
,
ÏÏL M
IdFirstAnswer
ÐÐ !
=
ÐÐ" ##
answersQuestionsAsked
ÐÐ$ 9
[
ÐÐ9 :
$num
ÐÐ: ;
]
ÐÐ; <
.
ÐÐ< =
IdAnswer
ÐÐ= E
,
ÐÐE F
IdSecondAnswer
ÑÑ "
=
ÑÑ# $#
answersQuestionsAsked
ÑÑ% :
[
ÑÑ: ;
$num
ÑÑ; <
]
ÑÑ< =
.
ÑÑ= >
IdAnswer
ÑÑ> F
,
ÑÑF G
IdThirdAnswer
ÒÒ !
=
ÒÒ" ##
answersQuestionsAsked
ÒÒ$ 9
[
ÒÒ9 :
$num
ÒÒ: ;
]
ÒÒ; <
.
ÒÒ< =
IdAnswer
ÒÒ= E
,
ÒÒE F
IdFourthAnswer
ÓÓ "
=
ÓÓ# $#
answersQuestionsAsked
ÓÓ% :
[
ÓÓ: ;
$num
ÓÓ; <
]
ÓÓ< =
.
ÓÓ= >
IdAnswer
ÓÓ> F
,
ÓÓF G
}
ÔÔ 
;
ÔÔ 
try
ÕÕ 
{
ÖÖ 
GameActionsClient
×× %,
gameActionsCallBackClientProxy
××& D
=
××E F
new
××G J
GameActionsClient
××K \
(
××\ ]
new
××] `
InstanceContext
××a p
(
××p q
this
××q u
)
××u v
)
××v w
;
××w x,
gameActionsCallBackClientProxy
ØØ 2
.
ØØ2 3
RenewGameCallBack
ØØ3 D
(
ØØD E
roomCode
ØØE M
,
ØØM N
userSingleton
ØØO \
.
ØØ\ ]
IdUser
ØØ] c
)
ØØc d
;
ØØd e)
GameActionsOperationsClient
ÚÚ /$
gameActionsClientProxy
ÚÚ0 F
=
ÚÚG H
new
ÚÚI L
(
ÚÚL M
)
ÚÚM N
;
ÚÚN O$
gameActionsClientProxy
ÛÛ *
.
ÛÛ* +#
ChooseQuestionOfBoard
ÛÛ+ @
(
ÛÛ@ A
roomCode
ÛÛA I
,
ÛÛI J
userSingleton
ÛÛK X
.
ÛÛX Y
IdUser
ÛÛY _
,
ÛÛ_ `
question
ÛÛa i
.
ÛÛi j
NumberOfRound
ÛÛj w
,
ÛÛw x$
currentQuestionToShowÛÛy 
)ÛÛ 
;ÛÛ 
}
ÜÜ 
catch
ÝÝ 
(
ÝÝ '
EndpointNotFoundException
ÝÝ 0
ex
ÝÝ1 3
)
ÝÝ3 4
{
ÞÞ 
HandleException
ßß #
(
ßß# $
ex
ßß$ &
,
ßß& '

Properties
ßß( 2
.
ßß2 3
	Resources
ßß3 <
.
ßß< =$
lblFailToChoseQuestion
ßß= S
+
ßßT U
$str
ßßV [
+
ßß\ ]

Properties
ßß^ h
.
ßßh i
	Resources
ßßi r
.
ßßr s"
lblEndPointNotFoundßßs 
)ßß 
;ßß 
}
àà 
catch
áá 
(
áá 1
#CommunicationObjectFaultedException
áá :
ex
áá; =
)
áá= >
{
ââ 
HandleException
ãã #
(
ãã# $
ex
ãã$ &
,
ãã& '

Properties
ãã( 2
.
ãã2 3
	Resources
ãã3 <
.
ãã< =$
lblFailToChoseQuestion
ãã= S
+
ããT U
$str
ããV [
+
ãã\ ]

Properties
ãã^ h
.
ããh i
	Resources
ããi r
.
ããr s'
lblComunicationExceptionããs 
)ãã 
;ãã 
}
ää 
catch
åå 
(
åå 
TimeoutException
åå '
ex
åå( *
)
åå* +
{
ææ 
HandleException
çç #
(
çç# $
ex
çç$ &
,
çç& '

Properties
çç( 2
.
çç2 3
	Resources
çç3 <
.
çç< =$
lblFailToChoseQuestion
çç= S
+
ççT U
$str
ççV [
+
çç\ ]

Properties
çç^ h
.
ççh i
	Resources
ççi r
.
ççr s
lblTimeExceptionççs 
)çç 
;çç 
}
èè 
catch
éé 
(
éé $
CommunicationException
éé -
ex
éé. 0
)
éé0 1
{
êê 
HandleException
ëë #
(
ëë# $
ex
ëë$ &
,
ëë& '

Properties
ëë( 2
.
ëë2 3
	Resources
ëë3 <
.
ëë< =$
lblFailToChoseQuestion
ëë= S
+
ëëT U
$str
ëëV [
+
ëë\ ]

Properties
ëë^ h
.
ëëh i
	Resources
ëëi r
.
ëër s"
lblWithoutConectionëës 
)ëë 
;ëë 
}
ìì 
catch
íí 
(
íí 
SocketException
íí &
ex
íí' )
)
íí) *
{
îî 
HandleException
ïï #
(
ïï# $
ex
ïï$ &
,
ïï& '

Properties
ïï( 2
.
ïï2 3
	Resources
ïï3 <
.
ïï< = 
lblFailToStartGame
ïï= O
+
ïïP Q
$str
ïïR W
+
ïïX Y

Properties
ïïZ d
.
ïïd e
	Resources
ïïe n
.
ïïn o"
lblEndPointNotFoundïïo 
)ïï 
;ïï 
}
ðð 
}
ññ 
}
òò 	
public
ôô 
void
ôô ,
ResponseSomeOneSelectAQuestion
ôô 2
(
ôô2 3+
CurrentQuestionToShowContract
ôô3 P
questionToShow
ôôQ _
,
ôô_ `
int
ôôa d
currentRound
ôôe q
,
ôôq r
int
ôôs v
idUser
ôôw }
)
ôô} ~
{
õõ 	
this
öö 
.
öö 
currentRound
öö 
=
öö 
currentRound
öö  ,
;
öö, -%
QuestionCardInformation
÷÷ #
questionCard
÷÷$ 0
=
÷÷1 2
currentQuestions
÷÷3 C
.
÷÷C D
Find
÷÷D H
(
÷÷H I
quest
÷÷I N
=>
÷÷O Q
quest
÷÷R W
.
÷÷W X%
SpecificQuestionDetails
÷÷X o
.
÷÷o p

IdQuestion
÷÷p z
==
÷÷{ }
questionToShow÷÷~ 
.÷÷ 

IdQuestion÷÷ 
)÷÷ 
;÷÷ 
if
øø 
(
øø 
questionCard
øø 
!=
øø 
null
øø  $
)
øø$ %
{
ùù  
questionBeingAsked
úú "
=
úú# $
questionCard
úú% 1
.
úú1 2%
SpecificQuestionDetails
úú2 I
;
úúI J
grdAnswerChoices
ûû  
.
ûû  !

Visibility
ûû! +
=
ûû, -

Visibility
ûû. 8
.
ûû8 9
Visible
ûû9 @
;
ûû@ A
grTimer
üü 
.
üü 

Visibility
üü "
=
üü# $

Visibility
üü% /
.
üü/ 0
Visible
üü0 7
;
üü7 8
txbQuestion
ýý 
.
ýý 
Text
ýý  
=
ýý! "!
GetSpecificResource
ýý# 6
.
ýý6 7,
GetEnglishOrSpanishDescription
ýý7 U
(
ýýU V
questionCard
ýýV b
.
ýýb c%
SpecificQuestionDetails
ýýc z
.
ýýz {)
EnglishQuestionDescriptionýý{ 
,ýý 
questionCardýý £
.ýý£ ¤'
SpecificQuestionDetailsýý¤ »
.ýý» ¼*
SpanishQuestionDescriptionýý¼ Ö
)ýýÖ ×
;ýý× Ø
List
þþ 
<
þþ 

AnswerPojo
þþ 
>
þþ  $
answersForThisQuestion
þþ! 7
=
þþ8 9
new
þþ: =
List
þþ> B
<
þþB C

AnswerPojo
þþC M
>
þþM N
(
þþN O
)
þþO P
{
þþQ R
questionCard
þþS _
.
þþ_ `
RightAnswer
þþ` k
,
þþk l
questionCard
þþm y
.
þþy z
WrongOptionOneþþz 
,þþ 
questionCardþþ 
.þþ 
WrongOptionTwoþþ ¥
,þþ¥ ¦
questionCardþþ§ ³
.þþ³ ´ 
WrongOptionThreeþþ´ Ä
}þþÅ Æ
;þþÆ Ç)
answersOfQuestionBeingAsked
ÿÿ +
=
ÿÿ, -$
answersForThisQuestion
ÿÿ. D
.
ÿÿD E
ToList
ÿÿE K
(
ÿÿK L
)
ÿÿL M
;
ÿÿM N%
answerToCurrentQuestion
 '
=
( )$
answersForThisQuestion
* @
.
@ A
Find
A E
(
E F
ans
F I
=>
J L
ans
M P
.
P Q
IdAnswer
Q Y
==
Z \ 
questionBeingAsked
] o
.
o p!
IdAnswerOfQuestionp 
) 
; 
var
 

answerbtt1
 
=
  $
answersForThisQuestion
! 7
.
7 8
Find
8 <
(
< =
answer
= C
=>
D F
answer
G M
.
M N
IdAnswer
N V
==
W Y
questionToShow
Z h
.
h i
IdFirstAnswer
i v
)
v w
;
w x
bttFirstAnswer
 
.
 
Content
 &
=
' (!
GetSpecificResource
) <
.
< =,
GetEnglishOrSpanishDescription
= [
(
[ \

answerbtt1
\ f
.
f g&
EnglishAnswerDescription
g 
, 

answerbtt1 
. (
SpanishAnswerDescription ¤
)¤ ¥
;¥ ¦
var
 

answerbtt2
 
=
  $
answersForThisQuestion
! 7
.
7 8
Find
8 <
(
< =
answer
= C
=>
D F
answer
G M
.
M N
IdAnswer
N V
==
W Y
questionToShow
Z h
.
h i
IdSecondAnswer
i w
)
w x
;
x y
bttSecondAnswer
 
.
  
Content
  '
=
( )!
GetSpecificResource
* =
.
= >,
GetEnglishOrSpanishDescription
> \
(
\ ]

answerbtt2
] g
.
g h'
EnglishAnswerDescriptionh 
, 

answerbtt2 
. (
SpanishAnswerDescription ¥
)¥ ¦
;¦ §
var
 

answerbtt3
 
=
  $
answersForThisQuestion
! 7
.
7 8
Find
8 <
(
< =
answer
= C
=>
D F
answer
G M
.
M N
IdAnswer
N V
==
W Y
questionToShow
Z h
.
h i
IdThirdAnswer
i v
)
v w
;
w x
bttThridAnswer
 
.
 
Content
 &
=
' (!
GetSpecificResource
) <
.
< =,
GetEnglishOrSpanishDescription
= [
(
[ \

answerbtt3
\ f
.
f g&
EnglishAnswerDescription
g 
, 

answerbtt3 
. (
SpanishAnswerDescription ¤
)¤ ¥
;¥ ¦
var
 

answerbtt4
 
=
  $
answersForThisQuestion
! 7
.
7 8
Find
8 <
(
< =
answer
= C
=>
D F
answer
G M
.
M N
IdAnswer
N V
==
W Y
questionToShow
Z h
.
h i
IdFourthAnswer
i w
)
w x
;
x y
bttFourAnswer
 
.
 
Content
 %
=
& '!
GetSpecificResource
( ;
.
; <,
GetEnglishOrSpanishDescription
< Z
(
Z [

answerbtt4
[ e
.
e f&
EnglishAnswerDescription
f ~
,
~ 

answerbtt4 
. (
SpanishAnswerDescription £
)£ ¤
;¤ ¥

StartTimer
 
(
 
)
 
;
 
}
 
}
 	
private
 
void
 
ClickSelectAnswer
 &
(
& '
object
' -
sender
. 4
,
4 5
RoutedEventArgs
6 E
e
F G
)
G H
{
 	
if
 
(
 
yourTurn
 
==
 
currentTurn
 '
||
( *
currentRound
+ 7
==
8 :
ROUND_THREE
; F
)
F G
{
 
var
 
answerCardChoose
 $
=
% &
(
' (
Button
( .
)
. /
sender
/ 5
;
5 6
try
 
{
 
GameActionsClient
 %,
gameActionsCallBackClientProxy
& D
=
E F
new
G J
GameActionsClient
K \
(
\ ]
new
] `
InstanceContext
a p
(
p q
this
q u
)
u v
)
v w
;
w x,
gameActionsCallBackClientProxy
 2
.
2 3
RenewGameCallBack
3 D
(
D E
roomCode
E M
,
M N
userSingleton
O \
.
\ ]
IdUser
] c
)
c d
;
d e
if
 
(
 
currentRound
 $
!=
% '
ROUND_THREE
( 3
)
3 4
{
 
ConfirmAnswer
 %
(
% &
answerCardChoose
& 6
)
6 7
;
7 8
}
 
else
 
{
 '
ConfirmLastQuestionAnswer
 1
(
1 2
answerCardChoose
2 B
)
B C
;
C D
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 0
ex
1 3
)
3 4
{
   
HandleException
¡¡ #
(
¡¡# $
ex
¡¡$ &
,
¡¡& '

Properties
¡¡( 2
.
¡¡2 3
	Resources
¡¡3 <
.
¡¡< =#
lblFailToChooseAnswer
¡¡= R
+
¡¡S T
$str
¡¡U Z
+
¡¡[ \

Properties
¡¡] g
.
¡¡g h
	Resources
¡¡h q
.
¡¡q r"
lblEndPointNotFound¡¡r 
)¡¡ 
;¡¡ 
}
¢¢ 
catch
££ 
(
££ 1
#CommunicationObjectFaultedException
££ :
ex
££; =
)
££= >
{
¤¤ 
HandleException
¥¥ #
(
¥¥# $
ex
¥¥$ &
,
¥¥& '

Properties
¥¥( 2
.
¥¥2 3
	Resources
¥¥3 <
.
¥¥< =#
lblFailToChooseAnswer
¥¥= R
+
¥¥S T
$str
¥¥U Z
+
¥¥[ \

Properties
¥¥] g
.
¥¥g h
	Resources
¥¥h q
.
¥¥q r'
lblComunicationException¥¥r 
)¥¥ 
;¥¥ 
}
¦¦ 
catch
§§ 
(
§§ 
TimeoutException
§§ '
ex
§§( *
)
§§* +
{
¨¨ 
HandleException
©© #
(
©©# $
ex
©©$ &
,
©©& '

Properties
©©( 2
.
©©2 3
	Resources
©©3 <
.
©©< =#
lblFailToChooseAnswer
©©= R
+
©©S T
$str
©©U Z
+
©©[ \

Properties
©©] g
.
©©g h
	Resources
©©h q
.
©©q r
lblTimeException©©r 
)©© 
;©© 
}
ªª 
catch
«« 
(
«« $
CommunicationException
«« -
ex
««. 0
)
««0 1
{
¬¬ 
HandleException
­­ #
(
­­# $
ex
­­$ &
,
­­& '

Properties
­­( 2
.
­­2 3
	Resources
­­3 <
.
­­< =#
lblFailToChooseAnswer
­­= R
+
­­S T
$str
­­U Z
+
­­[ \

Properties
­­] g
.
­­g h
	Resources
­­h q
.
­­q r"
lblWithoutConection­­r 
)­­ 
;­­ 
}
®® 
catch
¯¯ 
(
¯¯ 
SocketException
¯¯ &
ex
¯¯' )
)
¯¯) *
{
°° 
HandleException
±± #
(
±±# $
ex
±±$ &
,
±±& '

Properties
±±( 2
.
±±2 3
	Resources
±±3 <
.
±±< = 
lblFailToStartGame
±±= O
+
±±P Q
$str
±±R W
+
±±X Y

Properties
±±Z d
.
±±d e
	Resources
±±e n
.
±±n o"
lblEndPointNotFound±±o 
)±± 
;±± 
}
²² 
}
³³ 
}
´´ 	
private
¶¶ 
void
¶¶ 
ConfirmAnswer
¶¶ "
(
¶¶" #
Button
¶¶# )
answerCardChoose
¶¶* :
)
¶¶: ;
{
·· 	)
GameActionsOperationsClient
¸¸ '$
gameActionsClientProxy
¸¸( >
=
¸¸? @
new
¸¸A D
(
¸¸D E
)
¸¸E F
;
¸¸F G
var
¹¹ 
answerSelected
¹¹ 
=
¹¹  )
answersOfQuestionBeingAsked
¹¹! <
.
¹¹< =
Find
¹¹= A
(
¹¹A B
anw
¹¹B E
=>
¹¹F H!
GetSpecificResource
¹¹I \
.
¹¹\ ],
GetEnglishOrSpanishDescription
¹¹] {
(
¹¹{ |
anw
¹¹| 
.¹¹ (
EnglishAnswerDescription¹¹ 
,¹¹ 
anw¹¹ 
.¹¹ (
SpanishAnswerDescription¹¹ ¶
)¹¹¶ ·
.¹¹· ¸
Equals¹¹¸ ¾
(¹¹¾ ¿ 
answerCardChoose¹¹¿ Ï
.¹¹Ï Ð
Content¹¹Ð ×
)¹¹× Ø
)¹¹Ø Ù
;¹¹Ù Ú
if
ºº 
(
ºº 
answerSelected
ºº 
!=
ºº  
null
ºº! %
)
ºº% &
{
»» 
try
¼¼ 
{
½½ $
gameActionsClientProxy
¾¾ *
.
¾¾* +
ChooseAnswer
¾¾+ 7
(
¾¾7 8
roomCode
¾¾8 @
,
¾¾@ A
userSingleton
¾¾B O
.
¾¾O P
IdUser
¾¾P V
,
¾¾V W
answerSelected
¾¾X f
.
¾¾f g
IdAnswer
¾¾g o
,
¾¾o p!
questionBeingAsked¾¾q 
.¾¾ 

ValueWorth¾¾ 
,¾¾ 
yourTurn¾¾ 
)¾¾ 
;¾¾ 
}
¿¿ 
catch
ÀÀ 
(
ÀÀ '
EndpointNotFoundException
ÀÀ 0
ex
ÀÀ1 3
)
ÀÀ3 4
{
ÁÁ 
HandleException
ÂÂ #
(
ÂÂ# $
ex
ÂÂ$ &
,
ÂÂ& '

Properties
ÂÂ( 2
.
ÂÂ2 3
	Resources
ÂÂ3 <
.
ÂÂ< =#
lblFailToChooseAnswer
ÂÂ= R
+
ÂÂS T
$str
ÂÂU Z
+
ÂÂ[ \

Properties
ÂÂ] g
.
ÂÂg h
	Resources
ÂÂh q
.
ÂÂq r"
lblEndPointNotFoundÂÂr 
)ÂÂ 
;ÂÂ 
}
ÃÃ 
catch
ÄÄ 
(
ÄÄ 1
#CommunicationObjectFaultedException
ÄÄ :
ex
ÄÄ; =
)
ÄÄ= >
{
ÅÅ 
HandleException
ÆÆ #
(
ÆÆ# $
ex
ÆÆ$ &
,
ÆÆ& '

Properties
ÆÆ( 2
.
ÆÆ2 3
	Resources
ÆÆ3 <
.
ÆÆ< =#
lblFailToChooseAnswer
ÆÆ= R
+
ÆÆS T
$str
ÆÆU Z
+
ÆÆ[ \

Properties
ÆÆ] g
.
ÆÆg h
	Resources
ÆÆh q
.
ÆÆq r'
lblComunicationExceptionÆÆr 
)ÆÆ 
;ÆÆ 
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ 
TimeoutException
ÈÈ '
ex
ÈÈ( *
)
ÈÈ* +
{
ÉÉ 
HandleException
ÊÊ #
(
ÊÊ# $
ex
ÊÊ$ &
,
ÊÊ& '

Properties
ÊÊ( 2
.
ÊÊ2 3
	Resources
ÊÊ3 <
.
ÊÊ< =#
lblFailToChooseAnswer
ÊÊ= R
+
ÊÊS T
$str
ÊÊU Z
+
ÊÊ[ \

Properties
ÊÊ] g
.
ÊÊg h
	Resources
ÊÊh q
.
ÊÊq r
lblTimeExceptionÊÊr 
)ÊÊ 
;ÊÊ 
}
ËË 
catch
ÌÌ 
(
ÌÌ $
CommunicationException
ÌÌ -
ex
ÌÌ. 0
)
ÌÌ0 1
{
ÍÍ 
HandleException
ÎÎ #
(
ÎÎ# $
ex
ÎÎ$ &
,
ÎÎ& '

Properties
ÎÎ( 2
.
ÎÎ2 3
	Resources
ÎÎ3 <
.
ÎÎ< =#
lblFailToChooseAnswer
ÎÎ= R
+
ÎÎS T
$str
ÎÎU Z
+
ÎÎ[ \

Properties
ÎÎ] g
.
ÎÎg h
	Resources
ÎÎh q
.
ÎÎq r"
lblWithoutConectionÎÎr 
)ÎÎ 
;ÎÎ 
}
ÏÏ 
catch
ÐÐ 
(
ÐÐ 
SocketException
ÐÐ &
ex
ÐÐ' )
)
ÐÐ) *
{
ÑÑ 
HandleException
ÒÒ #
(
ÒÒ# $
ex
ÒÒ$ &
,
ÒÒ& '

Properties
ÒÒ( 2
.
ÒÒ2 3
	Resources
ÒÒ3 <
.
ÒÒ< = 
lblFailToStartGame
ÒÒ= O
+
ÒÒP Q
$str
ÒÒR W
+
ÒÒX Y

Properties
ÒÒZ d
.
ÒÒd e
	Resources
ÒÒe n
.
ÒÒn o"
lblEndPointNotFoundÒÒo 
)ÒÒ 
;ÒÒ 
}
ÓÓ 
}
ÔÔ 
}
ÖÖ 	
private
ØØ 
void
ØØ '
ConfirmLastQuestionAnswer
ØØ .
(
ØØ. /
Button
ØØ/ 5
answerCardChoose
ØØ6 F
)
ØØF G
{
ÙÙ 	
bool
ÚÚ 
	isCorrect
ÚÚ 
;
ÚÚ 
if
ÛÛ 
(
ÛÛ !
GetSpecificResource
ÛÛ #
.
ÛÛ# $,
GetEnglishOrSpanishDescription
ÛÛ$ B
(
ÛÛB C%
answerToCurrentQuestion
ÛÛC Z
.
ÛÛZ [&
EnglishAnswerDescription
ÛÛ[ s
,
ÛÛs t&
answerToCurrentQuestionÛÛu 
.ÛÛ (
SpanishAnswerDescriptionÛÛ ¥
)ÛÛ¥ ¦
.ÛÛ¦ §
EqualsÛÛ§ ­
(ÛÛ­ ® 
answerCardChooseÛÛ® ¾
.ÛÛ¾ ¿
ContentÛÛ¿ Æ
)ÛÛÆ Ç
)ÛÛÇ È
{
ÜÜ 
	isCorrect
ÝÝ 
=
ÝÝ 
true
ÝÝ  
;
ÝÝ  !
}
ÞÞ 
else
ßß 
{
àà 
	isCorrect
áá 
=
áá 
false
áá !
;
áá! "
}
ââ )
GameActionsOperationsClient
ãã '$
gameActionsClientProxy
ãã( >
=
ãã? @
new
ããA D
(
ããD E
)
ããE F
;
ããF G
answerCardChoose
ää 
.
ää 
BorderBrush
ää (
=
ää) *
new
ää+ .
SolidColorBrush
ää/ >
(
ää> ?
Colors
ää? E
.
ääE F
Blue
ääF J
)
ääJ K
;
ääK L
bttFirstAnswer
åå 
.
åå 
	IsEnabled
åå $
=
åå% &
false
åå' ,
;
åå, -
bttSecondAnswer
ææ 
.
ææ 
	IsEnabled
ææ %
=
ææ& '
false
ææ( -
;
ææ- .
bttThridAnswer
çç 
.
çç 
	IsEnabled
çç $
=
çç% &
false
çç' ,
;
çç, -
bttFourAnswer
èè 
.
èè 
	IsEnabled
èè #
=
èè$ %
false
èè& +
;
èè+ ,
txbAdvicement
éé 
.
éé 

Visibility
éé $
=
éé% &

Visibility
éé' 1
.
éé1 2
Visible
éé2 9
;
éé9 :
try
êê 
{
ëë $
gameActionsClientProxy
ìì &
.
ìì& ''
ConfirmLastQuestionAnswer
ìì' @
(
ìì@ A
roomCode
ììA I
,
ììI J
playersInGame
ììK X
.
ììX Y
Find
ììY ]
(
ìì] ^
pla
ìì^ a
=>
ììb d
pla
ììe h
.
ììh i
IdUser
ììi o
==
ììp r
userSingletonììs 
.ìì 
IdUserìì 
)ìì 
,ìì 
	pointsBetìì 
,ìì 
	isCorrectìì 
)ìì 
;ìì  
}
íí 
catch
îî 
(
îî '
EndpointNotFoundException
îî ,
ex
îî- /
)
îî/ 0
{
ïï 
HandleException
ðð 
(
ðð  
ex
ðð  "
,
ðð" #

Properties
ðð$ .
.
ðð. /
	Resources
ðð/ 8
.
ðð8 9#
lblFailToChooseAnswer
ðð9 N
+
ððO P
$str
ððQ V
+
ððW X

Properties
ððY c
.
ððc d
	Resources
ððd m
.
ððm n"
lblEndPointNotFoundððn 
)ðð 
;ðð 
}
ññ 
catch
òò 
(
òò 1
#CommunicationObjectFaultedException
òò 6
ex
òò7 9
)
òò9 :
{
óó 
HandleException
ôô 
(
ôô  
ex
ôô  "
,
ôô" #

Properties
ôô$ .
.
ôô. /
	Resources
ôô/ 8
.
ôô8 9#
lblFailToChooseAnswer
ôô9 N
+
ôôO P
$str
ôôQ V
+
ôôW X

Properties
ôôY c
.
ôôc d
	Resources
ôôd m
.
ôôm n'
lblComunicationExceptionôôn 
)ôô 
;ôô 
}
õõ 
catch
öö 
(
öö 
TimeoutException
öö #
ex
öö$ &
)
öö& '
{
÷÷ 
HandleException
øø 
(
øø  
ex
øø  "
,
øø" #

Properties
øø$ .
.
øø. /
	Resources
øø/ 8
.
øø8 9#
lblFailToChooseAnswer
øø9 N
+
øøO P
$str
øøQ V
+
øøW X

Properties
øøY c
.
øøc d
	Resources
øød m
.
øøm n
lblTimeException
øøn ~
)
øø~ 
;øø 
}
ùù 
catch
úú 
(
úú $
CommunicationException
úú )
ex
úú* ,
)
úú, -
{
ûû 
HandleException
üü 
(
üü  
ex
üü  "
,
üü" #

Properties
üü$ .
.
üü. /
	Resources
üü/ 8
.
üü8 9#
lblFailToChooseAnswer
üü9 N
+
üüO P
$str
üüQ V
+
üüW X

Properties
üüY c
.
üüc d
	Resources
üüd m
.
üüm n"
lblWithoutConectionüün 
)üü 
;üü 
}
ýý 
catch
þþ 
(
þþ 
SocketException
þþ "
ex
þþ# %
)
þþ% &
{
ÿÿ 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9 
lblFailToStartGame
9 K
+
L M
$str
N S
+
T U

Properties
V `
.
` a
	Resources
a j
.
j k!
lblEndPointNotFound
k ~
)
~ 
; 
}
 
}
 	
public
 
async
 
void
 +
ResponseSomeOneChooseAnAnswer
 8
(
8 9
int
9 <
idAnswerSelected
= M
,
M N
int
O R
idUserAnswering
S b
,
b c
int
d g
pointsWorth
h s
)
s t
{
 	
timer
 
.
 
Stop
 
(
 
)
 
;
 
bool
 
	isCorrect
 
;
 
string
 *
descriptionOfCurrentQuestion
 /
=
0 1!
GetSpecificResource
2 E
.
E F,
GetEnglishOrSpanishDescription
F d
(
d e%
answerToCurrentQuestion
e |
.
| }'
EnglishAnswerDescription} 
, '
answerToCurrentQuestion ®
.® ¯(
SpanishAnswerDescription¯ Ç
)Ç È
;È É
var
 
answerSelected
 
=
  )
answersOfQuestionBeingAsked
! <
.
< =
Find
= A
(
A B
ans
B E
=>
F H
ans
I L
.
L M
IdAnswer
M U
==
V X
idAnswerSelected
Y i
)
i j
;
j k
if
 
(
 *
descriptionOfCurrentQuestion
 ,
.
, -
Equals
- 3
(
3 4!
GetSpecificResource
4 G
.
G H,
GetEnglishOrSpanishDescription
H f
(
f g
answerSelected
g u
.
u v'
EnglishAnswerDescriptionv 
, 
answerSelected 
. (
SpanishAnswerDescription ·
)· ¸
)¸ ¹
)¹ º
{
 
	isCorrect
 
=
 
true
  
;
  !
}
 
else
 
{
 
	isCorrect
 
=
 
false
 !
;
! "
}
 
await
  
ShowResultOfAnswer
 $
(
$ %
	isCorrect
% .
,
. /
idAnswerSelected
0 @
,
@ A
pointsWorth
B M
.
M N
ToString
N V
(
V W
)
W X
)
X Y
;
Y Z
SumOrRestPoints
 
(
 
	isCorrect
 %
,
% &
pointsWorth
' 2
,
2 3
idUserAnswering
4 C
)
C D
;
D E
HideQuestion
 
(
 
)
 
;
 %
AssureThereAreQuestions
 #
(
# $
)
$ %
;
% &
cnvResultOfAwnser
 
.
 

Visibility
 (
=
) *

Visibility
+ 5
.
5 6
Hidden
6 <
;
< =
grTimer
 
.
 

Visibility
 
=
  

Visibility
! +
.
+ ,
Hidden
, 2
;
2 3
}
 	
private
 
async
 
Task
  
ShowResultOfAnswer
 -
(
- .
bool
. 2
	isCorrect
3 <
,
< =
int
> A
idAnswerSelected
B R
,
R S
string
T Z
points
[ a
)
a b
{
 	
grdAnswerChoices
 
.
 

Visibility
 '
=
( )

Visibility
* 4
.
4 5
Hidden
5 ;
;
; <
cnvResultOfAwnser
 
.
 

Visibility
 (
=
) *

Visibility
+ 5
.
5 6
Visible
6 =
;
= >
txbQuestionResult
 
.
 
Text
 "
=
# $!
GetSpecificResource
% 8
.
8 9,
GetEnglishOrSpanishDescription
9 W
(
W X 
questionBeingAsked
Y k
.
k l)
EnglishQuestionDescriptionl 
, "
questionBeingAsked 
. *
SpanishQuestionDescription µ
)µ ¶
;¶ ·
var
   
answerSelected
   
=
    )
answersOfQuestionBeingAsked
  ! <
.
  < =
Find
  = A
(
  A B
ans
  B E
=>
  F H
ans
  I L
.
  L M
IdAnswer
  M U
==
  V X
idAnswerSelected
  Y i
)
  i j
;
  j k#
txbStringAnswerChoose
¡¡ !
.
¡¡! "
Text
¡¡" &
=
¡¡' (!
GetSpecificResource
¡¡) <
.
¡¡< =,
GetEnglishOrSpanishDescription
¡¡= [
(
¡¡[ \
answerSelected
¡¡\ j
.
¡¡j k'
EnglishAnswerDescription¡¡k 
,¡¡ 
answerSelected¡¡ 
.¡¡ (
SpanishAnswerDescription¡¡ ¬
)¡¡¬ ­
;¡¡­ ®
if
¢¢ 
(
¢¢ 
	isCorrect
¢¢ 
)
¢¢ 
{
££ 
imgAnswerResult
¤¤ 
.
¤¤  
Source
¤¤  &
=
¤¤' (
new
¤¤) ,
BitmapImage
¤¤- 8
(
¤¤8 9
new
¤¤9 <
Uri
¤¤= @
(
¤¤@ A
App
¤¤A D
.
¤¤D E
Current
¤¤E L
.
¤¤L M
	Resources
¤¤M V
[
¤¤V W
$str
¤¤W h
]
¤¤h i
.
¤¤i j
ToString
¤¤j r
(
¤¤r s
)
¤¤s t
,
¤¤t u
UriKind
¤¤v }
.
¤¤} ~
Absolute¤¤~ 
)¤¤ 
)¤¤ 
;¤¤ #
txbPointsEarnedOrLost
¥¥ %
.
¥¥% &
Text
¥¥& *
=
¥¥+ ,
$str
¥¥- 1
+
¥¥2 3
points
¥¥4 :
;
¥¥: ;
}
¦¦ 
else
§§ 
{
¨¨ 
imgAnswerResult
©© 
.
©©  
Source
©©  &
=
©©' (
new
©©) ,
BitmapImage
©©- 8
(
©©8 9
new
©©9 <
Uri
©©= @
(
©©@ A
App
©©A D
.
©©D E
Current
©©E L
.
©©L M
	Resources
©©M V
[
©©V W
$str
©©W h
]
©©h i
.
©©i j
ToString
©©j r
(
©©r s
)
©©s t
,
©©t u
UriKind
©©v }
.
©©} ~
Absolute©©~ 
)©© 
)©© 
;©© #
txbPointsEarnedOrLost
ªª %
.
ªª% &
Text
ªª& *
=
ªª+ ,
$str
ªª- 1
+
ªª2 3
points
ªª4 :
;
ªª: ;
}
«« 
await
¬¬ 
Task
¬¬ 
.
¬¬ 
Delay
¬¬ 
(
¬¬ 
$num
¬¬ !
)
¬¬! "
;
¬¬" #
}
­­ 	
private
¯¯ 
void
¯¯ 
SumOrRestPoints
¯¯ $
(
¯¯$ %
bool
¯¯% )
	isCorrect
¯¯* 3
,
¯¯3 4
int
¯¯5 8
points
¯¯9 ?
,
¯¯? @
int
¯¯A D
idUser
¯¯E K
)
¯¯K L
{
°° 	
var
±± 
playerChoosing
±± 
=
±±  
playersInGame
±±! .
.
±±. /
Find
±±/ 3
(
±±3 4
player
±±4 :
=>
±±; =
player
±±> D
.
±±D E
IdUser
±±E K
==
±±L N
idUser
±±O U
)
±±U V
;
±±V W
GameTeamCard
²² 
specificTeam
²² %
=
²²& '
null
²²( ,
;
²², -
if
³³ 
(
³³ 
itsTeamGame
³³ 
)
³³ 
{
´´ 
string
µµ 
nameOfBorder
µµ #
;
µµ# $
if
¶¶ 
(
¶¶ 
playerChoosing
¶¶ "
.
¶¶" #
SideTeam
¶¶# +
==
¶¶, .
$num
¶¶/ 0
)
¶¶0 1
{
·· 
nameOfBorder
¸¸  
=
¸¸! "
	team1Name
¸¸# ,
;
¸¸, -
}
¹¹ 
else
ºº 
{
»» 
nameOfBorder
¼¼  
=
¼¼! "
	team2Name
¼¼# ,
;
¼¼, -
}
½½ 
specificTeam
¾¾ 
=
¾¾ 
(
¾¾  
GameTeamCard
¾¾  ,
)
¾¾, -

stpPlayers
¾¾- 7
.
¾¾7 8
Children
¾¾8 @
.
¾¾@ A
OfType
¾¾A G
<
¾¾G H
Border
¾¾H N
>
¾¾N O
(
¾¾O P
)
¾¾P Q
.
¾¾Q R
FirstOrDefault
¾¾R `
(
¾¾` a
pla
¾¾a d
=>
¾¾e g
pla
¾¾h k
.
¾¾k l
Name
¾¾l p
.
¾¾p q
Equals
¾¾q w
(
¾¾w x
nameOfBorder¾¾x 
)¾¾ 
)¾¾ 
;¾¾ 
}
¿¿ 
if
ÀÀ 
(
ÀÀ 
	isCorrect
ÀÀ 
)
ÀÀ 
{
ÁÁ 
playerChoosing
ÂÂ 
.
ÂÂ "
CurrentPointsOfRound
ÂÂ 3
+=
ÂÂ4 6
points
ÂÂ7 =
;
ÂÂ= >
if
ÃÃ 
(
ÃÃ 
itsTeamGame
ÃÃ 
)
ÃÃ  
{
ÄÄ 
specificTeam
ÅÅ  
.
ÅÅ  !
UpdatePoints
ÅÅ! -
(
ÅÅ- .
points
ÅÅ. 4
+
ÅÅ5 6
specificTeam
ÅÅ7 C
.
ÅÅC D
	GetPoints
ÅÅD M
(
ÅÅM N
)
ÅÅN O
)
ÅÅO P
;
ÅÅP Q
playersInGame
ÆÆ !
.
ÆÆ! "
Where
ÆÆ" '
(
ÆÆ' (
pl
ÆÆ( *
=>
ÆÆ+ -
pl
ÆÆ. 0
.
ÆÆ0 1
SideTeam
ÆÆ1 9
==
ÆÆ: <
playerChoosing
ÆÆ= K
.
ÆÆK L
SideTeam
ÆÆL T
)
ÆÆT U
.
ÆÆU V
ToList
ÆÆV \
(
ÆÆ\ ]
)
ÆÆ] ^
.
ÆÆ^ _
ForEach
ÆÆ_ f
(
ÆÆf g
pl
ÆÆg i
=>
ÆÆj l
pl
ÆÆm o
.
ÆÆo p#
CurrentPointsOfRoundÆÆp 
=ÆÆ 
specificTeamÆÆ 
.ÆÆ 
	GetPointsÆÆ 
(ÆÆ 
)ÆÆ 
)ÆÆ  
;ÆÆ  ¡
}
ÇÇ 
}
ÈÈ 
else
ÉÉ 
{
ÊÊ 
playerChoosing
ËË 
.
ËË "
CurrentPointsOfRound
ËË 3
-=
ËË4 6
points
ËË7 =
;
ËË= >
if
ÌÌ 
(
ÌÌ 
itsTeamGame
ÌÌ 
)
ÌÌ  
{
ÍÍ 
specificTeam
ÎÎ  
.
ÎÎ  !
UpdatePoints
ÎÎ! -
(
ÎÎ- .
specificTeam
ÎÎ. :
.
ÎÎ: ;
	GetPoints
ÎÎ; D
(
ÎÎD E
)
ÎÎE F
-
ÎÎG H
points
ÎÎI O
)
ÎÎO P
;
ÎÎP Q
playersInGame
ÏÏ !
.
ÏÏ! "
Where
ÏÏ" '
(
ÏÏ' (
pl
ÏÏ( *
=>
ÏÏ+ -
pl
ÏÏ. 0
.
ÏÏ0 1
SideTeam
ÏÏ1 9
==
ÏÏ: <
playerChoosing
ÏÏ= K
.
ÏÏK L
SideTeam
ÏÏL T
)
ÏÏT U
.
ÏÏU V
ToList
ÏÏV \
(
ÏÏ\ ]
)
ÏÏ] ^
.
ÏÏ^ _
ForEach
ÏÏ_ f
(
ÏÏf g
pl
ÏÏg i
=>
ÏÏj l
pl
ÏÏm o
.
ÏÏo p#
CurrentPointsOfRoundÏÏp 
=ÏÏ 
specificTeamÏÏ 
.ÏÏ 
	GetPointsÏÏ 
(ÏÏ 
)ÏÏ 
)ÏÏ  
;ÏÏ  ¡
}
ÐÐ 
}
ÑÑ 
if
ÒÒ 
(
ÒÒ 
!
ÒÒ 
itsTeamGame
ÒÒ 
)
ÒÒ 
{
ÓÓ 
GamePlayerCard
ÔÔ 
specificPlayer
ÔÔ -
=
ÔÔ. /
(
ÔÔ0 1
GamePlayerCard
ÔÔ1 ?
)
ÔÔ? @

stpPlayers
ÔÔ@ J
.
ÔÔJ K
Children
ÔÔK S
.
ÔÔS T
OfType
ÔÔT Z
<
ÔÔZ [
Border
ÔÔ[ a
>
ÔÔa b
(
ÔÔb c
)
ÔÔc d
.
ÔÔd e
FirstOrDefault
ÔÔe s
(
ÔÔs t
pla
ÔÔt w
=>
ÔÔx z
pla
ÔÔ{ ~
.
ÔÔ~ 
NameÔÔ 
.ÔÔ 
EqualsÔÔ 
(ÔÔ 
$strÔÔ 
+ÔÔ 
playerChoosingÔÔ 
.ÔÔ  
IdUserÔÔ  ¦
.ÔÔ¦ §
ToStringÔÔ§ ¯
(ÔÔ¯ °
)ÔÔ° ±
)ÔÔ± ²
)ÔÔ² ³
;ÔÔ³ ´
if
ÕÕ 
(
ÕÕ 
specificPlayer
ÕÕ "
!=
ÕÕ# %
null
ÕÕ& *
)
ÕÕ* +
{
ÖÖ 
specificPlayer
×× "
.
××" #
UpdatePoints
××# /
(
××/ 0
playerChoosing
××0 >
.
××> ?"
CurrentPointsOfRound
××? S
)
××S T
;
××T U
}
ØØ 
}
ÙÙ 
}
ÚÚ 	
private
ÝÝ 
void
ÝÝ 
HideQuestion
ÝÝ !
(
ÝÝ! "
)
ÝÝ" #
{
ÞÞ 	
var
ßß 

cardToHide
ßß 
=
ßß 
wrpBoardOfCards
ßß ,
.
ßß, -
Children
ßß- 5
.
ßß5 6
OfType
ßß6 <
<
ßß< =
Border
ßß= C
>
ßßC D
(
ßßD E
)
ßßE F
.
ßßF G
FirstOrDefault
ßßG U
(
ßßU V
card
ßßV Z
=>
ßß[ ]
card
ßß^ b
.
ßßb c
Name
ßßc g
.
ßßg h
Equals
ßßh n
(
ßßn o
$str
ßßo r
+
ßßs t!
questionBeingAskedßßu 
.ßß 

IdQuestionßß 
.ßß 
ToStringßß 
(ßß 
)ßß 
)ßß 
)ßß 
;ßß  
if
àà 
(
àà 

cardToHide
àà 
!=
àà 
null
àà "
)
àà" #
{
áá 

cardToHide
ââ 
.
ââ 
	IsEnabled
ââ $
=
ââ% &
false
ââ' ,
;
ââ, -
}
ãã 
}
ää 	
private
ææ 
void
ææ %
AssureThereAreQuestions
ææ ,
(
ææ, -
)
ææ- .
{
çç 	
if
èè 
(
èè 
currentTurn
èè 
==
èè 
yourTurn
èè '
&&
èè( *
wrpBoardOfCards
èè+ :
.
èè: ;
Children
èè; C
.
èèC D
OfType
èèD J
<
èèJ K
Border
èèK Q
>
èèQ R
(
èèR S
)
èèS T
.
èèT U
Count
èèU Z
(
èèZ [
card
èè[ _
=>
èè` b
card
èèc g
.
èèg h
	IsEnabled
èèh q
)
èèq r
<=
èès u
$num
èèv w
)
èèw x
{
éé 
try
êê 
{
ëë 
GameActionsClient
ìì %,
gameActionsCallBackClientProxy
ìì& D
=
ììE F
new
ììG J
GameActionsClient
ììK \
(
ìì\ ]
new
ìì] `
InstanceContext
ììa p
(
ììp q
this
ììq u
)
ììu v
)
ììv w
;
ììw x,
gameActionsCallBackClientProxy
íí 2
.
íí2 3
RenewGameCallBack
íí3 D
(
ííD E
roomCode
ííE M
,
ííM N
userSingleton
ííO \
.
íí\ ]
IdUser
íí] c
)
ííc d
;
ííd e)
GameActionsOperationsClient
îî /$
gameActionsClientProxy
îî0 F
=
îîG H
new
îîI L
(
îîL M
)
îîM N
;
îîN O$
gameActionsClientProxy
ïï *
.
ïï* +
FinishRound
ïï+ 6
(
ïï6 7
roomCode
ïï7 ?
,
ïï? @
playersInGame
ïïA N
.
ïïN O
ToArray
ïïO V
(
ïïV W
)
ïïW X
,
ïïX Y
currentRound
ïïZ f
)
ïïf g
;
ïïg h
}
ðð 
catch
ññ 
(
ññ '
EndpointNotFoundException
ññ 0
ex
ññ1 3
)
ññ3 4
{
òò 
HandleException
óó #
(
óó# $
ex
óó$ &
,
óó& '

Properties
óó( 2
.
óó2 3
	Resources
óó3 <
.
óó< =#
lblFailToChooseAnswer
óó= R
+
óóS T
$str
óóU Z
+
óó[ \

Properties
óó] g
.
óóg h
	Resources
óóh q
.
óóq r"
lblEndPointNotFoundóór 
)óó 
;óó 
}
ôô 
catch
õõ 
(
õõ 1
#CommunicationObjectFaultedException
õõ :
ex
õõ; =
)
õõ= >
{
öö 
HandleException
÷÷ #
(
÷÷# $
ex
÷÷$ &
,
÷÷& '

Properties
÷÷( 2
.
÷÷2 3
	Resources
÷÷3 <
.
÷÷< =#
lblFailToChooseAnswer
÷÷= R
+
÷÷S T
$str
÷÷U Z
+
÷÷[ \

Properties
÷÷] g
.
÷÷g h
	Resources
÷÷h q
.
÷÷q r'
lblComunicationException÷÷r 
)÷÷ 
;÷÷ 
}
øø 
catch
ùù 
(
ùù 
TimeoutException
ùù '
ex
ùù( *
)
ùù* +
{
úú 
HandleException
ûû #
(
ûû# $
ex
ûû$ &
,
ûû& '

Properties
ûû( 2
.
ûû2 3
	Resources
ûû3 <
.
ûû< =#
lblFailToChooseAnswer
ûû= R
+
ûûS T
$str
ûûU Z
+
ûû[ \

Properties
ûû] g
.
ûûg h
	Resources
ûûh q
.
ûûq r
lblTimeExceptionûûr 
)ûû 
;ûû 
}
üü 
catch
ýý 
(
ýý $
CommunicationException
ýý -
ex
ýý. 0
)
ýý0 1
{
þþ 
HandleException
ÿÿ #
(
ÿÿ# $
ex
ÿÿ$ &
,
ÿÿ& '

Properties
ÿÿ( 2
.
ÿÿ2 3
	Resources
ÿÿ3 <
.
ÿÿ< =#
lblFailToChooseAnswer
ÿÿ= R
+
ÿÿS T
$str
ÿÿU Z
+
ÿÿ[ \

Properties
ÿÿ] g
.
ÿÿg h
	Resources
ÿÿh q
.
ÿÿq r"
lblWithoutConectionÿÿr 
)ÿÿ 
;ÿÿ 
}
 
catch
 
(
 
SocketException
 &
ex
' )
)
) *
{
 
HandleException
 #
(
# $
ex
$ &
,
& '

Properties
( 2
.
2 3
	Resources
3 <
.
< = 
lblFailToStartGame
= O
+
P Q
$str
R W
+
X Y

Properties
Z d
.
d e
	Resources
e n
.
n o"
lblEndPointNotFoundo 
) 
; 
}
 
}
 
}
 	
public
 
void
 *
ReceiveNotificationAboutTurn
 0
(
0 1
int
1 4

isYourTurn
5 ?
)
? @
{
 	
currentTurn
 
=
 

isYourTurn
 $
;
$ %
ShowIfItsYourTurn
 
(
 
)
 
;
  
}
 	
private
 
void
 
ShowIfItsYourTurn
 &
(
& '
)
' (
{
 	
var
 
userTurn
 
=
 
playersInGame
 (
.
( )
Find
) -
(
- .
pla
. 1
=>
2 4
pla
5 8
.
8 9
TurnOfPlayer
9 E
==
F H
currentTurn
I T
)
T U
;
U V
List
 
<
 
Border
 
>
 
specificPlayer
 '
=
( )

stpPlayers
* 4
.
4 5
Children
5 =
.
= >
OfType
> D
<
D E
Border
E K
>
K L
(
L M
)
M N
.
N O
ToList
O U
(
U V
)
V W
;
W X
if
 
(
 
itsTeamGame
 
&&
 
userTurn
 '
!=
( *
null
+ /
)
/ 0
{
 %
ResaltTeamPlayersBorder
 '
(
' (
specificPlayer
( 6
,
6 7
userTurn
8 @
)
@ A
;
A B
}
 
else
 
{
 &
ResaltSinglePlayerBorder
 (
(
( )
specificPlayer
) 7
,
7 8
userTurn
9 A
)
A B
;
B C
}
 
}
 	
private
 
void
 &
ResaltSinglePlayerBorder
 -
(
- .
List
. 2
<
2 3
Border
3 9
>
9 :
specificPlayer
; I
,
I J&
PlayerInGameDataContract
K c
userTurn
d l
)
l m
{
 	
foreach
 
(
 
Border
 
card
  
in
! #
specificPlayer
$ 2
)
2 3
{
 
GamePlayerCard
   

playerCard
   )
=
  * +
card
  , 0
as
  1 3
GamePlayerCard
  4 B
;
  B C
if
¡¡ 
(
¡¡ 

playerCard
¡¡ 
.
¡¡ 
Name
¡¡ #
.
¡¡# $
Equals
¡¡$ *
(
¡¡* +
$str
¡¡+ .
+
¡¡/ 0
userTurn
¡¡1 9
.
¡¡9 :
IdUser
¡¡: @
)
¡¡@ A
)
¡¡A B
{
¢¢ 

playerCard
££ 
.
££ 
MakeBorderSpecial
££ 0
(
££0 1
)
££1 2
;
££2 3
}
¤¤ 
else
¥¥ 
{
¦¦ 

playerCard
§§ 
.
§§ 
MakeBoredNormal
§§ .
(
§§. /
)
§§/ 0
;
§§0 1
}
¨¨ 
}
©© $
ChangeColorOfTrunLigth
ªª "
(
ªª" #
)
ªª# $
;
ªª$ %
}
«« 	
private
­­ 
void
­­ %
ResaltTeamPlayersBorder
­­ ,
(
­­, -
List
­­- 1
<
­­1 2
Border
­­2 8
>
­­8 9
specificPlayer
­­: H
,
­­H I&
PlayerInGameDataContract
­­J b
userTurn
­­c k
)
­­k l
{
®® 	
string
¯¯ 
nameOfBorder
¯¯ 
;
¯¯  
if
°° 
(
°° 
userTurn
°° 
.
°° 
SideTeam
°° !
==
°°" $
$num
°°% &
)
°°& '
{
±± 
nameOfBorder
²² 
=
²² 
	team1Name
²² (
;
²²( )
}
³³ 
else
´´ 
{
µµ 
nameOfBorder
¶¶ 
=
¶¶ 
	team2Name
¶¶ (
;
¶¶( )
}
·· 
foreach
¸¸ 
(
¸¸ 
Border
¸¸ 
card
¸¸  
in
¸¸! #
specificPlayer
¸¸$ 2
)
¸¸2 3
{
¹¹ 
GameTeamCard
ºº 

playerCard
ºº '
=
ºº( )
card
ºº* .
as
ºº/ 1
GameTeamCard
ºº2 >
;
ºº> ?
if
»» 
(
»» 

playerCard
»» 
.
»» 
Name
»» #
.
»»# $
Equals
»»$ *
(
»»* +
nameOfBorder
»»+ 7
)
»»7 8
)
»»8 9
{
¼¼ 

playerCard
½½ 
.
½½ 
MakeBorderSpecial
½½ 0
(
½½0 1
)
½½1 2
;
½½2 3
}
¾¾ 
else
¿¿ 
{
ÀÀ 

playerCard
ÁÁ 
.
ÁÁ 
MakeBoredNormal
ÁÁ .
(
ÁÁ. /
)
ÁÁ/ 0
;
ÁÁ0 1
}
ÂÂ 
}
ÃÃ 
}
ÄÄ 	
private
ÆÆ 
void
ÆÆ $
ChangeColorOfTrunLigth
ÆÆ +
(
ÆÆ+ ,
)
ÆÆ, -
{
ÇÇ 	
if
ÈÈ 
(
ÈÈ 
yourTurn
ÈÈ 
==
ÈÈ 
currentTurn
ÈÈ '
)
ÈÈ' (
{
ÉÉ 
ellYourTurn
ÊÊ 
.
ÊÊ 
Fill
ÊÊ  
=
ÊÊ! "
Brushes
ÊÊ# *
.
ÊÊ* +
Green
ÊÊ+ 0
;
ÊÊ0 1
}
ËË 
else
ÌÌ 
{
ÍÍ 
ellYourTurn
ÎÎ 
.
ÎÎ 
Fill
ÎÎ  
=
ÎÎ! "
Brushes
ÎÎ# *
.
ÎÎ* +
Gray
ÎÎ+ /
;
ÎÎ/ 0
}
ÏÏ 
}
ÐÐ 	
public
ÒÒ 
async
ÒÒ 
void
ÒÒ  
ResponseBeginRound
ÒÒ ,
(
ÒÒ, -
int
ÒÒ- 0

isYourTurn
ÒÒ1 ;
,
ÒÒ; <
int
ÒÒ= @
roundToStart
ÒÒA M
,
ÒÒM N&
PlayerInGameDataContract
ÒÒO g
[
ÒÒg h
]
ÒÒh i
playerInGam
ÒÒj u
)
ÒÒu v
{
ÓÓ 	
playersInGame
ÔÔ 
=
ÔÔ 
playersInGame
ÔÔ )
.
ÔÔ) *
ToList
ÔÔ* 0
(
ÔÔ0 1
)
ÔÔ1 2
;
ÔÔ2 3
switch
ÕÕ 
(
ÕÕ 
roundToStart
ÕÕ  
)
ÕÕ  !
{
ÖÖ 
case
×× 
$num
×× 
:
×× 
currentRound
ØØ  
=
ØØ! "
roundToStart
ØØ# /
;
ØØ/ 0
await
ÙÙ 
PrepareRoundTwo
ÙÙ )
(
ÙÙ) *
)
ÙÙ* +
;
ÙÙ+ ,
break
ÚÚ 
;
ÚÚ 
case
ÛÛ 
$num
ÛÛ 
:
ÛÛ 
currentRound
ÜÜ  
=
ÜÜ! "
roundToStart
ÜÜ# /
;
ÜÜ/ 0
await
ÝÝ 
PrepareLastRound
ÝÝ *
(
ÝÝ* +
)
ÝÝ+ ,
;
ÝÝ, -
break
ÞÞ 
;
ÞÞ 
}
ßß 
}
àà 	
public
ââ 
void
ââ  
ResponseShowWinner
ââ &
(
ââ& '&
PlayerInGameDataContract
ââ' ?
[
ââ? @
]
ââ@ A
playerInGame
ââB N
,
ââN O
int
ââP S
poinstWereSaved
ââT c
)
ââc d
{
ãã 	
currentRound
ää 
=
ää 
$num
ää 
;
ää 
playersInGame
åå 
=
åå 
playerInGame
åå (
.
åå( )
ToList
åå) /
(
åå/ 0
)
åå0 1
;
åå1 2'
CreatePlayersScoresBoards
ææ %
(
ææ% &
)
ææ& '
;
ææ' (
List
çç 
<
çç &
PlayerInGameDataContract
çç )
>
çç) *
playersOredered
çç+ :
=
çç; <
playerInGame
çç= I
.
ççI J
OrderByDescending
ççJ [
(
çç[ \
pl
çç\ ^
=>
çç_ a
pl
ççb d
.
ççd e"
CurrentPointsOfRound
ççe y
)
ççy z
.
ççz {
ToListçç{ 
(çç 
)çç 
;çç 
grdAnswerChoices
èè 
.
èè 

Visibility
èè '
=
èè( )

Visibility
èè* 4
.
èè4 5
Hidden
èè5 ;
;
èè; <
grTimer
éé 
.
éé 

Visibility
éé 
=
éé  

Visibility
éé! +
.
éé+ ,
Hidden
éé, 2
;
éé2 3
grWinnerPanel
êê 
.
êê 

Visibility
êê $
=
êê% &

Visibility
êê' 1
.
êê1 2
Visible
êê2 9
;
êê9 :
List
ëë 
<
ëë 
Border
ëë 
>
ëë 
playersBorders
ëë '
=
ëë( )

stpPlayers
ëë* 4
.
ëë4 5
Children
ëë5 =
.
ëë= >
OfType
ëë> D
<
ëëD E
Border
ëëE K
>
ëëK L
(
ëëL M
)
ëëM N
.
ëëN O
ToList
ëëO U
(
ëëU V
)
ëëV W
;
ëëW X&
SetPlayerInPositionSpots
ìì $
(
ìì$ %
playersBorders
ìì% 3
,
ìì3 4
playersOredered
ìì5 D
)
ììD E
;
ììE F
if
íí 
(
íí 
userSingleton
íí 
.
íí 
IdState
íí $
!=
íí% '
$num
íí( )
)
íí) *
{
îî 
if
ïï 
(
ïï 
poinstWereSaved
ïï #
==
ïï$ &!
ExceptionDictionary
ïï' :
.
ïï: ;
SUCCESFULL_EVENT
ïï; K
)
ïïK L
{
ðð !
DialogWindowManager
ññ '
.
ññ' (#
ShowInfoOrErrorWindow
ññ( =
(
ññ= >

Properties
ññ> H
.
ññH I
	Resources
ññI R
.
ññR S
txbGameFinish
ññS `
,
ññ` a

Properties
ññb l
.
ññl m
	Resources
ññm v
.
ññv w
GameFinishedññw 
,ññ 
Windowññ 
.ññ 
	GetWindowññ 
(ññ 
thisññ 
)ññ 
,ññ #
DialogWindowManagerññ °
.ññ° ±
INFORMATIONññ± ¼
)ññ¼ ½
;ññ½ ¾
}
òò 
else
óó 
{
ôô !
DialogWindowManager
õõ '
.
õõ' (#
ShowInfoOrErrorWindow
õõ( =
(
õõ= >

Properties
õõ> H
.
õõH I
	Resources
õõI R
.
õõR S
txbErrorTitle
õõS `
,
õõ` a

Properties
õõb l
.
õõl m
	Resources
õõm v
.
õõv w+
lblFailToSavePoinstAfterGameõõw 
,õõ 
Windowõõ 
.õõ 
	GetWindowõõ ¥
(õõ¥ ¦
thisõõ¦ ª
)õõª «
,õõ« ¬#
DialogWindowManagerõõ­ À
.õõÀ Á
ERRORõõÁ Æ
)õõÆ Ç
;õõÇ È
}
öö 
}
÷÷ 
else
øø 
{
ùù !
DialogWindowManager
úú #
.
úú# $#
ShowInfoOrErrorWindow
úú$ 9
(
úú9 :

Properties
úú: D
.
úúD E
	Resources
úúE N
.
úúN O
txbErrorTitle
úúO \
,
úú\ ]

Properties
úú^ h
.
úúh i
	Resources
úúi r
.
úúr s 
lblGuestEndOfGameúús 
,úú 
Windowúú 
.úú 
	GetWindowúú 
(úú 
thisúú 
)úú 
,úú #
DialogWindowManagerúú ±
.úú± ²
INFORMATIONúú² ½
)úú½ ¾
;úú¾ ¿
}
ûû 
}
üü 	
private
þþ 
void
þþ &
SetPlayerInPositionSpots
þþ .
(
þþ. /
List
þþ/ 3
<
þþ3 4
Border
þþ4 :
>
þþ: ;
playerBorder
þþ< H
,
þþH I
List
þþJ N
<
þþN O&
PlayerInGameDataContract
þþO g
>
þþg h
playerInGame
þþi u
)
þþu v
{
ÿÿ 	
List
 
<
 
Border
 
>
 
pillarRectangles
 )
=
* +
new
, /
List
0 4
<
4 5
Border
5 ;
>
; <
(
< =
)
= >
{
? @
brdFirstPlaceSpot
A R
,
R S 
brdSecondPlaceSpot
T f
,
f g 
brdtThirdPlaceSpot
h z
,
z {%
brdForthPlacePlaceSpot| 
} 
; 
List
 
<
 
Border
 
>
 
borderPositions
 (
=
) *
new
+ .
List
/ 3
<
3 4
Border
4 :
>
: ;
(
; <
)
< =
{
> ?
brdFirstPlace
@ M
,
M N
brdSecondPlace
O ]
,
] ^
brdThirdPlace
_ l
,
l m
brdForthPlace
n {
}
{ |
;
| }
if
 
(
 
itsTeamGame
 
)
 
{
 
var
 
borderTeam1
 
=
  !
playerBorder
" .
.
. /
Find
/ 3
(
3 4
pla
4 7
=>
8 :
pla
; >
.
> ?
Name
? C
.
C D
Equals
D J
(
J K
	team1Name
K T
)
T U
)
U V
;
V W
var
 
borderTeam2
 
=
  !
playerBorder
" .
.
. /
Find
/ 3
(
3 4
pla
4 7
=>
8 :
pla
; >
.
> ?
Name
? C
.
C D
Equals
D J
(
J K
	team2Name
K T
)
T U
)
U V
;
V W
var
 
playersTeam1
  
=
! "
playerInGame
# /
.
/ 0
Find
0 4
(
4 5
pl
5 7
=>
8 :
pl
; =
.
= >
SideTeam
> F
==
G I
$num
J K
)
K L
;
L M
var
 
playerTeam2
 
=
  !
playerInGame
" .
.
. /
Find
/ 3
(
3 4
pl
4 6
=>
7 9
pl
: <
.
< =
SideTeam
= E
==
F H
$num
I J
)
J K
;
K L
if
 
(
 
playersTeam1
  
!=
! #
null
$ (
&&
) +
playerTeam2
, 7
!=
8 :
null
; ?
&&
@ B
borderTeam1
C N
!=
O Q
null
R V
&&
W Y
borderTeam2
Z e
!=
f h
null
i m
)
m n
{
 
if
 
(
 
playersTeam1
 $
.
$ %"
CurrentPointsOfRound
% 9
>=
: <
playerTeam2
= H
.
H I"
CurrentPointsOfRound
I ]
)
] ^
{
 
borderTeam1
 #
.
# $
Margin
$ *
=
+ ,
borderPositions
- <
[
< =
$num
= >
]
> ?
.
? @
Margin
@ F
;
F G
borderTeam2
 #
.
# $
Margin
$ *
=
+ ,
borderPositions
- <
[
< =
$num
= >
]
> ?
.
? @
Margin
@ F
;
F G
pillarRectangles
 (
[
( )
$num
) *
]
* +
.
+ ,

Background
, 6
=
7 8
borderTeam1
9 D
.
D E

Background
E O
;
O P
pillarRectangles
 (
[
( )
$num
) *
]
* +
.
+ ,

Background
, 6
=
7 8
borderTeam2
9 D
.
D E

Background
E O
;
O P
}
 
else
 
{
 
borderTeam1
 #
.
# $
Margin
$ *
=
+ ,
borderPositions
- <
[
< =
$num
= >
]
> ?
.
? @
Margin
@ F
;
F G
borderTeam2
 #
.
# $
Margin
$ *
=
+ ,
borderPositions
- <
[
< =
$num
= >
]
> ?
.
? @
Margin
@ F
;
F G
pillarRectangles
 (
[
( )
$num
) *
]
* +
.
+ ,

Background
, 6
=
7 8
borderTeam1
9 D
.
D E

Background
E O
;
O P
pillarRectangles
 (
[
( )
$num
) *
]
* +
.
+ ,

Background
, 6
=
7 8
borderTeam2
9 D
.
D E

Background
E O
;
O P
}
 
borderTeam1
 
.
  
Width
  %
=
& '
double
( .
.
. /
NaN
/ 2
;
2 3
borderTeam1
 
.
  
Height
  &
=
' (
double
) /
.
/ 0
NaN
0 3
;
3 4
borderTeam2
 
.
  
Width
  %
=
& '
double
( .
.
. /
NaN
/ 2
;
2 3
borderTeam2
 
.
  
Height
  &
=
' (
double
) /
.
/ 0
NaN
0 3
;
3 4

stpPlayers
 
.
 
Children
 '
.
' (
Clear
( -
(
- .
)
. /
;
/ 0
int
 
indexBorder0
 $
=
% &
grWinnerPanel
' 4
.
4 5
Children
5 =
.
= >
IndexOf
> E
(
E F
borderPositions
F U
[
U V
$num
V W
]
W X
)
X Y
;
Y Z
int
 
indexBorder1
 $
=
% &
grWinnerPanel
' 4
.
4 5
Children
5 =
.
= >
IndexOf
> E
(
E F
borderPositions
F U
[
U V
$num
V W
]
W X
)
X Y
;
Y Z
grWinnerPanel
 !
.
! "
Children
" *
.
* +
RemoveAt
+ 3
(
3 4
indexBorder0
4 @
)
@ A
;
A B
grWinnerPanel
   !
.
  ! "
Children
  " *
.
  * +
RemoveAt
  + 3
(
  3 4
indexBorder1
  4 @
)
  @ A
;
  A B
grWinnerPanel
¡¡ !
.
¡¡! "
Children
¡¡" *
.
¡¡* +
Insert
¡¡+ 1
(
¡¡1 2
indexBorder0
¡¡2 >
,
¡¡> ?
borderTeam1
¡¡@ K
)
¡¡K L
;
¡¡L M
grWinnerPanel
¢¢ !
.
¢¢! "
Children
¢¢" *
.
¢¢* +
Insert
¢¢+ 1
(
¢¢1 2
indexBorder1
¢¢2 >
,
¢¢> ?
borderTeam2
¢¢@ K
)
¢¢K L
;
¢¢L M
}
££ 
}
¤¤ 
else
¥¥ 
{
¦¦ 
for
§§ 
(
§§ 
int
§§ 
i
§§ 
=
§§ 
playerInGame
§§ )
.
§§) *
Count
§§* /
-
§§0 1
$num
§§2 3
;
§§3 4
i
§§5 6
>=
§§7 9
$num
§§: ;
;
§§; <
i
§§= >
--
§§> @
)
§§@ A
{
¨¨ 
pillarRectangles
©© $
[
©©$ %
i
©©% &
]
©©& '
.
©©' (

Visibility
©©( 2
=
©©3 4

Visibility
©©5 ?
.
©©? @
Visible
©©@ G
;
©©G H
int
ªª 
index
ªª 
=
ªª 
grWinnerPanel
ªª  -
.
ªª- .
Children
ªª. 6
.
ªª6 7
IndexOf
ªª7 >
(
ªª> ?
borderPositions
ªª? N
[
ªªN O
i
ªªO P
]
ªªP Q
)
ªªQ R
;
ªªR S
Border
«« 

borderCopy
«« %
;
««% &

borderCopy
¬¬ 
=
¬¬  
playerBorder
¬¬! -
.
¬¬- .
Find
¬¬. 2
(
¬¬2 3
pla
¬¬3 6
=>
¬¬7 9
pla
¬¬: =
.
¬¬= >
Name
¬¬> B
.
¬¬B C
Equals
¬¬C I
(
¬¬I J
$str
¬¬J M
+
¬¬N O
playerInGame
¬¬P \
[
¬¬\ ]
i
¬¬] ^
]
¬¬^ _
.
¬¬_ `
IdUser
¬¬` f
.
¬¬f g
ToString
¬¬g o
(
¬¬o p
)
¬¬p q
)
¬¬q r
)
¬¬r s
;
¬¬s t
if
­­ 
(
­­ 

borderCopy
­­ "
!=
­­# %
null
­­& *
)
­­* +
{
®® 

stpPlayers
¯¯ "
.
¯¯" #
Children
¯¯# +
.
¯¯+ ,
Remove
¯¯, 2
(
¯¯2 3

borderCopy
¯¯3 =
)
¯¯= >
;
¯¯> ?

borderCopy
°° "
.
°°" #
Margin
°°# )
=
°°* +
borderPositions
°°, ;
[
°°; <
i
°°< =
]
°°= >
.
°°> ?
Margin
°°? E
;
°°E F
grWinnerPanel
±± %
.
±±% &
Children
±±& .
.
±±. /
RemoveAt
±±/ 7
(
±±7 8
index
±±8 =
)
±±= >
;
±±> ?
grWinnerPanel
²² %
.
²²% &
Children
²²& .
.
²². /
Insert
²²/ 5
(
²²5 6
index
²²6 ;
,
²²; <

borderCopy
²²= G
)
²²G H
;
²²H I
pillarRectangles
³³ (
[
³³( )
i
³³) *
]
³³* +
.
³³+ ,

Background
³³, 6
=
³³7 8

borderCopy
³³9 C
.
³³C D

Background
³³D N
;
³³N O
}
´´ 
}
µµ 
}
¶¶ 
}
·· 	
private
¹¹ 
void
¹¹ 

StartTimer
¹¹ 
(
¹¹  
)
¹¹  !
{
ºº 	
txbTimer
»» 
.
»» 
Text
»» 
=
»» 
timeLeft
»» $
.
»»$ %
ToString
»»% -
(
»»- .
)
»». /
+
»»0 1!
secondsAbbreviation
»»2 E
;
»»E F
if
¼¼ 
(
¼¼ 
currentRound
¼¼ 
==
¼¼ 
	ROUND_ONE
¼¼ (
)
¼¼( )
{
½½ 
timeLeft
¾¾ 
=
¾¾ 
$num
¾¾ 
;
¾¾ 
}
¿¿ 
else
ÀÀ 
{
ÁÁ 
timeLeft
ÂÂ 
=
ÂÂ 
$num
ÂÂ 
;
ÂÂ 
}
ÃÃ 
timer
ÄÄ 
=
ÄÄ 
new
ÄÄ 
DispatcherTimer
ÄÄ '
(
ÄÄ' (
)
ÄÄ( )
;
ÄÄ) *
timer
ÅÅ 
.
ÅÅ 
Interval
ÅÅ 
=
ÅÅ 
TimeSpan
ÅÅ %
.
ÅÅ% &
FromSeconds
ÅÅ& 1
(
ÅÅ1 2
$num
ÅÅ2 3
)
ÅÅ3 4
;
ÅÅ4 5
timer
ÆÆ 
.
ÆÆ 
Tick
ÆÆ 
+=
ÆÆ 

Timer_Tick
ÆÆ $
;
ÆÆ$ %
timer
ÇÇ 
.
ÇÇ 
Start
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÈÈ 	
private
ÊÊ 
void
ÊÊ 

Timer_Tick
ÊÊ 
(
ÊÊ  
object
ÊÊ  &
sender
ÊÊ' -
,
ÊÊ- .
	EventArgs
ÊÊ/ 8
e
ÊÊ9 :
)
ÊÊ: ;
{
ËË 	
txbTimer
ÌÌ 
.
ÌÌ 
Text
ÌÌ 
=
ÌÌ 
timeLeft
ÌÌ $
.
ÌÌ$ %
ToString
ÌÌ% -
(
ÌÌ- .
)
ÌÌ. /
+
ÌÌ0 1!
secondsAbbreviation
ÌÌ2 E
;
ÌÌE F
if
ÍÍ 
(
ÍÍ 
timeLeft
ÍÍ 
<=
ÍÍ 
$num
ÍÍ 
)
ÍÍ 
{
ÎÎ 
if
ÏÏ 
(
ÏÏ 
currentRound
ÏÏ  
!=
ÏÏ! #
ROUND_THREE
ÏÏ$ /
&&
ÏÏ0 2
grdAnswerChoices
ÏÏ3 C
.
ÏÏC D
	IsVisible
ÏÏD M
)
ÏÏM N
{
ÐÐ 
ChooseWrongAnswer
ÑÑ %
(
ÑÑ% &
)
ÑÑ& '
;
ÑÑ' (
}
ÒÒ 
}
ÓÓ 
else
ÔÔ 
{
ÕÕ 
timeLeft
ÖÖ 
--
ÖÖ 
;
ÖÖ 
}
×× 
}
ØØ 	
private
ÚÚ 
void
ÚÚ 
ChooseWrongAnswer
ÚÚ &
(
ÚÚ& '
)
ÚÚ' (
{
ÛÛ 	
string
ÜÜ )
descriptionAnswerToQuestion
ÜÜ .
=
ÜÜ/ 0!
GetSpecificResource
ÜÜ1 D
.
ÜÜD E,
GetEnglishOrSpanishDescription
ÜÜE c
(
ÜÜc d%
answerToCurrentQuestion
ÜÜd {
.
ÜÜ{ |'
EnglishAnswerDescriptionÜÜ| 
,ÜÜ '
answerToCurrentQuestionÜÜ ­
.ÜÜ­ ®(
SpanishAnswerDescriptionÜÜ® Æ
)ÜÜÆ Ç
;ÜÜÇ È
Button
ÝÝ 
answerButton
ÝÝ 
=
ÝÝ  !
grdAnswerChoices
ÝÝ" 2
.
ÝÝ2 3
Children
ÝÝ3 ;
.
ÝÝ; <
OfType
ÝÝ< B
<
ÝÝB C
Button
ÝÝC I
>
ÝÝI J
(
ÝÝJ K
)
ÝÝK L
.
ÝÝL M
FirstOrDefault
ÝÝM [
(
ÝÝ[ \
btt
ÝÝ\ _
=>
ÝÝ` b
!
ÝÝc d
btt
ÝÝd g
.
ÝÝg h
Content
ÝÝh o
.
ÝÝo p
Equals
ÝÝp v
(
ÝÝv w*
descriptionAnswerToQuestionÝÝw 
)ÝÝ 
)ÝÝ 
;ÝÝ 
if
ÞÞ 
(
ÞÞ 
currentTurn
ÞÞ 
==
ÞÞ 
yourTurn
ÞÞ '
&&
ÞÞ( *
answerButton
ÞÞ+ 7
!=
ÞÞ8 :
null
ÞÞ; ?
)
ÞÞ? @
{
ßß 
try
àà 
{
áá 
if
ãã 
(
ãã 
currentRound
ãã $
!=
ãã% '
ROUND_THREE
ãã( 3
)
ãã3 4
{
ää  
ConfirmWrongAnswer
åå *
(
åå* +
answerButton
åå+ 7
)
åå7 8
;
åå8 9
}
ææ 
else
çç 
{
èè ,
ConfirmWrongLastQuestionAnswer
éé 6
(
éé6 7
answerButton
éé7 C
)
ééC D
;
ééD E
}
êê 
}
ëë 
catch
ìì 
(
ìì '
EndpointNotFoundException
ìì 0
ex
ìì1 3
)
ìì3 4
{
íí 
HandleException
îî #
(
îî# $
ex
îî$ &
,
îî& '

Properties
îî( 2
.
îî2 3
	Resources
îî3 <
.
îî< =#
lblFailToChooseAnswer
îî= R
+
îîS T
$str
îîU Z
+
îî[ \

Properties
îî] g
.
îîg h
	Resources
îîh q
.
îîq r"
lblEndPointNotFoundîîr 
)îî 
;îî 
}
ïï 
catch
ðð 
(
ðð 1
#CommunicationObjectFaultedException
ðð :
ex
ðð; =
)
ðð= >
{
ññ 
HandleException
òò #
(
òò# $
ex
òò$ &
,
òò& '

Properties
òò( 2
.
òò2 3
	Resources
òò3 <
.
òò< =#
lblFailToChooseAnswer
òò= R
+
òòS T
$str
òòU Z
+
òò[ \

Properties
òò] g
.
òòg h
	Resources
òòh q
.
òòq r'
lblComunicationExceptionòòr 
)òò 
;òò 
}
óó 
catch
ôô 
(
ôô 
TimeoutException
ôô '
ex
ôô( *
)
ôô* +
{
õõ 
HandleException
öö #
(
öö# $
ex
öö$ &
,
öö& '

Properties
öö( 2
.
öö2 3
	Resources
öö3 <
.
öö< =#
lblFailToChooseAnswer
öö= R
+
ööS T
$str
ööU Z
+
öö[ \

Properties
öö] g
.
öög h
	Resources
ööh q
.
ööq r
lblTimeExceptionöör 
)öö 
;öö 
}
÷÷ 
catch
øø 
(
øø $
CommunicationException
øø -
ex
øø. 0
)
øø0 1
{
ùù 
HandleException
úú #
(
úú# $
ex
úú$ &
,
úú& '

Properties
úú( 2
.
úú2 3
	Resources
úú3 <
.
úú< =#
lblFailToChooseAnswer
úú= R
+
úúS T
$str
úúU Z
+
úú[ \

Properties
úú] g
.
úúg h
	Resources
úúh q
.
úúq r"
lblWithoutConectionúúr 
)úú 
;úú 
}
ûû 
catch
üü 
(
üü 
SocketException
üü &
ex
üü' )
)
üü) *
{
ýý 
HandleException
þþ #
(
þþ# $
ex
þþ$ &
,
þþ& '

Properties
þþ( 2
.
þþ2 3
	Resources
þþ3 <
.
þþ< = 
lblFailToStartGame
þþ= O
+
þþP Q
$str
þþR W
+
þþX Y

Properties
þþZ d
.
þþd e
	Resources
þþe n
.
þþn o"
lblEndPointNotFoundþþo 
)þþ 
;þþ 
}
ÿÿ 
}
 
}
 	
private
 
void
  
ConfirmWrongAnswer
 '
(
' (
Button
( .
answerButton
/ ;
)
; <
{
 	
try
 
{
 
GameActionsClient
 !,
gameActionsCallBackClientProxy
" @
=
A B
new
C F
GameActionsClient
G X
(
X Y
new
Y \
InstanceContext
] l
(
l m
this
m q
)
q r
)
r s
;
s t,
gameActionsCallBackClientProxy
 .
.
. /
RenewGameCallBack
/ @
(
@ A
roomCode
A I
,
I J
userSingleton
K X
.
X Y
IdUser
Y _
)
_ `
;
` a)
GameActionsOperationsClient
 +$
gameActionsClientProxy
, B
=
C D
new
E H
(
H I
)
I J
;
J K
var
 
answerSelected
 "
=
# $)
answersOfQuestionBeingAsked
% @
.
@ A
Find
A E
(
E F
anw
F I
=>
J L!
GetSpecificResource
M `
.
` a,
GetEnglishOrSpanishDescription
a 
( 
anw 
. (
EnglishAnswerDescription 
, 
anw ¡
.¡ ¢(
SpanishAnswerDescription¢ º
)º »
.» ¼
Equals¼ Â
(Â Ã
answerButtonÃ Ï
.Ï Ð
ContentÐ ×
)× Ø
)Ø Ù
;Ù Ú
if
 
(
 
answerSelected
 "
!=
# %
null
& *
)
* +
{
 $
gameActionsClientProxy
 *
.
* +
ChooseAnswer
+ 7
(
7 8
roomCode
8 @
,
@ A
userSingleton
B O
.
O P
IdUser
P V
,
V W
answerSelected
X f
.
f g
IdAnswer
g o
,
o p!
questionBeingAskedq 
. 

ValueWorth 
, 
yourTurn 
) 
; 
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
throw
 
new
 '
EndpointNotFoundException
 3
(
3 4

Properties
4 >
.
> ?
	Resources
? H
.
H I#
lblFailToChooseAnswer
I ^
,
^ _
ex
` b
)
b c
;
c d
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
 
throw
 
new
 1
#CommunicationObjectFaultedException
 =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S#
lblFailToChooseAnswer
S h
,
h i
ex
j l
)
l m
;
m n
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 
throw
 
new
 
TimeoutException
 *
(
* +

Properties
+ 5
.
5 6
	Resources
6 ?
.
? @#
lblFailToChooseAnswer
@ U
,
U V
ex
W Y
)
Y Z
;
Z [
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
throw
 
new
 $
CommunicationException
 0
(
0 1

Properties
1 ;
.
; <
	Resources
< E
.
E F#
lblFailToChooseAnswer
F [
,
[ \
ex
] _
)
_ `
;
` a
}
   
catch
¡¡ 
(
¡¡ 
SocketException
¡¡ "
)
¡¡" #
{
¢¢ 
throw
££ 
new
££ 
SocketException
££ )
(
££) *
)
££* +
;
££+ ,
}
¤¤ 
}
¥¥ 	
private
§§ 
void
§§ ,
ConfirmWrongLastQuestionAnswer
§§ 3
(
§§3 4
Button
§§4 :
answerButton
§§; G
)
§§G H
{
¨¨ 	
try
©© 
{
ªª 
GameActionsClient
«« !,
gameActionsCallBackClientProxy
««" @
=
««A B
new
««C F
GameActionsClient
««G X
(
««X Y
new
««Y \
InstanceContext
««] l
(
««l m
this
««m q
)
««q r
)
««r s
;
««s t,
gameActionsCallBackClientProxy
¬¬ .
.
¬¬. /
RenewGameCallBack
¬¬/ @
(
¬¬@ A
roomCode
¬¬A I
,
¬¬I J
userSingleton
¬¬K X
.
¬¬X Y
IdUser
¬¬Y _
)
¬¬_ `
;
¬¬` a)
GameActionsOperationsClient
­­ +$
gameActionsClientProxy
­­, B
=
­­C D
new
­­E H
(
­­H I
)
­­I J
;
­­J K
bool
®® 
	isCorrect
®® 
=
®®  
false
®®! &
;
®®& '
answerButton
¯¯ 
.
¯¯ 
BorderBrush
¯¯ (
=
¯¯) *
new
¯¯+ .
SolidColorBrush
¯¯/ >
(
¯¯> ?
Colors
¯¯? E
.
¯¯E F
Blue
¯¯F J
)
¯¯J K
;
¯¯K L
bttFirstAnswer
°° 
.
°° 
	IsEnabled
°° (
=
°°) *
false
°°+ 0
;
°°0 1
bttSecondAnswer
±± 
.
±±  
	IsEnabled
±±  )
=
±±* +
false
±±, 1
;
±±1 2
bttThridAnswer
²² 
.
²² 
	IsEnabled
²² (
=
²²) *
false
²²+ 0
;
²²0 1
bttFourAnswer
³³ 
.
³³ 
	IsEnabled
³³ '
=
³³( )
false
³³* /
;
³³/ 0
txbAdvicement
´´ 
.
´´ 

Visibility
´´ (
=
´´) *

Visibility
´´+ 5
.
´´5 6
Visible
´´6 =
;
´´= >$
gameActionsClientProxy
µµ &
.
µµ& ''
ConfirmLastQuestionAnswer
µµ' @
(
µµ@ A
roomCode
µµA I
,
µµI J
playersInGame
µµK X
.
µµX Y
Find
µµY ]
(
µµ] ^
pla
µµ^ a
=>
µµb d
pla
µµe h
.
µµh i
IdUser
µµi o
==
µµp r
userSingletonµµs 
.µµ 
IdUserµµ 
)µµ 
,µµ 
	pointsBetµµ 
,µµ 
	isCorrectµµ 
)µµ 
;µµ  
}
¶¶ 
catch
·· 
(
·· '
EndpointNotFoundException
·· ,
ex
··- /
)
··/ 0
{
¸¸ 
throw
¹¹ 
new
¹¹ '
EndpointNotFoundException
¹¹ 3
(
¹¹3 4

Properties
¹¹4 >
.
¹¹> ?
	Resources
¹¹? H
.
¹¹H I#
lblFailToChooseAnswer
¹¹I ^
,
¹¹^ _
ex
¹¹` b
)
¹¹b c
;
¹¹c d
}
ºº 
catch
»» 
(
»» 1
#CommunicationObjectFaultedException
»» 6
ex
»»7 9
)
»»9 :
{
¼¼ 
throw
½½ 
new
½½ 1
#CommunicationObjectFaultedException
½½ =
(
½½= >

Properties
½½> H
.
½½H I
	Resources
½½I R
.
½½R S#
lblFailToChooseAnswer
½½S h
,
½½h i
ex
½½j l
)
½½l m
;
½½m n
}
¾¾ 
catch
¿¿ 
(
¿¿ 
TimeoutException
¿¿ #
ex
¿¿$ &
)
¿¿& '
{
ÀÀ 
throw
ÁÁ 
new
ÁÁ 
TimeoutException
ÁÁ *
(
ÁÁ* +

Properties
ÁÁ+ 5
.
ÁÁ5 6
	Resources
ÁÁ6 ?
.
ÁÁ? @#
lblFailToChooseAnswer
ÁÁ@ U
,
ÁÁU V
ex
ÁÁW Y
)
ÁÁY Z
;
ÁÁZ [
}
ÂÂ 
catch
ÃÃ 
(
ÃÃ $
CommunicationException
ÃÃ )
ex
ÃÃ* ,
)
ÃÃ, -
{
ÄÄ 
throw
ÅÅ 
new
ÅÅ $
CommunicationException
ÅÅ 0
(
ÅÅ0 1

Properties
ÅÅ1 ;
.
ÅÅ; <
	Resources
ÅÅ< E
.
ÅÅE F#
lblFailToChooseAnswer
ÅÅF [
,
ÅÅ[ \
ex
ÅÅ] _
)
ÅÅ_ `
;
ÅÅ` a
}
ÆÆ 
catch
ÇÇ 
(
ÇÇ 
SocketException
ÇÇ "
)
ÇÇ" #
{
ÈÈ 
throw
ÉÉ 
new
ÉÉ 
SocketException
ÉÉ )
(
ÉÉ) *
)
ÉÉ* +
;
ÉÉ+ ,
}
ÊÊ 
}
ËË 	
private
ÍÍ 
void
ÍÍ 
ClickLeaveGame
ÍÍ #
(
ÍÍ# $
object
ÍÍ$ *
sender
ÍÍ+ 1
,
ÍÍ1 2"
MouseButtonEventArgs
ÍÍ3 G
e
ÍÍH I
)
ÍÍI J
{
ÎÎ 	
if
ÏÏ 
(
ÏÏ 
currentRound
ÏÏ 
==
ÏÏ 
$num
ÏÏ  
)
ÏÏ  !
{
ÐÐ 
CloseWindow
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÒÒ 
else
ÓÓ 
if
ÓÓ 
(
ÓÓ !
DialogWindowManager
ÓÓ '
.
ÓÓ' ($
ShowWindowConfirmation
ÓÓ( >
(
ÓÓ> ?

Properties
ÓÓ? I
.
ÓÓI J
	Resources
ÓÓJ S
.
ÓÓS T
txbWarningTitle
ÓÓT c
,
ÓÓc d

Properties
ÓÓe o
.
ÓÓo p
	Resources
ÓÓp y
.
ÓÓy z$
LeaveGameConfirmationÓÓz 
,ÓÓ 
WindowÓÓ 
.ÓÓ 
	GetWindowÓÓ ¡
(ÓÓ¡ ¢
thisÓÓ¢ ¦
)ÓÓ¦ §
)ÓÓ§ ¨
)ÓÓ¨ ©
{
ÔÔ 
NotifyLeavingGame
ÕÕ !
(
ÕÕ! "
)
ÕÕ" #
;
ÕÕ# $
CloseWindow
ÖÖ 
(
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
×× 
}
ÙÙ 	
private
ÚÚ 
void
ÚÚ 
CloseWindow
ÚÚ  
(
ÚÚ  !
)
ÚÚ! "
{
ÛÛ 	
if
ÜÜ 
(
ÜÜ 
timer
ÜÜ 
!=
ÜÜ 
null
ÜÜ 
)
ÜÜ 
{
ÝÝ 
timer
ÞÞ 
.
ÞÞ 
Stop
ÞÞ 
(
ÞÞ 
)
ÞÞ 
;
ÞÞ 
}
ßß 
if
àà 
(
àà 
userSingleton
àà 
.
àà 
IdState
àà %
!=
àà& (
$num
àà) *
)
àà* +
{
áá 
MainMenu
ââ 
mainMenu
ââ !
=
ââ" #
new
ââ$ '
MainMenu
ââ( 0
(
ââ0 1
)
ââ1 2
;
ââ2 3
this
ãã 
.
ãã 
NavigationService
ãã &
.
ãã& '
Navigate
ãã' /
(
ãã/ 0
mainMenu
ãã0 8
)
ãã8 9
;
ãã9 :
NavigationService
ää !
.
ää! "
RemoveBackEntry
ää" 1
(
ää1 2
)
ää2 3
;
ää3 4
}
åå 
else
ææ 
{
çç 
DeleteSingleton
èè 
(
èè  
)
èè  !
;
èè! "
PrincipalPage
éé 
principalPage
éé +
=
éé, -
new
éé. 1
PrincipalPage
éé2 ?
(
éé? @
)
éé@ A
;
ééA B
this
êê 
.
êê 
NavigationService
êê &
.
êê& '
Navigate
êê' /
(
êê/ 0
principalPage
êê0 =
)
êê= >
;
êê> ?
NavigationService
ëë !
.
ëë! "
RemoveBackEntry
ëë" 1
(
ëë1 2
)
ëë2 3
;
ëë3 4
}
ìì 
}
íí 	
private
ðð 
void
ðð 
NotifyLeavingGame
ðð &
(
ðð& '
)
ðð' (
{
ññ 	
try
òò 
{
óó )
GameActionsOperationsClient
ôô +$
gameActionsClientProxy
ôô, B
=
ôôC D
new
ôôE H
(
ôôH I
)
ôôI J
;
ôôJ K$
gameActionsClientProxy
õõ &
.
õõ& ')
UnSubscribeFromGameCallBack
õõ' B
(
õõB C
roomCode
õõC K
,
õõK L
userSingleton
õõM Z
.
õõZ [
IdUser
õõ[ a
)
õõa b
;
õõb c
}
öö 
catch
÷÷ 
(
÷÷ '
EndpointNotFoundException
÷÷ ,
ex
÷÷- /
)
÷÷/ 0
{
øø %
ExceptionHandlerForLogs
ùù '
.
ùù' (
LogException
ùù( 4
(
ùù4 5
ex
ùù5 7
,
ùù7 8!
ExceptionDictionary
ùù9 L
.
ùùL M
FATAL_EXCEPTION
ùùM \
)
ùù\ ]
;
ùù] ^
}
úú 
catch
ûû 
(
ûû 1
#CommunicationObjectFaultedException
ûû 6
ex
ûû7 9
)
ûû9 :
{
üü %
ExceptionHandlerForLogs
ýý '
.
ýý' (
LogException
ýý( 4
(
ýý4 5
ex
ýý5 7
,
ýý7 8!
ExceptionDictionary
ýý9 L
.
ýýL M
FATAL_EXCEPTION
ýýM \
)
ýý\ ]
;
ýý] ^
}
þþ 
catch
ÿÿ 
(
ÿÿ 
TimeoutException
ÿÿ #
ex
ÿÿ$ &
)
ÿÿ& '
{
		 %
ExceptionHandlerForLogs
		 '
.
		' (
LogException
		( 4
(
		4 5
ex
		5 7
,
		7 8!
ExceptionDictionary
		9 L
.
		L M
FATAL_EXCEPTION
		M \
)
		\ ]
;
		] ^
}
		 
catch
		 
(
		 $
CommunicationException
		 )
ex
		* ,
)
		, -
{
		 %
ExceptionHandlerForLogs
		 '
.
		' (
LogException
		( 4
(
		4 5
ex
		5 7
,
		7 8!
ExceptionDictionary
		9 L
.
		L M
FATAL_EXCEPTION
		M \
)
		\ ]
;
		] ^
}
		 
catch
		 
(
		 
SocketException
		 "
ex
		# %
)
		% &
{
		 %
ExceptionHandlerForLogs
		 '
.
		' (
LogException
		( 4
(
		4 5
ex
		5 7
,
		7 8!
ExceptionDictionary
		9 L
.
		L M
FATAL_EXCEPTION
		M \
)
		\ ]
;
		] ^
}
		 
}
		 	
public
		 
void
		 ,
ReceiveNotificationSomeOneLeft
		 2
(
		2 3
int
		3 6

isYourTurn
		7 A
,
		A B&
PlayerInGameDataContract
		C [
[
		[ \
]
		\ ]
playerInGame
		^ j
)
		j k
{
		 	
try
		 
{
		 
if
		 
(
		 
playerInGame
		  
.
		  !
Count
		! &
(
		& '
)
		' (
==
		) +
$num
		, -
||
		. 0
itsTeamGame
		1 <
)
		< =
{
		 
if
		 
(
		 
itsTeamGame
		 #
)
		# $
{
		 !
DialogWindowManager
		 +
.
		+ ,#
ShowInfoOrErrorWindow
		, A
(
		A B

Properties
		B L
.
		L M
	Resources
		M V
.
		V W#
txbInformationMessage
		W l
,
		l m

Properties
		n x
.
		x y
	Resources		y 
.		 .
lblFinishGameBecauseOfTeamLeft		 ¡
,		¡ ¢
Window		£ ©
.		© ª
	GetWindow		ª ³
(		³ ´
this		´ ¸
)		¸ ¹
,		¹ º#
DialogWindowManager		» Î
.		Î Ï
INFORMATION		Ï Ú
)		Ú Û
;		Û Ü
}
		 
else
		 
{
		 !
DialogWindowManager
		 +
.
		+ ,#
ShowInfoOrErrorWindow
		, A
(
		A B

Properties
		B L
.
		L M
	Resources
		M V
.
		V W#
txbInformationMessage
		W l
,
		l m

Properties
		n x
.
		x y
	Resources		y 
.		 1
!lblFinishGameBecauseJustOnePlayer		 ¤
,		¤ ¥
Window		¦ ¬
.		¬ ­
	GetWindow		­ ¶
(		¶ ·
this		· »
)		» ¼
,		¼ ½#
DialogWindowManager		¾ Ñ
.		Ñ Ò
INFORMATION		Ò Ý
)		Ý Þ
;		Þ ß
}
		 
CloseWindow
		 
(
		  
)
		  !
;
		! "
return
		 
;
		 
}
		 
if
		 
(
		 
currentTurn
		 
==
		  "
playerInGame
		# /
.
		/ 0
Count
		0 5
(
		5 6
)
		6 7
)
		7 8
{
		 
currentTurn
 	 	 
=
 	 	  !
$num
 	 	" #
;
 	 	# $
}
¡	¡	 
grdAnswerChoices
¢	¢	  
.
¢	¢	  !

Visibility
¢	¢	! +
=
¢	¢	, -

Visibility
¢	¢	. 8
.
¢	¢	8 9
Hidden
¢	¢	9 ?
;
¢	¢	? @
yourTurn
£	£	 
=
£	£	 

isYourTurn
£	£	 %
;
£	£	% &
playersInGame
¤	¤	 
=
¤	¤	 
playerInGame
¤	¤	  ,
.
¤	¤	, -
ToList
¤	¤	- 3
(
¤	¤	3 4
)
¤	¤	4 5
;
¤	¤	5 6
ShowIfItsYourTurn
¥	¥	 !
(
¥	¥	! "
)
¥	¥	" #
;
¥	¥	# $
}
¦	¦	 
catch
§	§	 
(
§	§	 '
EndpointNotFoundException
§	§	 ,
ex
§	§	- /
)
§	§	/ 0
{
¨	¨	 
HandleException
©	©	 
(
©	©	  
ex
©	©	  "
,
©	©	" #

Properties
©	©	$ .
.
©	©	. /
	Resources
©	©	/ 8
.
©	©	8 9!
lblEndPointNotFound
©	©	9 L
)
©	©	L M
;
©	©	M N
}
ª	ª	 
catch
«	«	 
(
«	«	 1
#CommunicationObjectFaultedException
«	«	 6
ex
«	«	7 9
)
«	«	9 :
{
¬	¬	 
HandleException
­	­	 
(
­	­	  
ex
­	­	  "
,
­	­	" #

Properties
­	­	$ .
.
­	­	. /
	Resources
­	­	/ 8
.
­	­	8 9&
lblComunicationException
­	­	9 Q
)
­	­	Q R
;
­	­	R S
}
®	®	 
catch
¯	¯	 
(
¯	¯	 
TimeoutException
¯	¯	 #
ex
¯	¯	$ &
)
¯	¯	& '
{
°	°	 
HandleException
±	±	 
(
±	±	  
ex
±	±	  "
,
±	±	" #

Properties
±	±	$ .
.
±	±	. /
	Resources
±	±	/ 8
.
±	±	8 9
lblTimeException
±	±	9 I
)
±	±	I J
;
±	±	J K
}
²	²	 
catch
³	³	 
(
³	³	 $
CommunicationException
³	³	 )
ex
³	³	* ,
)
³	³	, -
{
´	´	 
HandleException
µ	µ	 
(
µ	µ	  
ex
µ	µ	  "
,
µ	µ	" #

Properties
µ	µ	$ .
.
µ	µ	. /
	Resources
µ	µ	/ 8
.
µ	µ	8 9!
lblWithoutConection
µ	µ	9 L
)
µ	µ	L M
;
µ	µ	M N
}
¶	¶	 
catch
·	·	 
(
·	·	 
SocketException
·	·	 "
ex
·	·	# %
)
·	·	% &
{
¸	¸	 
HandleException
¹	¹	 
(
¹	¹	  
ex
¹	¹	  "
,
¹	¹	" #

Properties
¹	¹	$ .
.
¹	¹	. /
	Resources
¹	¹	/ 8
.
¹	¹	8 9!
lblEndPointNotFound
¹	¹	9 L
)
¹	¹	L M
;
¹	¹	M N
}
º	º	 
}
»	»	 	
private
¾	¾	 
void
¾	¾	 
DeleteSingleton
¾	¾	 $
(
¾	¾	$ %
)
¾	¾	% &
{
¿	¿	 	
try
À	À	 
{
Á	Á	 &
GuestPlayerManagerClient
Â	Â	 (%
guestPlayerManagerProxy
Â	Â	) @
=
Â	Â	A B
new
Â	Â	C F
(
Â	Â	F G
)
Â	Â	G H
;
Â	Â	H I%
guestPlayerManagerProxy
Ã	Ã	 '
.
Ã	Ã	' (
DeleteGuest
Ã	Ã	( 3
(
Ã	Ã	3 4
userSingleton
Ã	Ã	4 A
.
Ã	Ã	A B
IdUser
Ã	Ã	B H
)
Ã	Ã	H I
;
Ã	Ã	I J
}
Ä	Ä	 
catch
Å	Å	 
(
Å	Å	 '
EndpointNotFoundException
Å	Å	 ,
ex
Å	Å	- /
)
Å	Å	/ 0
{
Æ	Æ	 %
ExceptionHandlerForLogs
Ç	Ç	 '
.
Ç	Ç	' (
LogException
Ç	Ç	( 4
(
Ç	Ç	4 5
ex
Ç	Ç	5 7
,
Ç	Ç	7 8!
ExceptionDictionary
Ç	Ç	9 L
.
Ç	Ç	L M
FATAL_EXCEPTION
Ç	Ç	M \
)
Ç	Ç	\ ]
;
Ç	Ç	] ^
}
È	È	 
catch
É	É	 
(
É	É	 1
#CommunicationObjectFaultedException
É	É	 6
ex
É	É	7 9
)
É	É	9 :
{
Ê	Ê	 %
ExceptionHandlerForLogs
Ë	Ë	 '
.
Ë	Ë	' (
LogException
Ë	Ë	( 4
(
Ë	Ë	4 5
ex
Ë	Ë	5 7
,
Ë	Ë	7 8!
ExceptionDictionary
Ë	Ë	9 L
.
Ë	Ë	L M
FATAL_EXCEPTION
Ë	Ë	M \
)
Ë	Ë	\ ]
;
Ë	Ë	] ^
}
Ì	Ì	 
catch
Í	Í	 
(
Í	Í	 
TimeoutException
Í	Í	 #
ex
Í	Í	$ &
)
Í	Í	& '
{
Î	Î	 %
ExceptionHandlerForLogs
Ï	Ï	 '
.
Ï	Ï	' (
LogException
Ï	Ï	( 4
(
Ï	Ï	4 5
ex
Ï	Ï	5 7
,
Ï	Ï	7 8!
ExceptionDictionary
Ï	Ï	9 L
.
Ï	Ï	L M
FATAL_EXCEPTION
Ï	Ï	M \
)
Ï	Ï	\ ]
;
Ï	Ï	] ^
}
Ð	Ð	 
catch
Ñ	Ñ	 
(
Ñ	Ñ	 $
CommunicationException
Ñ	Ñ	 )
ex
Ñ	Ñ	* ,
)
Ñ	Ñ	, -
{
Ò	Ò	 
HandleException
Ó	Ó	 
(
Ó	Ó	  
ex
Ó	Ó	  "
,
Ó	Ó	" #

Properties
Ó	Ó	$ .
.
Ó	Ó	. /
	Resources
Ó	Ó	/ 8
.
Ó	Ó	8 9!
lblWithoutConection
Ó	Ó	9 L
)
Ó	Ó	L M
;
Ó	Ó	M N
}
Ô	Ô	 
catch
Õ	Õ	 
(
Õ	Õ	 
SocketException
Õ	Õ	 "
ex
Õ	Õ	# %
)
Õ	Õ	% &
{
Ö	Ö	 
HandleException
×	×	 
(
×	×	  
ex
×	×	  "
,
×	×	" #

Properties
×	×	$ .
.
×	×	. /
	Resources
×	×	/ 8
.
×	×	8 9!
lblEndPointNotFound
×	×	9 L
)
×	×	L M
;
×	×	M N
}
Ø	Ø	 
UserSingleton
Ù	Ù	 
.
Ù	Ù	 
CleanSingleton
Ù	Ù	 (
(
Ù	Ù	( )
)
Ù	Ù	) *
;
Ù	Ù	* +
}
Ú	Ú	 	
private
Ý	Ý	 
void
Ý	Ý	 
ClickOpenChat
Ý	Ý	 "
(
Ý	Ý	" #
object
Ý	Ý	# )
sender
Ý	Ý	* 0
,
Ý	Ý	0 1"
MouseButtonEventArgs
Ý	Ý	2 F
e
Ý	Ý	G H
)
Ý	Ý	H I
{
Þ	Þ	 	
teamChat
ß	ß	 
.
ß	ß	 "
RenewCallBackChannel
ß	ß	 )
(
ß	ß	) *
)
ß	ß	* +
;
ß	ß	+ ,
grdChat
à	à	 
.
à	à	 

Visibility
à	à	 
=
à	à	  

Visibility
à	à	! +
.
à	à	+ ,
Visible
à	à	, 3
;
à	à	3 4
frmChat
á	á	 
.
á	á	 
Content
á	á	 
=
á	á	 
teamChat
á	á	 &
;
á	á	& '
}
â	â	 	
public
ä	ä	 
void
ä	ä	 
CloseLiveChat
ä	ä	 !
(
ä	ä	! "
)
ä	ä	" #
{
å	å	 	
grdChat
æ	æ	 
.
æ	æ	 

Visibility
æ	æ	 
=
æ	æ	  

Visibility
æ	æ	! +
.
æ	æ	+ ,
	Collapsed
æ	æ	, 5
;
æ	æ	5 6
}
ç	ç	 	
public
é	é	 
void
é	é	 $
ReceiveMessageTeamChat
é	é	 *
(
é	é	* +/
!GenericClassOfMessageChatxY0a3WX4
é	é	+ L
message
é	é	M T
)
é	é	T U
{
ê	ê	 	
(
ë	ë	 
(
ë	ë	 #
IChatForTeamsCallback
ë	ë	 #
)
ë	ë	# $
teamChat
ë	ë	$ ,
)
ë	ë	, -
.
ë	ë	- .$
ReceiveMessageTeamChat
ë	ë	. D
(
ë	ë	D E
message
ë	ë	E L
)
ë	ë	L M
;
ë	ë	M N
}
ì	ì	 	
private
î	î	 
void
î	î	 
HandleException
î	î	 $
(
î	î	$ %
	Exception
î	î	% .
ex
î	î	/ 1
,
î	î	1 2
string
î	î	3 9
errorMessage
î	î	: F
)
î	î	F G
{
ï	ï	 	%
ExceptionHandlerForLogs
ð	ð	 #
.
ð	ð	# $
LogException
ð	ð	$ 0
(
ð	ð	0 1
ex
ð	ð	1 3
,
ð	ð	3 4!
ExceptionDictionary
ð	ð	5 H
.
ð	ð	H I
FATAL_EXCEPTION
ð	ð	I X
)
ð	ð	X Y
;
ð	ð	Y Z!
DialogWindowManager
ñ	ñ	 
.
ñ	ñ	  #
ShowInfoOrErrorWindow
ñ	ñ	  5
(
ñ	ñ	5 6

Properties
ñ	ñ	6 @
.
ñ	ñ	@ A
	Resources
ñ	ñ	A J
.
ñ	ñ	J K
txbErrorTitle
ñ	ñ	K X
,
ñ	ñ	X Y
errorMessage
ñ	ñ	Z f
,
ñ	ñ	f g
Application
ñ	ñ	h s
.
ñ	ñ	s t
Current
ñ	ñ	t {
.
ñ	ñ	{ |

MainWindowñ	ñ	| 
,ñ	ñ	 #
DialogWindowManagerñ	ñ	 
.ñ	ñ	 
ERRORñ	ñ	 ¡
)ñ	ñ	¡ ¢
;ñ	ñ	¢ £
NotifyLeavingGame
ò	ò	 
(
ò	ò	 
)
ò	ò	 
;
ò	ò	  

ReturnPage
ó	ó	 
(
ó	ó	 
)
ó	ó	 
;
ó	ó	 
}
ô	ô	 	
private
÷	÷	 
void
÷	÷	 

ReturnPage
÷	÷	 
(
÷	÷	  
)
÷	÷	  !
{
ø	ø	 	
UserSingleton
ù	ù	 
.
ù	ù	 
CleanSingleton
ù	ù	 (
(
ù	ù	( )
)
ù	ù	) *
;
ù	ù	* +
	LogInUser
ú	ú	 
logInUserPage
ú	ú	 #
=
ú	ú	$ %
new
ú	ú	& )
	LogInUser
ú	ú	* 3
(
ú	ú	3 4
)
ú	ú	4 5
;
ú	ú	5 6
this
û	û	 
.
û	û	 
NavigationService
û	û	 "
.
û	û	" #
Navigate
û	û	# +
(
û	û	+ ,
logInUserPage
û	û	, 9
)
û	û	9 :
;
û	û	: ;
NavigationService
ü	ü	 
.
ü	ü	 
RemoveBackEntry
ü	ü	 -
(
ü	ü	- .
)
ü	ü	. /
;
ü	ü	/ 0
}
ý	ý	 	
}
ÿ	ÿ	 
}

 Ñ
gC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\LiveChat.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
LiveChat !
:" #
Page$ (
,( )
ILiveChatCallback* ;
{ 
private   
bool   
isAdmin   
;   
private!! 
int!! 
roomCode!! 
;!! 
private"" 
UserSingleton"" 
userSingleton"" ,
;"", -
private## 
List## 
<## 
MessageChat## !
>##! "
messagesInChats### 2
=##3 4
new##5 8
List##9 =
<##= >
MessageChat##> I
>##I J
(##J K
)##K L
;##L M
private$$ 
	LobbyPage$$ 
	lobbyPage$$ $
;$$$ %
public&& 
LiveChat&& 
(&& 
)&& 
{'' 	
InitializeComponent(( 
(((  
)((  !
;((! "
})) 	
public++ 
void++ 
	StartPage++ 
(++ 
bool++ "
rol++# &
,++& '
int++( +
room++, 0
,++0 1
	LobbyPage++2 ;
lobby++< A
)++A B
{,, 	
	lobbyPage-- 
=-- 
lobby-- 
;-- 
isAdmin.. 
=.. 
rol.. 
;.. 
roomCode// 
=// 
room// 
;// 
PrepareWindow00 
(00 
)00 
;00 
}11 	
public33 
void33 !
RenewLiveChatCallBack33 )
(33) *
)33* +
{44 	
try55 
{66 
LiveChatClient77 !
liveChatCallBackProxy77 4
=775 6
new777 :
LiveChatClient77; I
(77I J
new77J M
InstanceContext77N ]
(77] ^
this77^ b
)77b c
)77c d
;77d e!
liveChatCallBackProxy88 %
.88% &!
RenewLiveChatCallBack88& ;
(88; <
roomCode88< D
,88D E
userSingleton88F S
.88S T
IdUser88T Z
)88Z [
;88[ \
}99 
catch:: 
(:: %
EndpointNotFoundException:: ,
ex::- /
)::/ 0
{;; 
HandleException<< 
(<<  
ex<<  "
,<<" #

Properties<<$ .
.<<. /
	Resources<</ 8
.<<8 9%
lblFailRegistryToCallBack<<9 R
+<<S T
$str<<U Z
+<<[ \

Properties<<] g
.<<g h
	Resources<<h q
.<<q r 
lblEndPointNotFound	<<r 
)
<< 
;
<< 
}== 
catch>> 
(>> /
#CommunicationObjectFaultedException>> 6
ex>>7 9
)>>9 :
{?? 
HandleException@@ 
(@@  
ex@@  "
,@@" #

Properties@@$ .
.@@. /
	Resources@@/ 8
.@@8 9%
lblFailRegistryToCallBack@@9 R
+@@S T
$str@@U Z
+@@[ \

Properties@@] g
.@@g h
	Resources@@h q
.@@q r%
lblComunicationException	@@r 
)
@@ 
;
@@ 
}AA 
catchBB 
(BB 
TimeoutExceptionBB #
exBB$ &
)BB& '
{CC 
HandleExceptionDD 
(DD  
exDD  "
,DD" #

PropertiesDD$ .
.DD. /
	ResourcesDD/ 8
.DD8 9%
lblFailRegistryToCallBackDD9 R
+DDS T
$strDDU Z
+DD[ \

PropertiesDD] g
.DDg h
	ResourcesDDh q
.DDq r
lblTimeException	DDr 
)
DD 
;
DD 
}EE 
catchFF 
(FF "
CommunicationExceptionFF )
exFF* ,
)FF, -
{GG 
HandleExceptionHH 
(HH  
exHH  "
,HH" #

PropertiesHH$ .
.HH. /
	ResourcesHH/ 8
.HH8 9%
lblFailRegistryToCallBackHH9 R
+HHS T
$strHHU Z
+HH[ \

PropertiesHH] g
.HHg h
	ResourcesHHh q
.HHq r 
lblWithoutConection	HHr 
)
HH 
;
HH 
}II 
catchJJ 
(JJ 
SocketExceptionJJ "
exJJ# %
)JJ% &
{KK 
HandleExceptionLL 
(LL  
exLL  "
,LL" #

PropertiesLL$ .
.LL. /
	ResourcesLL/ 8
.LL8 9%
lblFailRegistryToCallBackLL9 R
+LLS T
$strLLU Z
+LL[ \

PropertiesLL] g
.LLg h
	ResourcesLLh q
.LLq r 
lblWithoutConection	LLr 
)
LL 
;
LL 
}MM 
}NN 	
privatePP 
voidPP 
PrepareWindowPP "
(PP" #
)PP# $
{QQ 	
InstanceContextRR 
contextRR #
=RR$ %
newRR& )
InstanceContextRR* 9
(RR9 :
thisRR: >
)RR> ?
;RR? @
LiveChatClientSS 
liveChatProxySS (
=SS) *
newSS+ .
LiveChatClientSS/ =
(SS= >
contextSS> E
)SSE F
;SSF G
tryTT 
{UU 
userSingletonVV 
=VV 
UserSingletonVV  -
.VV- .
GetMainUserVV. 9
(VV9 :
)VV: ;
;VV; <
ifWW 
(WW 
isAdminWW 
)WW 
{XX 
liveChatProxyYY !
.YY! "
CreateChatForLobbyYY" 4
(YY4 5
roomCodeYY5 =
,YY= >
userSingletonYY? L
.YYL M
IdUserYYM S
)YYS T
;YYT U
}ZZ 
else[[ 
{\\ 
var]] 
serverResponse]] &
=]]' (
liveChatProxy]]) 6
.]]6 7
GetAllMessages]]7 E
(]]E F
roomCode]]F N
,]]N O
userSingleton]]P ]
.]]] ^
IdUser]]^ d
)]]d e
;]]e f
if^^ 
(^^ 
serverResponse^^ &
.^^& '
	CodeEvent^^' 0
==^^1 3
ExceptionDictionary^^4 G
.^^G H
SUCCESFULL_EVENT^^H X
)^^X Y
{__ 
messagesInChats`` '
=``( )
serverResponse``* 8
.``8 9
ObjectSaved``9 D
.``D E
ToList``E K
(``K L
)``L M
;``M N
LoadChataa  
(aa  !
)aa! "
;aa" #
}bb 
}cc 
}dd 
catchee 
(ee %
EndpointNotFoundExceptionee ,
exee- /
)ee/ 0
{ff 
HandleExceptiongg 
(gg  
exgg  "
,gg" #

Propertiesgg$ .
.gg. /
	Resourcesgg/ 8
.gg8 9%
lblFailRegistryToCallBackgg9 R
+ggS T
$strggU Z
+gg[ \

Propertiesgg] g
.ggg h
	Resourcesggh q
.ggq r 
lblEndPointNotFound	ggr 
)
gg 
;
gg 
}hh 
catchii 
(ii /
#CommunicationObjectFaultedExceptionii 6
exii7 9
)ii9 :
{jj 
HandleExceptionkk 
(kk  
exkk  "
,kk" #

Propertieskk$ .
.kk. /
	Resourceskk/ 8
.kk8 9%
lblFailRegistryToCallBackkk9 R
+kkS T
$strkkU Z
+kk[ \

Propertieskk] g
.kkg h
	Resourceskkh q
.kkq r%
lblComunicationException	kkr 
)
kk 
;
kk 
}ll 
catchmm 
(mm 
TimeoutExceptionmm #
exmm$ &
)mm& '
{nn 
HandleExceptionoo 
(oo  
exoo  "
,oo" #

Propertiesoo$ .
.oo. /
	Resourcesoo/ 8
.oo8 9%
lblFailRegistryToCallBackoo9 R
+ooS T
$strooU Z
+oo[ \

Propertiesoo] g
.oog h
	Resourcesooh q
.ooq r
lblTimeException	oor 
)
oo 
;
oo 
}pp 
catchqq 
(qq "
CommunicationExceptionqq )
exqq* ,
)qq, -
{rr 
HandleExceptionss 
(ss  
exss  "
,ss" #

Propertiesss$ .
.ss. /
	Resourcesss/ 8
.ss8 9%
lblFailRegistryToCallBackss9 R
+ssS T
$strssU Z
+ss[ \

Propertiesss] g
.ssg h
	Resourcesssh q
.ssq r 
lblWithoutConection	ssr 
)
ss 
;
ss 
}tt 
catchuu 
(uu 
SocketExceptionuu "
exuu# %
)uu% &
{vv 
HandleExceptionww 
(ww  
exww  "
,ww" #

Propertiesww$ .
.ww. /
	Resourcesww/ 8
.ww8 9%
lblFailRegistryToCallBackww9 R
+wwS T
$strwwU Z
+ww[ \

Propertiesww] g
.wwg h
	Resourceswwh q
.wwq r 
lblWithoutConection	wwr 
)
ww 
;
ww 
}xx 
}yy 	
public{{ 
void{{ 
LoadChat{{ 
({{ 
){{ 
{|| 	
stpChat}} 
.}} 
Children}} 
.}} 
Clear}} "
(}}" #
)}}# $
;}}$ %
foreach~~ 
(~~ 
var~~ 
item~~ 
in~~  
messagesInChats~~! 0
)~~0 1
{ 
ChatMessageCard
 
chatMessageCard
  /
=
0 1
new
2 5
ChatMessageCard
6 E
(
E F
item
F J
.
J K
UserName
K S
,
S T
item
U Y
.
Y Z
MessageToSend
Z g
)
g h
;
h i
if
 
(
 
item
 
.
 
IdUser
 
==
  "
userSingleton
# 0
.
0 1
IdUser
1 7
)
7 8
{
 
chatMessageCard
 #
.
# $!
HorizontalAlignment
$ 7
=
8 9!
HorizontalAlignment
: M
.
M N
Right
N S
;
S T
}
 
else
 
{
 
chatMessageCard
 #
.
# $!
HorizontalAlignment
$ 7
=
8 9!
HorizontalAlignment
: M
.
M N
Left
N R
;
R S
}
 
stpChat
 
.
 
Children
  
.
  !
Add
! $
(
$ %
chatMessageCard
% 4
)
4 5
;
5 6
}
 
}
 	
private
 
void
 
ClickCloseChat
 #
(
# $
object
$ *
sender
+ 1
,
1 2"
MouseButtonEventArgs
3 G
e
H I
)
I J
{
 	
	lobbyPage
 
.
 +
CloseSubFrameOfChatAndFriends
 3
(
3 4
)
4 5
;
5 6
}
 	
private
 
void
 
ClickSendMessage
 %
(
% &
object
& ,
sender
- 3
,
3 4"
MouseButtonEventArgs
5 I
e
J K
)
K L
{
 	
try
 
{
 
string
 
message
 
=
  
txbMessageToSend
! 1
.
1 2
Text
2 6
;
6 7
if
 
(
 
!
 
string
 
.
 
IsNullOrEmpty
 )
(
) *
message
* 1
)
1 2
)
2 3
{
 &
LiveChatOperationsClient
 ,
liveChatProxy
- :
=
; <
new
= @
(
@ A
)
A B
;
B C
liveChatProxy
 !
.
! "
SendMessage
" -
(
- .
userSingleton
. ;
.
; <
IdUser
< B
,
B C
roomCode
D L
,
L M
userSingleton
N [
.
[ \
UserName
\ d
,
d e
message
f m
)
m n
;
n o
MessageChat
 
messageChat
  +
=
, -
new
. 1
MessageChat
2 =
(
= >
)
> ?
;
? @
messageChat
 
.
  
IdUser
  &
=
' (
userSingleton
) 6
.
6 7
IdUser
7 =
;
= >
messageChat
 
.
  
UserName
  (
=
) *
userSingleton
+ 8
.
8 9
UserName
9 A
;
A B
messageChat
 
.
  
MessageToSend
  -
=
. /
message
0 7
;
7 8
messagesInChats
 #
.
# $
Add
$ '
(
' (
messageChat
( 3
)
3 4
;
4 5
ChatMessageCard
   #
chatMessageCard
  $ 3
=
  4 5
new
  6 9
ChatMessageCard
  : I
(
  I J
userSingleton
  J W
.
  W X
UserName
  X `
,
  ` a
message
  b i
)
  i j
;
  j k
chatMessageCard
¡¡ #
.
¡¡# $!
HorizontalAlignment
¡¡$ 7
=
¡¡8 9!
HorizontalAlignment
¡¡: M
.
¡¡M N
Right
¡¡N S
;
¡¡S T
stpChat
¢¢ 
.
¢¢ 
Children
¢¢ $
.
¢¢$ %
Add
¢¢% (
(
¢¢( )
chatMessageCard
¢¢) 8
)
¢¢8 9
;
¢¢9 :
txbMessageToSend
££ $
.
££$ %
Text
££% )
=
££* +
string
££, 2
.
££2 3
Empty
££3 8
;
££8 9
}
¤¤ 
}
¥¥ 
catch
¦¦ 
(
¦¦ '
EndpointNotFoundException
¦¦ ,
ex
¦¦- /
)
¦¦/ 0
{
§§ %
ExceptionHandlerForLogs
¨¨ '
.
¨¨' (
LogException
¨¨( 4
(
¨¨4 5
ex
¨¨5 7
,
¨¨7 8!
ExceptionDictionary
¨¨9 L
.
¨¨L M
FATAL_EXCEPTION
¨¨M \
)
¨¨\ ]
;
¨¨] ^
messagesInChats
©© 
.
©©  
Add
©©  #
(
©©# $
new
©©$ '
MessageChat
©©( 3
(
©©3 4
)
©©4 5
{
©©6 7
IdUser
©©8 >
=
©©? @
$num
©©A B
,
©©B C
MessageToSend
©©D Q
=
©©R S

Properties
©©T ^
.
©©^ _
	Resources
©©_ h
.
©©h i,
txbFailToSendOrReciveAMessage©©i 
,©© 
UserName©© 
=©© 

Properties©© 
.©© 
	Resources©© §
.©©§ ¨
txbErrorTitle©©¨ µ
}©©¶ ·
)©©· ¸
;©©¸ ¹
}
ªª 
catch
«« 
(
«« 1
#CommunicationObjectFaultedException
«« 6
ex
««7 9
)
««9 :
{
¬¬ %
ExceptionHandlerForLogs
­­ '
.
­­' (
LogException
­­( 4
(
­­4 5
ex
­­5 7
,
­­7 8!
ExceptionDictionary
­­9 L
.
­­L M
FATAL_EXCEPTION
­­M \
)
­­\ ]
;
­­] ^
messagesInChats
®® 
.
®®  
Add
®®  #
(
®®# $
new
®®$ '
MessageChat
®®( 3
(
®®3 4
)
®®4 5
{
®®6 7
IdUser
®®8 >
=
®®? @
$num
®®A B
,
®®B C
MessageToSend
®®D Q
=
®®R S

Properties
®®T ^
.
®®^ _
	Resources
®®_ h
.
®®h i,
txbFailToSendOrReciveAMessage®®i 
,®® 
UserName®® 
=®® 

Properties®® 
.®® 
	Resources®® §
.®®§ ¨
txbErrorTitle®®¨ µ
}®®¶ ·
)®®· ¸
;®®¸ ¹
}
¯¯ 
catch
°° 
(
°° 
TimeoutException
°° #
ex
°°$ &
)
°°& '
{
±± %
ExceptionHandlerForLogs
²² '
.
²²' (
LogException
²²( 4
(
²²4 5
ex
²²5 7
,
²²7 8!
ExceptionDictionary
²²9 L
.
²²L M
FATAL_EXCEPTION
²²M \
)
²²\ ]
;
²²] ^
messagesInChats
³³ 
.
³³  
Add
³³  #
(
³³# $
new
³³$ '
MessageChat
³³( 3
(
³³3 4
)
³³4 5
{
³³6 7
IdUser
³³8 >
=
³³? @
$num
³³A B
,
³³B C
MessageToSend
³³D Q
=
³³R S

Properties
³³T ^
.
³³^ _
	Resources
³³_ h
.
³³h i,
txbFailToSendOrReciveAMessage³³i 
,³³ 
UserName³³ 
=³³ 

Properties³³ 
.³³ 
	Resources³³ §
.³³§ ¨
txbErrorTitle³³¨ µ
}³³¶ ·
)³³· ¸
;³³¸ ¹
}
´´ 
catch
µµ 
(
µµ $
CommunicationException
µµ )
ex
µµ* ,
)
µµ, -
{
¶¶ %
ExceptionHandlerForLogs
·· '
.
··' (
LogException
··( 4
(
··4 5
ex
··5 7
,
··7 8!
ExceptionDictionary
··9 L
.
··L M
FATAL_EXCEPTION
··M \
)
··\ ]
;
··] ^
messagesInChats
¸¸ 
.
¸¸  
Add
¸¸  #
(
¸¸# $
new
¸¸$ '
MessageChat
¸¸( 3
(
¸¸3 4
)
¸¸4 5
{
¸¸6 7
IdUser
¸¸8 >
=
¸¸? @
$num
¸¸A B
,
¸¸B C
MessageToSend
¸¸D Q
=
¸¸R S

Properties
¸¸T ^
.
¸¸^ _
	Resources
¸¸_ h
.
¸¸h i,
txbFailToSendOrReciveAMessage¸¸i 
,¸¸ 
UserName¸¸ 
=¸¸ 

Properties¸¸ 
.¸¸ 
	Resources¸¸ §
.¸¸§ ¨
txbErrorTitle¸¸¨ µ
}¸¸¶ ·
)¸¸· ¸
;¸¸¸ ¹
}
¹¹ 
catch
ºº 
(
ºº 
SocketException
ºº "
ex
ºº# %
)
ºº% &
{
»» %
ExceptionHandlerForLogs
¼¼ '
.
¼¼' (
LogException
¼¼( 4
(
¼¼4 5
ex
¼¼5 7
,
¼¼7 8!
ExceptionDictionary
¼¼9 L
.
¼¼L M
FATAL_EXCEPTION
¼¼M \
)
¼¼\ ]
;
¼¼] ^
messagesInChats
½½ 
.
½½  
Add
½½  #
(
½½# $
new
½½$ '
MessageChat
½½( 3
(
½½3 4
)
½½4 5
{
½½6 7
IdUser
½½8 >
=
½½? @
$num
½½A B
,
½½B C
MessageToSend
½½D Q
=
½½R S

Properties
½½T ^
.
½½^ _
	Resources
½½_ h
.
½½h i,
txbFailToSendOrReciveAMessage½½i 
,½½ 
UserName½½ 
=½½ 

Properties½½ 
.½½ 
	Resources½½ §
.½½§ ¨
txbErrorTitle½½¨ µ
}½½¶ ·
)½½· ¸
;½½¸ ¹
}
¾¾ 
}
¿¿ 	
public
ÁÁ 
void
ÁÁ 
ReceiveMessage
ÁÁ "
(
ÁÁ" #/
!GenericClassOfMessageChatxY0a3WX4
ÁÁ# D
message
ÁÁE L
)
ÁÁL M
{
ÂÂ 	
try
ÃÃ 
{
ÄÄ 
if
ÅÅ 
(
ÅÅ 
message
ÅÅ 
.
ÅÅ 
	CodeEvent
ÅÅ %
==
ÅÅ& (!
ExceptionDictionary
ÅÅ) <
.
ÅÅ< =
SUCCESFULL_EVENT
ÅÅ= M
)
ÅÅM N
{
ÆÆ 
messagesInChats
ÇÇ #
.
ÇÇ# $
Add
ÇÇ$ '
(
ÇÇ' (
message
ÇÇ( /
.
ÇÇ/ 0
ObjectSaved
ÇÇ0 ;
)
ÇÇ; <
;
ÇÇ< =
}
ÈÈ 
}
ÉÉ 
catch
ÊÊ 
(
ÊÊ '
EndpointNotFoundException
ÊÊ ,
ex
ÊÊ- /
)
ÊÊ/ 0
{
ËË %
ExceptionHandlerForLogs
ÌÌ '
.
ÌÌ' (
LogException
ÌÌ( 4
(
ÌÌ4 5
ex
ÌÌ5 7
,
ÌÌ7 8!
ExceptionDictionary
ÌÌ9 L
.
ÌÌL M
FATAL_EXCEPTION
ÌÌM \
)
ÌÌ\ ]
;
ÌÌ] ^
messagesInChats
ÍÍ 
.
ÍÍ  
Add
ÍÍ  #
(
ÍÍ# $
new
ÍÍ$ '
MessageChat
ÍÍ( 3
(
ÍÍ3 4
)
ÍÍ4 5
{
ÍÍ6 7
IdUser
ÍÍ8 >
=
ÍÍ? @
$num
ÍÍA B
,
ÍÍB C
MessageToSend
ÍÍD Q
=
ÍÍR S

Properties
ÍÍT ^
.
ÍÍ^ _
	Resources
ÍÍ_ h
.
ÍÍh i,
txbFailToSendOrReciveAMessageÍÍi 
,ÍÍ 
UserNameÍÍ 
=ÍÍ 

PropertiesÍÍ 
.ÍÍ 
	ResourcesÍÍ §
.ÍÍ§ ¨
txbErrorTitleÍÍ¨ µ
}ÍÍ¶ ·
)ÍÍ· ¸
;ÍÍ¸ ¹
}
ÎÎ 
catch
ÏÏ 
(
ÏÏ 1
#CommunicationObjectFaultedException
ÏÏ 6
ex
ÏÏ7 9
)
ÏÏ9 :
{
ÐÐ %
ExceptionHandlerForLogs
ÑÑ '
.
ÑÑ' (
LogException
ÑÑ( 4
(
ÑÑ4 5
ex
ÑÑ5 7
,
ÑÑ7 8!
ExceptionDictionary
ÑÑ9 L
.
ÑÑL M
FATAL_EXCEPTION
ÑÑM \
)
ÑÑ\ ]
;
ÑÑ] ^
messagesInChats
ÒÒ 
.
ÒÒ  
Add
ÒÒ  #
(
ÒÒ# $
new
ÒÒ$ '
MessageChat
ÒÒ( 3
(
ÒÒ3 4
)
ÒÒ4 5
{
ÒÒ6 7
IdUser
ÒÒ8 >
=
ÒÒ? @
$num
ÒÒA B
,
ÒÒB C
MessageToSend
ÒÒD Q
=
ÒÒR S

Properties
ÒÒT ^
.
ÒÒ^ _
	Resources
ÒÒ_ h
.
ÒÒh i,
txbFailToSendOrReciveAMessageÒÒi 
,ÒÒ 
UserNameÒÒ 
=ÒÒ 

PropertiesÒÒ 
.ÒÒ 
	ResourcesÒÒ §
.ÒÒ§ ¨
txbErrorTitleÒÒ¨ µ
}ÒÒ¶ ·
)ÒÒ· ¸
;ÒÒ¸ ¹
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
TimeoutException
ÔÔ #
ex
ÔÔ$ &
)
ÔÔ& '
{
ÕÕ %
ExceptionHandlerForLogs
ÖÖ '
.
ÖÖ' (
LogException
ÖÖ( 4
(
ÖÖ4 5
ex
ÖÖ5 7
,
ÖÖ7 8!
ExceptionDictionary
ÖÖ9 L
.
ÖÖL M
FATAL_EXCEPTION
ÖÖM \
)
ÖÖ\ ]
;
ÖÖ] ^
messagesInChats
×× 
.
××  
Add
××  #
(
××# $
new
××$ '
MessageChat
××( 3
(
××3 4
)
××4 5
{
××6 7
IdUser
××8 >
=
××? @
$num
××A B
,
××B C
MessageToSend
××D Q
=
××R S

Properties
××T ^
.
××^ _
	Resources
××_ h
.
××h i,
txbFailToSendOrReciveAMessage××i 
,×× 
UserName×× 
=×× 

Properties×× 
.×× 
	Resources×× §
.××§ ¨
txbErrorTitle××¨ µ
}××¶ ·
)××· ¸
;××¸ ¹
}
ØØ 
catch
ÙÙ 
(
ÙÙ $
CommunicationException
ÙÙ )
ex
ÙÙ* ,
)
ÙÙ, -
{
ÚÚ %
ExceptionHandlerForLogs
ÛÛ '
.
ÛÛ' (
LogException
ÛÛ( 4
(
ÛÛ4 5
ex
ÛÛ5 7
,
ÛÛ7 8!
ExceptionDictionary
ÛÛ9 L
.
ÛÛL M
FATAL_EXCEPTION
ÛÛM \
)
ÛÛ\ ]
;
ÛÛ] ^
messagesInChats
ÜÜ 
.
ÜÜ  
Add
ÜÜ  #
(
ÜÜ# $
new
ÜÜ$ '
MessageChat
ÜÜ( 3
(
ÜÜ3 4
)
ÜÜ4 5
{
ÜÜ6 7
IdUser
ÜÜ8 >
=
ÜÜ? @
$num
ÜÜA B
,
ÜÜB C
MessageToSend
ÜÜD Q
=
ÜÜR S

Properties
ÜÜT ^
.
ÜÜ^ _
	Resources
ÜÜ_ h
.
ÜÜh i,
txbFailToSendOrReciveAMessageÜÜi 
,ÜÜ 
UserNameÜÜ 
=ÜÜ 

PropertiesÜÜ 
.ÜÜ 
	ResourcesÜÜ §
.ÜÜ§ ¨
txbErrorTitleÜÜ¨ µ
}ÜÜ¶ ·
)ÜÜ· ¸
;ÜÜ¸ ¹
}
ÝÝ 
catch
ÞÞ 
(
ÞÞ 
SocketException
ÞÞ "
ex
ÞÞ# %
)
ÞÞ% &
{
ßß %
ExceptionHandlerForLogs
àà '
.
àà' (
LogException
àà( 4
(
àà4 5
ex
àà5 7
,
àà7 8!
ExceptionDictionary
àà9 L
.
ààL M
FATAL_EXCEPTION
ààM \
)
àà\ ]
;
àà] ^
messagesInChats
áá 
.
áá  
Add
áá  #
(
áá# $
new
áá$ '
MessageChat
áá( 3
(
áá3 4
)
áá4 5
{
áá6 7
IdUser
áá8 >
=
áá? @
$num
ááA B
,
ááB C
MessageToSend
ááD Q
=
ááR S

Properties
ááT ^
.
áá^ _
	Resources
áá_ h
.
ááh i,
txbFailToSendOrReciveAMessageáái 
,áá 
UserNameáá 
=áá 

Propertiesáá 
.áá 
	Resourcesáá §
.áá§ ¨
txbErrorTitleáá¨ µ
}áá¶ ·
)áá· ¸
;áá¸ ¹
}
ââ 
LoadChat
ãã 
(
ãã 
)
ãã 
;
ãã 
}
ää 	
private
åå 
void
åå 
HandleException
åå $
(
åå$ %
	Exception
åå% .
ex
åå/ 1
,
åå1 2
string
åå3 9
errorMessage
åå: F
)
ååF G
{
ææ 	%
ExceptionHandlerForLogs
çç #
.
çç# $
LogException
çç$ 0
(
çç0 1
ex
çç1 3
,
çç3 4!
ExceptionDictionary
çç5 H
.
ççH I
FATAL_EXCEPTION
ççI X
)
ççX Y
;
ççY Z!
DialogWindowManager
èè 
.
èè  #
ShowInfoOrErrorWindow
èè  5
(
èè5 6

Properties
èè6 @
.
èè@ A
	Resources
èèA J
.
èèJ K
txbErrorTitle
èèK X
,
èèX Y
errorMessage
èèZ f
,
èèf g
Application
èèh s
.
èès t
Current
èèt {
.
èè{ |

MainWindowèè| 
,èè #
DialogWindowManagerèè 
.èè 
ERRORèè ¡
)èè¡ ¢
;èè¢ £
}
éé 	
}
ëë 
}ìì Ý
hC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\LobbyPage.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
	LobbyPage "
:# $
Page% )
,) *!
ILobbyActionsCallback+ @
,@ A
ILiveChatCallbackB S
,S T+
INotifyUserAvailabilityCallbackU t
{ 
private 
ActiveFriends 
activeUsersInstance 1
=2 3
null4 8
;8 9
private 
LiveChat 
liveChatInstance )
=* +
null, 0
;0 1
private 
const 
int 
NULL_INT_VALUE (
=) *
$num+ ,
;, -
private   
const   
int   
TEAM_LEFT_SIDE   (
=  ) *
$num  + ,
;  , -
private!! 
const!! 
int!! 
TEMA_RIGHT_SIDE!! )
=!!* +
$num!!, -
;!!- .
private"" 
int"" 
roomCode"" 
;"" 
private## 
bool## 
isAdminOfLobby## #
;### $
private$$ 
List$$ 
<$$ 
PlayerInLobby$$ "
>$$" # 
currentPlayerInLobby$$$ 8
=$$9 :
new$$; >
List$$? C
<$$C D
PlayerInLobby$$D Q
>$$Q R
($$R S
)$$S T
;$$T U
private%% 
UserSingleton%% 
userSingleton%% +
;%%+ ,
private&& 
static&& 
readonly&& 
ThreadLocal&&  +
<&&+ ,
Random&&, 2
>&&2 3
generateAleatory&&4 D
=&&E F
new&&G J
ThreadLocal&&K V
<&&V W
Random&&W ]
>&&] ^
(&&^ _
(&&_ `
)&&` a
=>&&b d
new&&e h
Random&&i o
(&&o p
)&&p q
)&&q r
;&&r s
public(( 
	LobbyPage(( 
((( 
)(( 
{)) 	
InitializeComponent** 
(**  
)**  !
;**! "
isAdminOfLobby++ 
=++ 
true++ !
;++! "
Loaded,, 
+=,, $
LoadedPrepareWindowAdmin,, .
;,,. /
}-- 	
private// 
void// $
LoadedPrepareWindowAdmin// -
(//- .
object//. 4
sender//5 ;
,//; <
RoutedEventArgs//= L
e//M N
)//N O
{00 	
PrepareWindow11 
(11 
)11 
;11 '
LobbyActionsOperationClient22 '
lobbyActionsProxy22( 9
=22: ;
new22< ?
(22? @
)22@ A
;22A B
lobbyActionsProxy33 
.33 '
SelectQuestionsForGameAsync33 9
(339 :
roomCode33: B
)33B C
;33C D
}44 	
public66 
	LobbyPage66 
(66 
int66 
roomCode66 %
)66% &
{77 	
InitializeComponent88 
(88  
)88  !
;88! "
this99 
.99 
roomCode99 
=99 
roomCode99 $
;99$ %
isAdminOfLobby:: 
=:: 
false:: "
;::" #
Loaded;; 
+=;; %
LoadedPrepareWindowPlayer;; /
;;;/ 0
}<< 	
private?? 
void?? %
LoadedPrepareWindowPlayer?? .
(??. /
object??/ 5
sender??6 <
,??< =
RoutedEventArgs??> M
e??N O
)??O P
{@@ 	
PrepareWindowAA 
(AA 
)AA 
;AA 
}BB 	
privateDD 
voidDD 
PrepareWindowDD "
(DD" #
)DD# $
{EE 	
userSingletonFF 
=FF 
UserSingletonFF )
.FF) *
GetMainUserFF* 5
(FF5 6
)FF6 7
;FF7 8
tryGG 
{HH 
InstanceContextII 
contextII  '
=II( )
newII* -
InstanceContextII. =
(II= >
thisII> B
)IIB C
;IIC D
LobbyActionsClientKK "
lobbyActionsProxyKK# 4
=KK5 6
newKK7 :
LobbyActionsClientKK; M
(KKM N
contextKKN U
)KKU V
;KKV W
ifMM 
(MM 
isAdminOfLobbyMM "
)MM" #
{NN 
CreateNewlobbyOO "
(OO" #
lobbyActionsProxyOO# 4
)OO4 5
;OO5 6
}PP 
elseQQ 
{RR 
	JoinLobbySS 
(SS 
lobbyActionsProxySS /
)SS/ 0
;SS0 1
}TT 

GetPlayersUU 
(UU 
)UU 
;UU !
PrepareChatAndFriendsVV %
(VV% &
)VV& '
;VV' (
lblAleatoryCodeWW 
.WW  
ContentWW  '
=WW( )
roomCodeWW* 2
;WW2 3
SetPlayerInLabelsXX !
(XX! "
)XX" #
;XX# $#
NotifyFriendsIamPlayingYY '
(YY' (
)YY( )
;YY) *
}ZZ 
catch[[ 
([[ 
SocketException[[ "
ex[[# %
)[[% &
{\\ 
HandleException]] 
(]]  
ex]]  "
,]]" #

Properties]]$ .
.]]. /
	Resources]]/ 8
.]]8 9#
lblFailtToEnterTheLobby]]9 P
+]]Q R
$str]]S X
+]]Y Z

Properties]][ e
.]]e f
	Resources]]f o
.]]o p 
lblEndPointNotFound	]]p 
)
]] 
;
]] 
}^^ 
catch__ 
(__ %
EndpointNotFoundException__ ,
ex__- /
)__/ 0
{`` 
HandleExceptionaa 
(aa  
exaa  "
,aa" #

Propertiesaa$ .
.aa. /
	Resourcesaa/ 8
.aa8 9#
lblFailtToEnterTheLobbyaa9 P
+aaQ R
$straaS X
+aaY Z

Propertiesaa[ e
.aae f
	Resourcesaaf o
.aao p 
lblEndPointNotFound	aap 
)
aa 
;
aa 
}bb 
catchcc 
(cc /
#CommunicationObjectFaultedExceptioncc 6
excc7 9
)cc9 :
{dd 
HandleExceptionee 
(ee  
exee  "
,ee" #

Propertiesee$ .
.ee. /
	Resourcesee/ 8
.ee8 9#
lblFailtToEnterTheLobbyee9 P
+eeQ R
$streeS X
+eeY Z

Propertiesee[ e
.eee f
	Resourceseef o
.eeo p%
lblComunicationException	eep 
)
ee 
;
ee 
}ff 
catchgg 
(gg 
TimeoutExceptiongg #
exgg$ &
)gg& '
{hh 
HandleExceptionii 
(ii  
exii  "
,ii" #

Propertiesii$ .
.ii. /
	Resourcesii/ 8
.ii8 9#
lblFailtToEnterTheLobbyii9 P
+iiQ R
$striiS X
+iiY Z

Propertiesii[ e
.iie f
	Resourcesiif o
.iio p
lblTimeException	iip 
)
ii 
;
ii 
}jj 
catchkk 
(kk "
CommunicationExceptionkk )
exkk* ,
)kk, -
{ll 
HandleExceptionmm 
(mm  
exmm  "
,mm" #

Propertiesmm$ .
.mm. /
	Resourcesmm/ 8
.mm8 9#
lblFailtToEnterTheLobbymm9 P
+mmQ R
$strmmS X
+mmY Z

Propertiesmm[ e
.mme f
	Resourcesmmf o
.mmo p 
lblWithoutConection	mmp 
)
mm 
;
mm 
}nn 
}pp 	
privaterr 
voidrr !
PrepareChatAndFriendsrr *
(rr* +
)rr+ ,
{ss 	
iftt 
(tt 
liveChatInstancett  
==tt! #
nulltt$ (
)tt( )
{uu 
liveChatInstancevv  
=vv! "
newvv# &
LiveChatvv' /
(vv/ 0
)vv0 1
;vv1 2
liveChatInstanceww  
.ww  !
	StartPageww! *
(ww* +
isAdminOfLobbyww+ 9
,ww9 :
roomCodeww; C
,wwC D
thiswwE I
)wwI J
;wwJ K
}xx 
ifyy 
(yy 
activeUsersInstanceyy #
==yy$ &
nullyy' +
)yy+ ,
{zz 
activeUsersInstance{{ #
={{$ %
new{{& )
ActiveFriends{{* 7
({{7 8
userSingleton{{8 E
.{{E F
IdUser{{F L
){{L M
;{{M N
activeUsersInstance|| #
.||# $
	StartPage||$ -
(||- .
this||. 2
)||2 3
;||3 4
}}} 
}~~ 	
private
 
void
 
CreateNewlobby
 #
(
# $ 
LobbyActionsClient
$ 6
lobbyActionsProxy
7 H
)
H I
{
 	
try
 
{
 
int
 
aleatoryNumber
 "
=
# $
generateAleatory
% 5
.
5 6
Value
6 ;
.
; <
Next
< @
(
@ A
$num
A F
,
F G
$num
H M
)
M N
;
N O
roomCode
 
=
 
aleatoryNumber
 )
;
) *
var
 
newLobby
 
=
 
lobbyActionsProxy
 0
.
0 1
CreateNewLobby
1 ?
(
? @
roomCode
@ H
,
H I
userSingleton
J W
.
W X
IdUser
X ^
)
^ _
;
_ `
if
 
(
 
newLobby
 
.
 
	CodeEvent
 %
!=
& (!
ExceptionDictionary
) <
.
< =
SUCCESFULL_EVENT
= M
)
M N
{
 
throw
 
new
 $
CommunicationException
 4
(
4 5
)
5 6
;
6 7
}
 
GameCodeContainer
 !
.
! "
RoomCode
" *
=
+ ,
roomCode
- 5
;
5 6
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
)
, -
{
 
throw
 
new
 '
EndpointNotFoundException
 3
(
3 4
)
4 5
;
5 6
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
)
6 7
{
 
throw
 
new
 1
#CommunicationObjectFaultedException
 =
(
= >
)
> ?
;
? @
}
 
catch
 
(
 
TimeoutException
 #
)
# $
{
 
throw
 
new
 
TimeoutException
 *
(
* +
)
+ ,
;
, -
}
 
catch
 
(
 $
CommunicationException
 )
)
) *
{
 
throw
 
new
 $
CommunicationException
 0
(
0 1
)
1 2
;
2 3
}
 
}
 	
private
 
void
 
	JoinLobby
 
(
  
LobbyActionsClient
 1
lobbyActionsProxy
2 C
)
C D
{
   	
try
¡¡ 
{
¢¢ 
GenericClassOfint
££ !

successful
££" ,
=
££- .
lobbyActionsProxy
££/ @
.
££@ A
JoinIntoLobby
££A N
(
££N O
roomCode
££O W
,
££W X
userSingleton
££Y f
.
££f g
IdUser
££g m
)
££m n
;
££n o
if
¤¤ 
(
¤¤ 

successful
¤¤ 
.
¤¤ 
	CodeEvent
¤¤ (
==
¤¤) +!
ExceptionDictionary
¤¤, ?
.
¤¤? @
SUCCESFULL_EVENT
¤¤@ P
)
¤¤P Q
{
¥¥ )
LobbyActionsOperationClient
¦¦ /(
lobbyActionsOperationProxy
¦¦0 J
=
¦¦K L
new
¦¦M P
(
¦¦P Q
)
¦¦Q R
;
¦¦R S(
lobbyActionsOperationProxy
§§ .
.
§§. /!
NotifyPlayerInLobby
§§/ B
(
§§B C
roomCode
§§C K
,
§§K L
userSingleton
§§M Z
.
§§Z [
IdUser
§§[ a
)
§§a b
;
§§b c
}
¨¨ 
	chbTeamUp
©© 
.
©© 
	IsEnabled
©© #
=
©©$ %
false
©©& +
;
©©+ ,
}
ªª 
catch
«« 
(
«« '
EndpointNotFoundException
«« ,
)
««, -
{
¬¬ 
throw
­­ 
new
­­ '
EndpointNotFoundException
­­ 3
(
­­3 4
)
­­4 5
;
­­5 6
}
®® 
catch
¯¯ 
(
¯¯ 1
#CommunicationObjectFaultedException
¯¯ 6
)
¯¯6 7
{
°° 
throw
±± 
new
±± 1
#CommunicationObjectFaultedException
±± =
(
±±= >
)
±±> ?
;
±±? @
}
²² 
catch
³³ 
(
³³ 
TimeoutException
³³ #
)
³³# $
{
´´ 
throw
µµ 
new
µµ 
TimeoutException
µµ *
(
µµ* +
)
µµ+ ,
;
µµ, -
}
¶¶ 
catch
·· 
(
·· $
CommunicationException
·· )
)
··) *
{
¸¸ 
throw
¹¹ 
new
¹¹ $
CommunicationException
¹¹ 0
(
¹¹0 1
)
¹¹1 2
;
¹¹2 3
}
ºº 
}
»» 	
private
½½ 
void
½½ 

GetPlayers
½½ 
(
½½  
)
½½  !
{
¾¾ 	
try
¿¿ 
{
ÀÀ )
LobbyActionsOperationClient
ÁÁ +
lobbyActionsProxy
ÁÁ, =
=
ÁÁ> ?
new
ÁÁ@ C
(
ÁÁC D
)
ÁÁD E
;
ÁÁE F
var
ÂÂ 
playersInLobby
ÂÂ "
=
ÂÂ# $
lobbyActionsProxy
ÂÂ% 6
.
ÂÂ6 7(
GetAllCurrentPlayerInLobby
ÂÂ7 Q
(
ÂÂQ R
roomCode
ÂÂR Z
,
ÂÂZ [
userSingleton
ÂÂ\ i
.
ÂÂi j
IdUser
ÂÂj p
)
ÂÂp q
;
ÂÂq r
if
ÃÃ 
(
ÃÃ 
playersInLobby
ÃÃ "
.
ÃÃ" #
	CodeEvent
ÃÃ# ,
==
ÃÃ- /!
ExceptionDictionary
ÃÃ0 C
.
ÃÃC D
SUCCESFULL_EVENT
ÃÃD T
)
ÃÃT U
{
ÄÄ "
currentPlayerInLobby
ÅÅ (
=
ÅÅ) *
playersInLobby
ÅÅ+ 9
.
ÅÅ9 :
ObjectSaved
ÅÅ: E
.
ÅÅE F
ToList
ÅÅF L
(
ÅÅL M
)
ÅÅM N
;
ÅÅN O
}
ÆÆ 
}
ÈÈ 
catch
ÉÉ 
(
ÉÉ '
EndpointNotFoundException
ÉÉ ,
)
ÉÉ, -
{
ÊÊ 
throw
ËË 
new
ËË '
EndpointNotFoundException
ËË 3
(
ËË3 4
)
ËË4 5
;
ËË5 6
}
ÌÌ 
catch
ÍÍ 
(
ÍÍ 1
#CommunicationObjectFaultedException
ÍÍ 6
)
ÍÍ6 7
{
ÎÎ 
throw
ÏÏ 
new
ÏÏ 1
#CommunicationObjectFaultedException
ÏÏ =
(
ÏÏ= >
)
ÏÏ> ?
;
ÏÏ? @
}
ÐÐ 
catch
ÑÑ 
(
ÑÑ 
TimeoutException
ÑÑ #
)
ÑÑ# $
{
ÒÒ 
throw
ÓÓ 
new
ÓÓ 
TimeoutException
ÓÓ *
(
ÓÓ* +
)
ÓÓ+ ,
;
ÓÓ, -
}
ÔÔ 
catch
ÕÕ 
(
ÕÕ $
CommunicationException
ÕÕ )
)
ÕÕ) *
{
ÖÖ 
throw
×× 
new
×× $
CommunicationException
×× 0
(
××0 1
)
××1 2
;
××2 3
}
ØØ 
}
ÙÙ 	
private
ÛÛ 
void
ÛÛ 
SetPlayerInLabels
ÛÛ &
(
ÛÛ& '
)
ÛÛ' (
{
ÜÜ 	
CleanAllLabels
ÝÝ 
(
ÝÝ 
)
ÝÝ 
;
ÝÝ 
if
ÞÞ 
(
ÞÞ "
currentPlayerInLobby
ÞÞ $
!=
ÞÞ% '
null
ÞÞ( ,
)
ÞÞ, -
{
ßß 
foreach
àà 
(
àà 
var
àà 
item
àà !
in
àà" $"
currentPlayerInLobby
àà% 9
)
àà9 :
{
áá 
switch
ââ 
(
ââ 
item
ââ  
.
ââ  !#
NumberOfPlayerInLobby
ââ! 6
)
ââ6 7
{
ãã 
case
ää 
$num
ää 
:
ää 

ShowPlayer
åå &
(
åå& '
lblLeaderBlue
åå' 4
,
åå4 5
lblLeaderRed
åå6 B
,
ååB C
brdLeaderBlue
ååD Q
,
ååQ R
brdLeaderRed
ååS _
,
åå_ `
item
ååa e
.
ååe f
UserName
ååf n
,
åån o
item
ååp t
.
ååt u

SideOfTeam
ååu 
)åå 
;åå 
break
ææ !
;
ææ! "
case
çç 
$num
çç 
:
çç 

ShowPlayer
èè &
(
èè& '
lblPlayer2Blue
èè' 5
,
èè5 6
lblPlayer2Red
èè7 D
,
èèD E
brdPlayer2Blue
èèF T
,
èèT U
brdPlayer2Red
èèV c
,
èèc d
item
èèe i
.
èèi j
UserName
èèj r
,
èèr s
item
èèt x
.
èèx y

SideOfTeamèèy 
)èè 
;èè 
break
éé !
;
éé! "
case
êê 
$num
êê 
:
êê 

ShowPlayer
ëë &
(
ëë& '
lblPlayer3Blue
ëë' 5
,
ëë5 6
lblPlayer3Red
ëë7 D
,
ëëD E
brdPlayer3Blue
ëëF T
,
ëëT U
brdPlayer3Red
ëëV c
,
ëëc d
item
ëëe i
.
ëëi j
UserName
ëëj r
,
ëër s
item
ëët x
.
ëëx y

SideOfTeamëëy 
)ëë 
;ëë 
break
ìì !
;
ìì! "
case
íí 
$num
íí 
:
íí 

ShowPlayer
îî &
(
îî& '
lblPlayer4Blue
îî' 5
,
îî5 6
lblPlayer4Red
îî7 D
,
îîD E
brdPlayer4Blue
îîF T
,
îîT U
brdPlayer4Red
îîV c
,
îîc d
item
îîe i
.
îîi j
UserName
îîj r
,
îîr s
item
îît x
.
îîx y

SideOfTeamîîy 
)îî 
;îî 
break
ïï !
;
ïï! "
}
ðð 
}
ññ 
}
òò 
}
óó 	
private
õõ 
void
õõ 
CleanAllLabels
õõ #
(
õõ# $
)
õõ$ %
{
öö 	
brdLeaderBlue
÷÷ 
.
÷÷ 

Visibility
÷÷ $
=
÷÷% &

Visibility
÷÷' 1
.
÷÷1 2
Hidden
÷÷2 8
;
÷÷8 9
brdLeaderRed
øø 
.
øø 

Visibility
øø #
=
øø$ %

Visibility
øø& 0
.
øø0 1
Hidden
øø1 7
;
øø7 8
brdPlayer2Blue
ùù 
.
ùù 

Visibility
ùù %
=
ùù& '

Visibility
ùù( 2
.
ùù2 3
Hidden
ùù3 9
;
ùù9 :
brdPlayer2Red
úú 
.
úú 

Visibility
úú $
=
úú% &

Visibility
úú' 1
.
úú1 2
Hidden
úú2 8
;
úú8 9
brdPlayer3Blue
ûû 
.
ûû 

Visibility
ûû %
=
ûû& '

Visibility
ûû( 2
.
ûû2 3
Hidden
ûû3 9
;
ûû9 :
brdPlayer3Red
üü 
.
üü 

Visibility
üü $
=
üü% &

Visibility
üü' 1
.
üü1 2
Hidden
üü2 8
;
üü8 9
brdPlayer4Blue
ýý 
.
ýý 

Visibility
ýý %
=
ýý& '

Visibility
ýý( 2
.
ýý2 3
Hidden
ýý3 9
;
ýý9 :
brdPlayer4Red
þþ 
.
þþ 

Visibility
þþ $
=
þþ% &

Visibility
þþ' 1
.
þþ1 2
Hidden
þþ2 8
;
þþ8 9
lblLeaderBlue
ÿÿ 
.
ÿÿ 
Content
ÿÿ !
=
ÿÿ" #
string
ÿÿ$ *
.
ÿÿ* +
Empty
ÿÿ+ 0
;
ÿÿ0 1
lblLeaderRed
 
.
 
Content
  
=
! "
string
# )
.
) *
Empty
* /
;
/ 0
lblPlayer2Blue
 
.
 
Content
 "
=
# $
string
% +
.
+ ,
Empty
, 1
;
1 2
lblPlayer2Red
 
.
 
Content
 !
=
" #
string
$ *
.
* +
Empty
+ 0
;
0 1
lblPlayer3Blue
 
.
 
Content
 "
=
# $
string
% +
.
+ ,
Empty
, 1
;
1 2
lblPlayer3Red
 
.
 
Content
 !
=
" #
string
$ *
.
* +
Empty
+ 0
;
0 1
lblPlayer4Blue
 
.
 
Content
 "
=
# $
string
% +
.
+ ,
Empty
, 1
;
1 2
lblPlayer4Red
 
.
 
Content
 !
=
" #
string
$ *
.
* +
Empty
+ 0
;
0 1
}
 	
private
 
void
 

ShowPlayer
 
(
  
Label
  %
	labelBlue
& /
,
/ 0
Label
1 6
labelRed
7 ?
,
? @
Border
A G

borderBlue
H R
,
R S
Border
T Z
	borderRed
[ d
,
d e
String
f l
userName
m u
,
u v
int
w z
side
{ 
) 
{
 	
if
 
(
 
side
 
==
 
TEAM_LEFT_SIDE
 &
)
& '
{
 
	labelBlue
 
.
 
Content
 !
=
" #
userName
$ ,
;
, -

borderBlue
 
.
 

Visibility
 %
=
& '

Visibility
( 2
.
2 3
Visible
3 :
;
: ;
	borderRed
 
.
 

Visibility
 $
=
% &

Visibility
' 1
.
1 2
Hidden
2 8
;
8 9
}
 
else
 
{
 
labelRed
 
.
 
Content
  
=
! "
userName
# +
;
+ ,

borderBlue
 
.
 

Visibility
 %
=
& '

Visibility
( 2
.
2 3
Hidden
3 9
;
9 :
	borderRed
 
.
 

Visibility
 $
=
% &

Visibility
' 1
.
1 2
Visible
2 9
;
9 :
}
 
}
 	
public
 
void
 (
UpdateJoinedPlayerResponse
 .
(
. /8
*GenericClassOfArrayOfPlayerInLobbyxY0a3WX4
/ Y
playersInTheLobby
Z k
)
k l
{
 	
try
 
{
 
if
 
(
 
playersInTheLobby
 %
.
% &
	CodeEvent
& /
==
0 2!
ExceptionDictionary
3 F
.
F G
SUCCESFULL_EVENT
G W
)
W X
{
 "
currentPlayerInLobby
 (
=
) *
playersInTheLobby
+ <
.
< =
ObjectSaved
= H
.
H I
ToList
I O
(
O P
)
P Q
;
Q R
if
   
(
   "
currentPlayerInLobby
   ,
.
  , -
Exists
  - 3
(
  3 4
pla
  4 7
=>
  8 :
pla
  ; >
.
  > ?
IdPlayer
  ? G
==
  H J
userSingleton
  K X
.
  X Y
IdPlayer
  Y a
)
  a b
)
  b c
{
¡¡ 
SetPlayerInLabels
¢¢ )
(
¢¢) *
)
¢¢* +
;
¢¢+ ,
if
££ 
(
££ 
(
££ 
bool
££ !
)
££! "
	chbTeamUp
££" +
.
££+ ,
	IsChecked
££, 5
)
££5 6
{
¤¤ 
	chbTeamUp
¥¥ %
.
¥¥% &
	IsChecked
¥¥& /
=
¥¥0 1
false
¥¥2 7
;
¥¥7 8
}
¦¦ 
}
§§ 
else
¨¨ 
{
©© !
DialogWindowManager
ªª +
.
ªª+ ,#
ShowInfoOrErrorWindow
ªª, A
(
ªªA B

Properties
ªªB L
.
ªªL M
	Resources
ªªM V
.
ªªV W
txbWarningTitle
ªªW f
,
ªªf g

Properties
ªªh r
.
ªªr s
	Resources
ªªs |
.
ªª| }$
lblEliminateFromLobbyªª} 
,ªª 
Windowªª 
.ªª 
	GetWindowªª ¤
(ªª¤ ¥
thisªª¥ ©
)ªª© ª
,ªªª «#
DialogWindowManagerªª¬ ¿
.ªª¿ À
INFORMATIONªªÀ Ë
)ªªË Ì
;ªªÌ Í
CloseWindow
«« #
(
««# $
)
««$ %
;
««% &
}
¬¬ 
}
­­ 
else
®® 
{
¯¯ !
DialogWindowManager
°° '
.
°°' (#
ShowInfoOrErrorWindow
°°( =
(
°°= >

Properties
°°> H
.
°°H I
	Resources
°°I R
.
°°R S
txbWarningTitle
°°S b
,
°°b c

Properties
°°d n
.
°°n o
	Resources
°°o x
.
°°x y
KickedFromLobby°°y 
,°° 
Window°° 
.°° 
	GetWindow°° 
(°° 
this°° 
)°°  
,°°  ¡#
DialogWindowManager°°¢ µ
.°°µ ¶
ERROR°°¶ »
)°°» ¼
;°°¼ ½
CloseWindow
±± 
(
±±  
)
±±  !
;
±±! "
}
²² 
}
³³ 
catch
´´ 
(
´´ '
EndpointNotFoundException
´´ ,
ex
´´- /
)
´´/ 0
{
µµ 
HandleException
¶¶ 
(
¶¶  
ex
¶¶  "
,
¶¶" #

Properties
¶¶$ .
.
¶¶. /
	Resources
¶¶/ 8
.
¶¶8 9!
lblEndPointNotFound
¶¶9 L
)
¶¶L M
;
¶¶M N
}
·· 
catch
¸¸ 
(
¸¸ 1
#CommunicationObjectFaultedException
¸¸ 6
ex
¸¸7 9
)
¸¸9 :
{
¹¹ 
HandleException
ºº 
(
ºº  
ex
ºº  "
,
ºº" #

Properties
ºº$ .
.
ºº. /
	Resources
ºº/ 8
.
ºº8 9&
lblComunicationException
ºº9 Q
)
ººQ R
;
ººR S
}
»» 
catch
¼¼ 
(
¼¼ 
TimeoutException
¼¼ #
ex
¼¼$ &
)
¼¼& '
{
½½ 
HandleException
¾¾ 
(
¾¾  
ex
¾¾  "
,
¾¾" #

Properties
¾¾$ .
.
¾¾. /
	Resources
¾¾/ 8
.
¾¾8 9
lblTimeException
¾¾9 I
)
¾¾I J
;
¾¾J K
}
¿¿ 
catch
ÀÀ 
(
ÀÀ $
CommunicationException
ÀÀ )
ex
ÀÀ* ,
)
ÀÀ, -
{
ÁÁ 
HandleException
ÂÂ 
(
ÂÂ  
ex
ÂÂ  "
,
ÂÂ" #

Properties
ÂÂ$ .
.
ÂÂ. /
	Resources
ÂÂ/ 8
.
ÂÂ8 9!
lblWithoutConection
ÂÂ9 L
)
ÂÂL M
;
ÂÂM N
}
ÃÃ 
}
ÄÄ 	
private
ÆÆ 
void
ÆÆ +
ClickEliminatePlayerFromLobby
ÆÆ 2
(
ÆÆ2 3
object
ÆÆ3 9
sender
ÆÆ: @
,
ÆÆ@ A"
MouseButtonEventArgs
ÆÆB V
e
ÆÆW X
)
ÆÆX Y
{
ÇÇ 	
if
ÈÈ 
(
ÈÈ 
isAdminOfLobby
ÈÈ 
)
ÈÈ 
{
ÉÉ 
string
ÊÊ 
userName
ÊÊ 
=
ÊÊ  !)
GetUserNameFromLabelByImage
ÊÊ" =
(
ÊÊ= >
sender
ÊÊ> D
)
ÊÊD E
;
ÊÊE F
if
ËË 
(
ËË 
!
ËË 
string
ËË 
.
ËË 
IsNullOrEmpty
ËË )
(
ËË) *
userName
ËË* 2
)
ËË2 3
)
ËË3 4
{
ÌÌ 
var
ÍÍ 
userChanged
ÍÍ #
=
ÍÍ$ %$
EliminateUserFromLobby
ÍÍ& <
(
ÍÍ< =
userName
ÍÍ= E
)
ÍÍE F
;
ÍÍF G
if
ÎÎ 
(
ÎÎ 
userChanged
ÎÎ #
.
ÎÎ# $
IdUser
ÎÎ$ *
!=
ÎÎ+ -
NULL_INT_VALUE
ÎÎ. <
)
ÎÎ< =
{
ÏÏ 
try
ÐÐ 
{
ÑÑ  
LobbyActionsClient
ÒÒ .'
lobbyActionsCallBackProxy
ÒÒ/ H
=
ÒÒI J
new
ÒÒK N 
LobbyActionsClient
ÒÒO a
(
ÒÒa b
new
ÒÒb e
InstanceContext
ÒÒf u
(
ÒÒu v
this
ÒÒv z
)
ÒÒz {
)
ÒÒ{ |
;
ÒÒ| }'
lobbyActionsCallBackProxy
ÓÓ 5
.
ÓÓ5 6 
RenewLobbyCallBack
ÓÓ6 H
(
ÓÓH I
roomCode
ÓÓI Q
,
ÓÓQ R
userSingleton
ÓÓS `
.
ÓÓ` a
IdUser
ÓÓa g
)
ÓÓg h
;
ÓÓh i)
LobbyActionsOperationClient
ÕÕ 7
lobbyActionsProxy
ÕÕ8 I
=
ÕÕJ K
new
ÕÕL O
(
ÕÕO P
)
ÕÕP Q
;
ÕÕQ R
lobbyActionsProxy
ÖÖ -
.
ÖÖ- .&
EliminatePlayerFromMatch
ÖÖ. F
(
ÖÖF G
roomCode
ÖÖG O
,
ÖÖO P
userChanged
ÖÖQ \
.
ÖÖ\ ]
IdUser
ÖÖ] c
)
ÖÖc d
;
ÖÖd e
}
×× 
catch
ØØ 
(
ØØ '
EndpointNotFoundException
ØØ 8
ex
ØØ9 ;
)
ØØ; <
{
ÙÙ 
HandleException
ÚÚ +
(
ÚÚ+ ,
ex
ÚÚ, .
,
ÚÚ. /

Properties
ÚÚ0 :
.
ÚÚ: ;
	Resources
ÚÚ; D
.
ÚÚD E/
!lblFailToEliminatePlayerFromLobby
ÚÚE f
+
ÚÚg h
$str
ÚÚi n
+
ÚÚo p

Properties
ÚÚq {
.
ÚÚ{ |
	ResourcesÚÚ| 
.ÚÚ #
lblEndPointNotFoundÚÚ 
)ÚÚ 
;ÚÚ 
}
ÛÛ 
catch
ÜÜ 
(
ÜÜ 1
#CommunicationObjectFaultedException
ÜÜ B
ex
ÜÜC E
)
ÜÜE F
{
ÝÝ 
HandleException
ÞÞ +
(
ÞÞ+ ,
ex
ÞÞ, .
,
ÞÞ. /

Properties
ÞÞ0 :
.
ÞÞ: ;
	Resources
ÞÞ; D
.
ÞÞD E/
!lblFailToEliminatePlayerFromLobby
ÞÞE f
+
ÞÞg h
$str
ÞÞi n
+
ÞÞo p

Properties
ÞÞq {
.
ÞÞ{ |
	ResourcesÞÞ| 
.ÞÞ (
lblComunicationExceptionÞÞ 
)ÞÞ 
;ÞÞ  
}
ßß 
catch
àà 
(
àà 
TimeoutException
àà /
ex
àà0 2
)
àà2 3
{
áá 
HandleException
ââ +
(
ââ+ ,
ex
ââ, .
,
ââ. /

Properties
ââ0 :
.
ââ: ;
	Resources
ââ; D
.
ââD E/
!lblFailToEliminatePlayerFromLobby
ââE f
+
ââg h
$str
ââi n
+
ââo p

Properties
ââq {
.
ââ{ |
	Resourcesââ| 
.ââ  
lblTimeExceptionââ 
)ââ 
;ââ 
}
ãã 
catch
ää 
(
ää $
CommunicationException
ää 5
ex
ää6 8
)
ää8 9
{
åå 
HandleException
ææ +
(
ææ+ ,
ex
ææ, .
,
ææ. /

Properties
ææ0 :
.
ææ: ;
	Resources
ææ; D
.
ææD E/
!lblFailToEliminatePlayerFromLobby
ææE f
+
ææg h
$str
ææi n
+
ææo p

Properties
ææq {
.
ææ{ |
	Resourcesææ| 
.ææ #
lblWithoutConectionææ 
)ææ 
;ææ 
}
çç 
}
èè 
}
éé 
}
êê 
}
ëë 	
private
îî 
PlayerInLobby
îî $
EliminateUserFromLobby
îî 4
(
îî4 5
String
îî5 ;
userName
îî< D
)
îîD E
{
ïï 	
PlayerInLobby
ðð 
playerInLobby
ðð '
=
ðð( )
new
ðð* -
PlayerInLobby
ðð. ;
(
ðð; <
)
ðð< =
;
ðð= >
playerInLobby
ññ 
.
ññ 
IdUser
ññ  
=
ññ! "
NULL_INT_VALUE
ññ# 1
;
ññ1 2
var
òò  
playerToEliminated
òò "
=
òò# $"
currentPlayerInLobby
òò& :
.
òò: ;
Find
òò; ?
(
òò? @
item
òò@ D
=>
òòE G
item
òòH L
.
òòL M
UserName
òòM U
.
òòU V
Equals
òòV \
(
òò\ ]
userName
òò] e
)
òòe f
)
òòf g
;
òòg h
if
óó 
(
óó  
playerToEliminated
óó "
.
óó" #
IdPlayer
óó# +
!=
óó, .
$num
óó/ 0
)
óó0 1
{
ôô "
currentPlayerInLobby
õõ $
.
õõ$ %
Remove
õõ% +
(
õõ+ , 
playerToEliminated
õõ, >
)
õõ> ?
;
õõ? @
playerInLobby
öö 
=
öö  
playerToEliminated
öö  2
;
öö2 3
}
÷÷ 
return
øø 
playerInLobby
øø  
;
øø  !
}
ùù 	
private
ûû 
String
ûû )
GetUserNameFromLabelByImage
ûû 2
(
ûû2 3
object
ûû3 9
sender
ûû: @
)
ûû@ A
{
üü 	
Image
ýý 
	imgChosen
ýý 
=
ýý 
(
ýý 
Image
ýý $
)
ýý$ %
sender
ýý% +
;
ýý+ ,

StackPanel
þþ 
	stcChosen
þþ  
=
þþ! "2
$GetParentOfGraphicInterfaceComponent
þþ# G
.
þþG H

FindParent
þþH R
<
þþR S

StackPanel
þþS ]
>
þþ] ^
(
þþ^ _
	imgChosen
þþ_ h
)
þþh i
;
þþi j
Label
ÿÿ 
label
ÿÿ 
=
ÿÿ 
	stcChosen
ÿÿ #
.
ÿÿ# $
Children
ÿÿ$ ,
.
ÿÿ, -
OfType
ÿÿ- 3
<
ÿÿ3 4
Label
ÿÿ4 9
>
ÿÿ9 :
(
ÿÿ: ;
)
ÿÿ; <
.
ÿÿ< =
FirstOrDefault
ÿÿ= K
(
ÿÿK L
)
ÿÿL M
;
ÿÿM N
return
 
label
 
?
 
.
 
Content
 !
?
! "
.
" #
ToString
# +
(
+ ,
)
, -
;
- .
}
 	
private
 
void
 
ClickTeamUp
  
(
  !
object
! '
sender
( .
,
. /
RoutedEventArgs
0 ?
e
@ A
)
A B
{
 	
if
 
(
 
isAdminOfLobby
 
)
 
{
 
try
 
{
  
LobbyActionsClient
 &'
lobbyActionsCallBackProxy
' @
=
A B
new
C F 
LobbyActionsClient
G Y
(
Y Z
new
Z ]
InstanceContext
^ m
(
m n
this
n r
)
r s
)
s t
;
t u'
lobbyActionsCallBackProxy
 -
.
- . 
RenewLobbyCallBack
. @
(
@ A
roomCode
A I
,
I J
userSingleton
K X
.
X Y
IdUser
Y _
)
_ `
;
` a
if
 
(
 "
currentPlayerInLobby
 ,
.
, -
Count
- 2
==
3 5
$num
6 7
)
7 8
{
 
DoOrUndoTeams
 %
(
% &
true
& *
)
* +
;
+ ,
SetPlayerInLabels
 )
(
) *
)
* +
;
+ ,)
LobbyActionsOperationClient
 3
lobbyActionsProxy
4 E
=
F G
new
H K
(
K L
)
L M
;
M N
lobbyActionsProxy
 )
.
) *
	MakeTeams
* 3
(
3 4
roomCode
4 <
,
< =
userSingleton
> K
.
K L
IdUser
L R
,
R S
true
T X
)
X Y
;
Y Z
}
 
else
 
{
 
	chbTeamUp
 !
.
! "
	IsChecked
" +
=
, -
false
. 3
;
3 4!
DialogWindowManager
 +
.
+ ,#
ShowInfoOrErrorWindow
, A
(
A B

Properties
B L
.
L M
	Resources
M V
.
V W!
txbInformationTitle
W j
,
j k

Properties
l v
.
v w
	Resourcesw 
. 
MustBe4Players 
, 
Window 
. 
	GetWindow ¡
(¡ ¢
this¢ ¦
)¦ §
,§ ¨#
DialogWindowManager© ¼
.¼ ½
ERROR½ Â
)Â Ã
;Ã Ä
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 0
ex
1 3
)
3 4
{
 

Exceptions
 
.
 %
ExceptionHandlerForLogs
 6
.
6 7
LogException
7 C
(
C D
ex
D F
,
F G

Exceptions
H R
.
R S!
ExceptionDictionary
S f
.
f g
ERROR
g l
)
l m
;
m n!
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbErrorTitle
S `
,
` a

Properties
b l
.
l m
	Resources
m v
.
v w#
lblFailToManageTeamsw 
+ 
$str 
+ 

Properties  
.  ¡
	Resources¡ ª
.ª «#
lblEndPointNotFound« ¾
,¾ ¿
WindowÀ Æ
.Æ Ç
	GetWindowÇ Ð
(Ð Ñ
thisÑ Õ
)Õ Ö
,Ö ×#
DialogWindowManagerØ ë
.ë ì
ERRORì ñ
)ñ ò
;ò ó
	chbTeamUp
 
.
 
	IsChecked
 '
=
( )
false
* /
;
/ 0
}
 
catch
   
(
   1
#CommunicationObjectFaultedException
   :
ex
  ; =
)
  = >
{
¡¡ 

Exceptions
¢¢ 
.
¢¢ %
ExceptionHandlerForLogs
¢¢ 6
.
¢¢6 7
LogException
¢¢7 C
(
¢¢C D
ex
¢¢D F
,
¢¢F G

Exceptions
¢¢H R
.
¢¢R S!
ExceptionDictionary
¢¢S f
.
¢¢f g
ERROR
¢¢g l
)
¢¢l m
;
¢¢m n!
DialogWindowManager
££ '
.
££' (#
ShowInfoOrErrorWindow
££( =
(
££= >

Properties
££> H
.
££H I
	Resources
££I R
.
££R S
txbErrorTitle
££S `
,
££` a

Properties
££b l
.
££l m
	Resources
££m v
.
££v w#
lblFailToManageTeams££w 
+££ 
$str££ 
+££ 

Properties££  
.££  ¡
	Resources££¡ ª
.££ª «(
lblComunicationException££« Ã
,££Ã Ä
Window££Å Ë
.££Ë Ì
	GetWindow££Ì Õ
(££Õ Ö
this££Ö Ú
)££Ú Û
,££Û Ü#
DialogWindowManager££Ý ð
.££ð ñ
ERROR££ñ ö
)££ö ÷
;££÷ ø
	chbTeamUp
¤¤ 
.
¤¤ 
	IsChecked
¤¤ '
=
¤¤( )
false
¤¤* /
;
¤¤/ 0
}
¥¥ 
catch
¦¦ 
(
¦¦ 
TimeoutException
¦¦ '
ex
¦¦( *
)
¦¦* +
{
§§ 

Exceptions
¨¨ 
.
¨¨ %
ExceptionHandlerForLogs
¨¨ 6
.
¨¨6 7
LogException
¨¨7 C
(
¨¨C D
ex
¨¨D F
,
¨¨F G

Exceptions
¨¨H R
.
¨¨R S!
ExceptionDictionary
¨¨S f
.
¨¨f g
ERROR
¨¨g l
)
¨¨l m
;
¨¨m n!
DialogWindowManager
©© '
.
©©' (#
ShowInfoOrErrorWindow
©©( =
(
©©= >

Properties
©©> H
.
©©H I
	Resources
©©I R
.
©©R S
txbErrorTitle
©©S `
,
©©` a

Properties
©©b l
.
©©l m
	Resources
©©m v
.
©©v w#
lblFailToManageTeams©©w 
+©© 
$str©© 
+©© 

Properties©©  
.©©  ¡
	Resources©©¡ ª
.©©ª « 
lblTimeException©©« »
,©©» ¼
Window©©½ Ã
.©©Ã Ä
	GetWindow©©Ä Í
(©©Í Î
this©©Î Ò
)©©Ò Ó
,©©Ó Ô#
DialogWindowManager©©Õ è
.©©è é
ERROR©©é î
)©©î ï
;©©ï ð
	chbTeamUp
ªª 
.
ªª 
	IsChecked
ªª '
=
ªª( )
false
ªª* /
;
ªª/ 0
}
«« 
catch
¬¬ 
(
¬¬ $
CommunicationException
¬¬ -
ex
¬¬. 0
)
¬¬0 1
{
­­ 

Exceptions
®® 
.
®® %
ExceptionHandlerForLogs
®® 6
.
®®6 7
LogException
®®7 C
(
®®C D
ex
®®D F
,
®®F G

Exceptions
®®H R
.
®®R S!
ExceptionDictionary
®®S f
.
®®f g
ERROR
®®g l
)
®®l m
;
®®m n!
DialogWindowManager
¯¯ '
.
¯¯' (#
ShowInfoOrErrorWindow
¯¯( =
(
¯¯= >

Properties
¯¯> H
.
¯¯H I
	Resources
¯¯I R
.
¯¯R S
txbErrorTitle
¯¯S `
,
¯¯` a

Properties
¯¯b l
.
¯¯l m
	Resources
¯¯m v
.
¯¯v w#
lblFailToManageTeams¯¯w 
+¯¯ 
$str¯¯ 
+¯¯ 

Properties¯¯  
.¯¯  ¡
	Resources¯¯¡ ª
.¯¯ª «#
lblWithoutConection¯¯« ¾
,¯¯¾ ¿
Window¯¯À Æ
.¯¯Æ Ç
	GetWindow¯¯Ç Ð
(¯¯Ð Ñ
this¯¯Ñ Õ
)¯¯Õ Ö
,¯¯Ö ×#
DialogWindowManager¯¯Ø ë
.¯¯ë ì
ERROR¯¯ì ñ
)¯¯ñ ò
;¯¯ò ó
	chbTeamUp
°° 
.
°° 
	IsChecked
°° '
=
°°( )
false
°°* /
;
°°/ 0
}
±± 
}
²² 
}
³³ 	
private
µµ 
void
µµ 
ClickNoTeamUp
µµ "
(
µµ" #
object
µµ# )
sender
µµ* 0
,
µµ0 1
RoutedEventArgs
µµ2 A
e
µµB C
)
µµC D
{
¶¶ 	
if
·· 
(
·· 
isAdminOfLobby
·· 
)
·· 
{
¸¸ 
try
¹¹ 
{
ºº  
LobbyActionsClient
»» &'
lobbyActionsCallBackProxy
»»' @
=
»»A B
new
»»C F 
LobbyActionsClient
»»G Y
(
»»Y Z
new
»»Z ]
InstanceContext
»»^ m
(
»»m n
this
»»n r
)
»»r s
)
»»s t
;
»»t u'
lobbyActionsCallBackProxy
¼¼ -
.
¼¼- . 
RenewLobbyCallBack
¼¼. @
(
¼¼@ A
roomCode
¼¼A I
,
¼¼I J
userSingleton
¼¼K X
.
¼¼X Y
IdUser
¼¼Y _
)
¼¼_ `
;
¼¼` a
DoOrUndoTeams
¾¾ !
(
¾¾! "
false
¾¾" '
)
¾¾' (
;
¾¾( )
SetPlayerInLabels
¿¿ %
(
¿¿% &
)
¿¿& '
;
¿¿' ()
LobbyActionsOperationClient
ÀÀ /
lobbyActionsProxy
ÀÀ0 A
=
ÀÀB C
new
ÀÀD G
(
ÀÀG H
)
ÀÀH I
;
ÀÀI J
lobbyActionsProxy
ÁÁ %
.
ÁÁ% &
	MakeTeams
ÁÁ& /
(
ÁÁ/ 0
roomCode
ÁÁ0 8
,
ÁÁ8 9
userSingleton
ÁÁ: G
.
ÁÁG H
IdUser
ÁÁH N
,
ÁÁN O
false
ÁÁP U
)
ÁÁU V
;
ÁÁV W
}
ÂÂ 
catch
ÃÃ 
(
ÃÃ '
EndpointNotFoundException
ÃÃ 0
ex
ÃÃ1 3
)
ÃÃ3 4
{
ÄÄ 

Exceptions
ÅÅ 
.
ÅÅ %
ExceptionHandlerForLogs
ÅÅ 6
.
ÅÅ6 7
LogException
ÅÅ7 C
(
ÅÅC D
ex
ÅÅD F
,
ÅÅF G

Exceptions
ÅÅH R
.
ÅÅR S!
ExceptionDictionary
ÅÅS f
.
ÅÅf g
ERROR
ÅÅg l
)
ÅÅl m
;
ÅÅm n!
DialogWindowManager
ÆÆ '
.
ÆÆ' (#
ShowInfoOrErrorWindow
ÆÆ( =
(
ÆÆ= >

Properties
ÆÆ> H
.
ÆÆH I
	Resources
ÆÆI R
.
ÆÆR S
txbErrorTitle
ÆÆS `
,
ÆÆ` a

Properties
ÆÆb l
.
ÆÆl m
	Resources
ÆÆm v
.
ÆÆv w#
lblFailToManageTeamsÆÆw 
+ÆÆ 
$strÆÆ 
+ÆÆ 

PropertiesÆÆ  
.ÆÆ  ¡
	ResourcesÆÆ¡ ª
.ÆÆª «#
lblEndPointNotFoundÆÆ« ¾
,ÆÆ¾ ¿
WindowÆÆÀ Æ
.ÆÆÆ Ç
	GetWindowÆÆÇ Ð
(ÆÆÐ Ñ
thisÆÆÑ Õ
)ÆÆÕ Ö
,ÆÆÖ ×#
DialogWindowManagerÆÆØ ë
.ÆÆë ì
ERRORÆÆì ñ
)ÆÆñ ò
;ÆÆò ó
DoOrUndoTeams
ÇÇ !
(
ÇÇ! "
true
ÇÇ" &
)
ÇÇ& '
;
ÇÇ' (
SetPlayerInLabels
ÈÈ %
(
ÈÈ% &
)
ÈÈ& '
;
ÈÈ' (
}
ÉÉ 
catch
ÊÊ 
(
ÊÊ 1
#CommunicationObjectFaultedException
ÊÊ :
ex
ÊÊ; =
)
ÊÊ= >
{
ËË 

Exceptions
ÌÌ 
.
ÌÌ %
ExceptionHandlerForLogs
ÌÌ 6
.
ÌÌ6 7
LogException
ÌÌ7 C
(
ÌÌC D
ex
ÌÌD F
,
ÌÌF G

Exceptions
ÌÌH R
.
ÌÌR S!
ExceptionDictionary
ÌÌS f
.
ÌÌf g
ERROR
ÌÌg l
)
ÌÌl m
;
ÌÌm n!
DialogWindowManager
ÍÍ '
.
ÍÍ' (#
ShowInfoOrErrorWindow
ÍÍ( =
(
ÍÍ= >

Properties
ÍÍ> H
.
ÍÍH I
	Resources
ÍÍI R
.
ÍÍR S
txbErrorTitle
ÍÍS `
,
ÍÍ` a

Properties
ÍÍb l
.
ÍÍl m
	Resources
ÍÍm v
.
ÍÍv w#
lblFailToManageTeamsÍÍw 
+ÍÍ 
$strÍÍ 
+ÍÍ 

PropertiesÍÍ  
.ÍÍ  ¡
	ResourcesÍÍ¡ ª
.ÍÍª «(
lblComunicationExceptionÍÍ« Ã
,ÍÍÃ Ä
WindowÍÍÅ Ë
.ÍÍË Ì
	GetWindowÍÍÌ Õ
(ÍÍÕ Ö
thisÍÍÖ Ú
)ÍÍÚ Û
,ÍÍÛ Ü#
DialogWindowManagerÍÍÝ ð
.ÍÍð ñ
ERRORÍÍñ ö
)ÍÍö ÷
;ÍÍ÷ ø
DoOrUndoTeams
ÎÎ !
(
ÎÎ! "
true
ÎÎ" &
)
ÎÎ& '
;
ÎÎ' (
SetPlayerInLabels
ÏÏ %
(
ÏÏ% &
)
ÏÏ& '
;
ÏÏ' (
}
ÐÐ 
catch
ÑÑ 
(
ÑÑ 
TimeoutException
ÑÑ '
ex
ÑÑ( *
)
ÑÑ* +
{
ÒÒ 

Exceptions
ÓÓ 
.
ÓÓ %
ExceptionHandlerForLogs
ÓÓ 6
.
ÓÓ6 7
LogException
ÓÓ7 C
(
ÓÓC D
ex
ÓÓD F
,
ÓÓF G

Exceptions
ÓÓH R
.
ÓÓR S!
ExceptionDictionary
ÓÓS f
.
ÓÓf g
ERROR
ÓÓg l
)
ÓÓl m
;
ÓÓm n!
DialogWindowManager
ÔÔ '
.
ÔÔ' (#
ShowInfoOrErrorWindow
ÔÔ( =
(
ÔÔ= >

Properties
ÔÔ> H
.
ÔÔH I
	Resources
ÔÔI R
.
ÔÔR S
txbErrorTitle
ÔÔS `
,
ÔÔ` a

Properties
ÔÔb l
.
ÔÔl m
	Resources
ÔÔm v
.
ÔÔv w#
lblFailToManageTeamsÔÔw 
+ÔÔ 
$strÔÔ 
+ÔÔ 

PropertiesÔÔ  
.ÔÔ  ¡
	ResourcesÔÔ¡ ª
.ÔÔª « 
lblTimeExceptionÔÔ« »
,ÔÔ» ¼
WindowÔÔ½ Ã
.ÔÔÃ Ä
	GetWindowÔÔÄ Í
(ÔÔÍ Î
thisÔÔÎ Ò
)ÔÔÒ Ó
,ÔÔÓ Ô#
DialogWindowManagerÔÔÕ è
.ÔÔè é
ERRORÔÔé î
)ÔÔî ï
;ÔÔï ð
DoOrUndoTeams
ÕÕ !
(
ÕÕ! "
true
ÕÕ" &
)
ÕÕ& '
;
ÕÕ' (
SetPlayerInLabels
ÖÖ %
(
ÖÖ% &
)
ÖÖ& '
;
ÖÖ' (
}
×× 
catch
ØØ 
(
ØØ $
CommunicationException
ØØ -
ex
ØØ. 0
)
ØØ0 1
{
ÙÙ 

Exceptions
ÚÚ 
.
ÚÚ %
ExceptionHandlerForLogs
ÚÚ 6
.
ÚÚ6 7
LogException
ÚÚ7 C
(
ÚÚC D
ex
ÚÚD F
,
ÚÚF G

Exceptions
ÚÚH R
.
ÚÚR S!
ExceptionDictionary
ÚÚS f
.
ÚÚf g
ERROR
ÚÚg l
)
ÚÚl m
;
ÚÚm n!
DialogWindowManager
ÛÛ '
.
ÛÛ' (#
ShowInfoOrErrorWindow
ÛÛ( =
(
ÛÛ= >

Properties
ÛÛ> H
.
ÛÛH I
	Resources
ÛÛI R
.
ÛÛR S
txbErrorTitle
ÛÛS `
,
ÛÛ` a

Properties
ÛÛb l
.
ÛÛl m
	Resources
ÛÛm v
.
ÛÛv w#
lblFailToManageTeamsÛÛw 
+ÛÛ 
$strÛÛ 
+ÛÛ 

PropertiesÛÛ  
.ÛÛ  ¡
	ResourcesÛÛ¡ ª
.ÛÛª «#
lblWithoutConectionÛÛ« ¾
,ÛÛ¾ ¿
WindowÛÛÀ Æ
.ÛÛÆ Ç
	GetWindowÛÛÇ Ð
(ÛÛÐ Ñ
thisÛÛÑ Õ
)ÛÛÕ Ö
,ÛÛÖ ×#
DialogWindowManagerÛÛØ ë
.ÛÛë ì
ERRORÛÛì ñ
)ÛÛñ ò
;ÛÛò ó
DoOrUndoTeams
ÜÜ !
(
ÜÜ! "
true
ÜÜ" &
)
ÜÜ& '
;
ÜÜ' (
SetPlayerInLabels
ÝÝ %
(
ÝÝ% &
)
ÝÝ& '
;
ÝÝ' (
}
ÞÞ 
}
ßß 
}
àà 	
public
ââ 
void
ââ 
MakeTeamsResponse
ââ %
(
ââ% &
bool
ââ& *
teamUp
ââ+ 1
)
ââ1 2
{
ãã 	
DoOrUndoTeams
ää 
(
ää 
teamUp
ää  
)
ää  !
;
ää! "
SetPlayerInLabels
åå 
(
åå 
)
åå 
;
åå  
}
ææ 	
private
èè 
void
èè 
DoOrUndoTeams
èè "
(
èè" #
bool
èè# '
teamUp
èè( .
)
èè. /
{
éé 	
if
êê 
(
êê 
teamUp
êê 
)
êê 
{
ëë "
currentPlayerInLobby
ìì $
=
ìì% &"
currentPlayerInLobby
ìì' ;
.
ìì; <
Select
ìì< B
(
ììB C
pla
ììC F
=>
ììG I
{
íí 
if
îî 
(
îî 
pla
îî 
.
îî #
NumberOfPlayerInLobby
îî 1
<=
îî2 4
TEMA_RIGHT_SIDE
îî5 D
)
îîD E
{
ïï 
pla
ðð 
.
ðð 

SideOfTeam
ðð &
=
ðð' (
TEAM_LEFT_SIDE
ðð) 7
;
ðð7 8
}
ññ 
else
òò 
{
óó 
pla
ôô 
.
ôô 

SideOfTeam
ôô &
=
ôô' (
TEMA_RIGHT_SIDE
ôô) 8
;
ôô8 9
}
õõ 
return
öö 
pla
öö 
;
öö 
}
÷÷ 
)
÷÷ 
.
÷÷ 
ToList
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷ 
}
øø 
else
ùù 
{
úú "
currentPlayerInLobby
ûû $
=
ûû% &"
currentPlayerInLobby
ûû' ;
.
ûû; <
Select
ûû< B
(
ûûB C
pla
ûûC F
=>
ûûG I
{
üü 
pla
ýý 
.
ýý 

SideOfTeam
ýý "
=
ýý# $
TEAM_LEFT_SIDE
ýý% 3
;
ýý3 4
return
þþ 
pla
þþ 
;
þþ 
}
ÿÿ 
)
ÿÿ 
.
ÿÿ 
ToList
ÿÿ 
(
ÿÿ 
)
ÿÿ 
;
ÿÿ 
}
 
if
 
(
 
!
 
isAdminOfLobby
 
)
  
{
 
	chbTeamUp
 
.
 
	IsChecked
 #
=
$ %
teamUp
& ,
;
, -
}
 
}
 	
private
 
void
 !
ClickChangeTeamSide
 (
(
( )
object
) /
sender
0 6
,
6 7"
MouseButtonEventArgs
8 L
e
M N
)
N O
{
 	
if
 
(
 
isAdminOfLobby
 
&&
 !"
currentPlayerInLobby
" 6
.
6 7
Count
7 <
==
= ?
$num
@ A
&&
B D
(
E F
bool
F J
)
J K
	chbTeamUp
K T
.
T U
	IsChecked
U ^
)
^ _
{
 
string
 
userName
 
=
  !*
GetUserNameFromLabelByBorder
" >
(
> ?
sender
? E
)
E F
;
F G
if
 
(
 
userName
 
!=
 
null
  $
)
$ %
{
 
PlayerInLobby
 !
userChanged
" -
=
. / 
ChangeSideOfPlayer
0 B
(
B C
userName
C K
)
K L
;
L M
if
 
(
 
userChanged
 #
.
# $
IdUser
$ *
!=
+ -
NULL_INT_VALUE
. <
)
< =
{
 
ChangePlayerTeam
 (
(
( )
userChanged
) 4
)
4 5
;
5 6
SetPlayerInLabels
 )
(
) *
)
* +
;
+ ,
}
 
}
 
}
 
}
 	
private
 
void
 
ChangePlayerTeam
 %
(
% &
PlayerInLobby
& 3
userChanged
4 ?
)
? @
{
 	
try
 
{
  
LobbyActionsClient
 "'
lobbyActionsCallBackProxy
# <
=
= >
new
? B 
LobbyActionsClient
C U
(
U V
new
V Y
InstanceContext
Z i
(
i j
this
j n
)
n o
)
o p
;
p q'
lobbyActionsCallBackProxy
 )
.
) * 
RenewLobbyCallBack
* <
(
< =
roomCode
= E
,
E F
userSingleton
G T
.
T U
IdUser
U [
)
[ \
;
\ ])
LobbyActionsOperationClient
   +
lobbyActionsProxy
  , =
=
  > ?
new
  @ C
(
  C D
)
  D E
;
  E F
lobbyActionsProxy
¡¡ !
.
¡¡! "
ChangePlayerSide
¡¡" 2
(
¡¡2 3
roomCode
¡¡3 ;
,
¡¡; <
userChanged
¡¡= H
.
¡¡H I
IdUser
¡¡I O
,
¡¡O P
userChanged
¡¡Q \
.
¡¡\ ]

SideOfTeam
¡¡] g
)
¡¡g h
;
¡¡h i
}
¢¢ 
catch
££ 
(
££ '
EndpointNotFoundException
££ ,
ex
££- /
)
££/ 0
{
¤¤ 

Exceptions
¥¥ 
.
¥¥ %
ExceptionHandlerForLogs
¥¥ 2
.
¥¥2 3
LogException
¥¥3 ?
(
¥¥? @
ex
¥¥@ B
,
¥¥B C

Exceptions
¥¥D N
.
¥¥N O!
ExceptionDictionary
¥¥O b
.
¥¥b c
ERROR
¥¥c h
)
¥¥h i
;
¥¥i j!
DialogWindowManager
¦¦ #
.
¦¦# $#
ShowInfoOrErrorWindow
¦¦$ 9
(
¦¦9 :

Properties
¦¦: D
.
¦¦D E
	Resources
¦¦E N
.
¦¦N O
txbErrorTitle
¦¦O \
,
¦¦\ ]

Properties
¦¦^ h
.
¦¦h i
	Resources
¦¦i r
.
¦¦r s#
lblFailToManageTeams¦¦s 
+¦¦ 
$str¦¦ 
+¦¦ 

Properties¦¦ 
.¦¦ 
	Resources¦¦ ¦
.¦¦¦ §#
lblEndPointNotFound¦¦§ º
,¦¦º »
Window¦¦¼ Â
.¦¦Â Ã
	GetWindow¦¦Ã Ì
(¦¦Ì Í
this¦¦Í Ñ
)¦¦Ñ Ò
,¦¦Ò Ó#
DialogWindowManager¦¦Ô ç
.¦¦ç è
ERROR¦¦è í
)¦¦í î
;¦¦î ï 
ChangeSideOfPlayer
§§ "
(
§§" #
userChanged
§§# .
.
§§. /
UserName
§§/ 7
)
§§7 8
;
§§8 9
}
¨¨ 
catch
©© 
(
©© 1
#CommunicationObjectFaultedException
©© 6
ex
©©7 9
)
©©9 :
{
ªª 

Exceptions
«« 
.
«« %
ExceptionHandlerForLogs
«« 2
.
««2 3
LogException
««3 ?
(
««? @
ex
««@ B
,
««B C

Exceptions
««D N
.
««N O!
ExceptionDictionary
««O b
.
««b c
ERROR
««c h
)
««h i
;
««i j!
DialogWindowManager
¬¬ #
.
¬¬# $#
ShowInfoOrErrorWindow
¬¬$ 9
(
¬¬9 :

Properties
¬¬: D
.
¬¬D E
	Resources
¬¬E N
.
¬¬N O
txbErrorTitle
¬¬O \
,
¬¬\ ]

Properties
¬¬^ h
.
¬¬h i
	Resources
¬¬i r
.
¬¬r s#
lblFailToManageTeams¬¬s 
+¬¬ 
$str¬¬ 
+¬¬ 

Properties¬¬ 
.¬¬ 
	Resources¬¬ ¦
.¬¬¦ §(
lblComunicationException¬¬§ ¿
,¬¬¿ À
Window¬¬Á Ç
.¬¬Ç È
	GetWindow¬¬È Ñ
(¬¬Ñ Ò
this¬¬Ò Ö
)¬¬Ö ×
,¬¬× Ø#
DialogWindowManager¬¬Ù ì
.¬¬ì í
ERROR¬¬í ò
)¬¬ò ó
;¬¬ó ô 
ChangeSideOfPlayer
­­ "
(
­­" #
userChanged
­­# .
.
­­. /
UserName
­­/ 7
)
­­7 8
;
­­8 9
}
®® 
catch
¯¯ 
(
¯¯ 
TimeoutException
¯¯ #
ex
¯¯$ &
)
¯¯& '
{
°° 

Exceptions
±± 
.
±± %
ExceptionHandlerForLogs
±± 2
.
±±2 3
LogException
±±3 ?
(
±±? @
ex
±±@ B
,
±±B C

Exceptions
±±D N
.
±±N O!
ExceptionDictionary
±±O b
.
±±b c
ERROR
±±c h
)
±±h i
;
±±i j!
DialogWindowManager
²² #
.
²²# $#
ShowInfoOrErrorWindow
²²$ 9
(
²²9 :

Properties
²²: D
.
²²D E
	Resources
²²E N
.
²²N O
txbErrorTitle
²²O \
,
²²\ ]

Properties
²²^ h
.
²²h i
	Resources
²²i r
.
²²r s#
lblFailToManageTeams²²s 
+²² 
$str²² 
+²² 

Properties²² 
.²² 
	Resources²² ¦
.²²¦ § 
lblTimeException²²§ ·
,²²· ¸
Window²²¹ ¿
.²²¿ À
	GetWindow²²À É
(²²É Ê
this²²Ê Î
)²²Î Ï
,²²Ï Ð#
DialogWindowManager²²Ñ ä
.²²ä å
ERROR²²å ê
)²²ê ë
;²²ë ì 
ChangeSideOfPlayer
³³ "
(
³³" #
userChanged
³³# .
.
³³. /
UserName
³³/ 7
)
³³7 8
;
³³8 9
}
´´ 
catch
µµ 
(
µµ $
CommunicationException
µµ )
ex
µµ* ,
)
µµ, -
{
¶¶ 

Exceptions
·· 
.
·· %
ExceptionHandlerForLogs
·· 2
.
··2 3
LogException
··3 ?
(
··? @
ex
··@ B
,
··B C

Exceptions
··D N
.
··N O!
ExceptionDictionary
··O b
.
··b c
ERROR
··c h
)
··h i
;
··i j!
DialogWindowManager
¸¸ #
.
¸¸# $#
ShowInfoOrErrorWindow
¸¸$ 9
(
¸¸9 :

Properties
¸¸: D
.
¸¸D E
	Resources
¸¸E N
.
¸¸N O
txbErrorTitle
¸¸O \
,
¸¸\ ]

Properties
¸¸^ h
.
¸¸h i
	Resources
¸¸i r
.
¸¸r s#
lblFailToManageTeams¸¸s 
+¸¸ 
$str¸¸ 
+¸¸ 

Properties¸¸ 
.¸¸ 
	Resources¸¸ ¦
.¸¸¦ §#
lblWithoutConection¸¸§ º
,¸¸º »
Window¸¸¼ Â
.¸¸Â Ã
	GetWindow¸¸Ã Ì
(¸¸Ì Í
this¸¸Í Ñ
)¸¸Ñ Ò
,¸¸Ò Ó#
DialogWindowManager¸¸Ô ç
.¸¸ç è
ERROR¸¸è í
)¸¸í î
;¸¸î ï 
ChangeSideOfPlayer
¹¹ "
(
¹¹" #
userChanged
¹¹# .
.
¹¹. /
UserName
¹¹/ 7
)
¹¹7 8
;
¹¹8 9
}
ºº 
}
»» 	
private
½½ 
PlayerInLobby
½½  
ChangeSideOfPlayer
½½ 0
(
½½0 1
String
½½1 7
userName
½½8 @
)
½½@ A
{
¾¾ 	"
currentPlayerInLobby
¿¿  
=
¿¿! ""
currentPlayerInLobby
¿¿# 7
.
¿¿7 8
Select
¿¿8 >
(
¿¿> ?
pla
¿¿? B
=>
¿¿C E
{
ÀÀ 
if
ÁÁ 
(
ÁÁ 
pla
ÁÁ 
.
ÁÁ 
UserName
ÁÁ  
.
ÁÁ  !
Equals
ÁÁ! '
(
ÁÁ' (
userName
ÁÁ( 0
)
ÁÁ0 1
)
ÁÁ1 2
{
ÂÂ 
if
ÃÃ 
(
ÃÃ 
pla
ÃÃ 
.
ÃÃ 

SideOfTeam
ÃÃ &
==
ÃÃ' )
TEAM_LEFT_SIDE
ÃÃ* 8
)
ÃÃ8 9
{
ÄÄ 
pla
ÅÅ 
.
ÅÅ 

SideOfTeam
ÅÅ &
=
ÅÅ' (
TEMA_RIGHT_SIDE
ÅÅ) 8
;
ÅÅ8 9
}
ÆÆ 
else
ÇÇ 
{
ÈÈ 
pla
ÉÉ 
.
ÉÉ 

SideOfTeam
ÉÉ &
=
ÉÉ' (
TEAM_LEFT_SIDE
ÉÉ) 7
;
ÉÉ7 8
}
ÊÊ 
}
ËË 
return
ÌÌ 
pla
ÌÌ 
;
ÌÌ 
}
ÍÍ 
)
ÍÍ 
.
ÍÍ 
ToList
ÍÍ 
(
ÍÍ 
)
ÍÍ 
;
ÍÍ 
PlayerInLobby
ÎÎ 
player
ÎÎ  
=
ÎÎ! ""
currentPlayerInLobby
ÎÎ# 7
.
ÎÎ7 8
Find
ÎÎ8 <
(
ÎÎ< =
x
ÎÎ= >
=>
ÎÎ? A
x
ÎÎB C
.
ÎÎC D
UserName
ÎÎD L
.
ÎÎL M
Equals
ÎÎM S
(
ÎÎS T
userName
ÎÎT \
)
ÎÎ\ ]
)
ÎÎ] ^
;
ÎÎ^ _
return
ÏÏ 
player
ÏÏ 
;
ÏÏ 
}
ÐÐ 	
private
ÒÒ 
String
ÒÒ *
GetUserNameFromLabelByBorder
ÒÒ 3
(
ÒÒ3 4
object
ÒÒ4 :
sender
ÒÒ; A
)
ÒÒA B
{
ÓÓ 	
Border
ÔÔ 
	brdChosen
ÔÔ 
=
ÔÔ 
(
ÔÔ  
Border
ÔÔ  &
)
ÔÔ& '
sender
ÔÔ' -
;
ÔÔ- .

StackPanel
ÕÕ 
	stcChosen
ÕÕ  
=
ÕÕ! "
(
ÕÕ# $

StackPanel
ÕÕ$ .
)
ÕÕ. /
	brdChosen
ÕÕ/ 8
.
ÕÕ8 9
Child
ÕÕ9 >
;
ÕÕ> ?
Label
ÖÖ 
label
ÖÖ 
=
ÖÖ 
	stcChosen
ÖÖ #
.
ÖÖ# $
Children
ÖÖ$ ,
.
ÖÖ, -
OfType
ÖÖ- 3
<
ÖÖ3 4
Label
ÖÖ4 9
>
ÖÖ9 :
(
ÖÖ: ;
)
ÖÖ; <
.
ÖÖ< =
FirstOrDefault
ÖÖ= K
(
ÖÖK L
)
ÖÖL M
;
ÖÖM N
return
×× 
label
×× 
?
×× 
.
×× 
Content
×× !
?
××! "
.
××" #
ToString
××# +
(
××+ ,
)
××, -
;
××- .
}
ØØ 	
public
ÚÚ 
void
ÚÚ 
UpdateTeamSide
ÚÚ "
(
ÚÚ" #8
*GenericClassOfArrayOfPlayerInLobbyxY0a3WX4
ÚÚ# M
playersInTheLobby
ÚÚN _
)
ÚÚ_ `
{
ÛÛ 	
if
ÜÜ 
(
ÜÜ 
playersInTheLobby
ÜÜ !
.
ÜÜ! "
	CodeEvent
ÜÜ" +
==
ÜÜ, .!
ExceptionDictionary
ÜÜ/ B
.
ÜÜB C
SUCCESFULL_EVENT
ÜÜC S
)
ÜÜS T
{
ÝÝ "
currentPlayerInLobby
ÞÞ $
=
ÞÞ% &
playersInTheLobby
ÞÞ' 8
.
ÞÞ8 9
ObjectSaved
ÞÞ9 D
.
ÞÞD E
ToList
ÞÞE K
(
ÞÞK L
)
ÞÞL M
;
ÞÞM N
SetPlayerInLabels
ßß !
(
ßß! "
)
ßß" #
;
ßß# $
}
àà 
}
áá 	
private
ãã 
void
ãã "
CLicButtonCancelGame
ãã )
(
ãã) *
object
ãã* 0
sender
ãã1 7
,
ãã7 8
RoutedEventArgs
ãã9 H
e
ããI J
)
ããJ K
{
ää 	
if
åå 
(
åå !
DialogWindowManager
åå #
.
åå# $$
ShowWindowConfirmation
åå$ :
(
åå: ;

Properties
åå; E
.
ååE F
	Resources
ååF O
.
ååO P
txbWarningTitle
ååP _
,
åå_ `

Properties
ååa k
.
ååk l
	Resources
åål u
.
ååu v
	txbCancel
ååv 
,åå 
Windowåå 
.åå 
	GetWindowåå 
(åå 
thisåå 
)åå 
)åå 
)åå 
{
ææ 
try
çç 
{
èè )
LobbyActionsOperationClient
éé /
lobbyActionsProxy
éé0 A
=
ééB C
new
ééD G
(
ééG H
)
ééH I
;
ééI J
if
êê 
(
êê 
isAdminOfLobby
êê &
)
êê& '
{
ëë 
lobbyActionsProxy
ìì )
.
ìì) *
DissolveLobby
ìì* 7
(
ìì7 8
roomCode
ìì8 @
,
ìì@ A
userSingleton
ììB O
.
ììO P
IdUser
ììP V
)
ììV W
;
ììW X
}
íí 
else
îî 
{
ïï 
lobbyActionsProxy
ðð )
.
ðð) *

LeaveLobby
ðð* 4
(
ðð4 5
roomCode
ðð5 =
,
ðð= >
userSingleton
ðð? L
.
ððL M
IdUser
ððM S
)
ððS T
;
ððT U
}
ññ 
}
òò 
catch
óó 
(
óó '
EndpointNotFoundException
óó 0
ex
óó1 3
)
óó3 4
{
ôô 

Exceptions
õõ 
.
õõ %
ExceptionHandlerForLogs
õõ 6
.
õõ6 7
LogException
õõ7 C
(
õõC D
ex
õõD F
,
õõF G

Exceptions
õõH R
.
õõR S!
ExceptionDictionary
õõS f
.
õõf g
ERROR
õõg l
)
õõl m
;
õõm n
}
öö 
catch
÷÷ 
(
÷÷ 1
#CommunicationObjectFaultedException
÷÷ :
ex
÷÷; =
)
÷÷= >
{
øø 

Exceptions
ùù 
.
ùù %
ExceptionHandlerForLogs
ùù 6
.
ùù6 7
LogException
ùù7 C
(
ùùC D
ex
ùùD F
,
ùùF G

Exceptions
ùùH R
.
ùùR S!
ExceptionDictionary
ùùS f
.
ùùf g
ERROR
ùùg l
)
ùùl m
;
ùùm n
}
úú 
catch
ûû 
(
ûû 
TimeoutException
ûû '
ex
ûû( *
)
ûû* +
{
üü 

Exceptions
ýý 
.
ýý %
ExceptionHandlerForLogs
ýý 6
.
ýý6 7
LogException
ýý7 C
(
ýýC D
ex
ýýD F
,
ýýF G

Exceptions
ýýH R
.
ýýR S!
ExceptionDictionary
ýýS f
.
ýýf g
ERROR
ýýg l
)
ýýl m
;
ýým n
}
þþ 
catch
ÿÿ 
(
ÿÿ $
CommunicationException
ÿÿ -
ex
ÿÿ. 0
)
ÿÿ0 1
{
 

Exceptions
 
.
 %
ExceptionHandlerForLogs
 6
.
6 7
LogException
7 C
(
C D
ex
D F
,
F G

Exceptions
H R
.
R S!
ExceptionDictionary
S f
.
f g
ERROR
g l
)
l m
;
m n
}
 
CloseWindow
 
(
 
)
 
;
 
}
 
}
 	
private
 
void
 
CloseWindow
  
(
  !
)
! "
{
 	
if
 
(
 
userSingleton
 
.
 
IdState
 %
!=
& (
$num
) *
)
* +
{
 
MainMenu
 
mainMenu
 !
=
" #
new
$ '
MainMenu
( 0
(
0 1
)
1 2
;
2 3
this
 
.
 
NavigationService
 &
.
& '
Navigate
' /
(
/ 0
mainMenu
0 8
)
8 9
;
9 :
NavigationService
 !
.
! "
RemoveBackEntry
" 1
(
1 2
)
2 3
;
3 4
}
 
else
 
{
 
DeleteSingleton
 
(
  
)
  !
;
! "
PrincipalPage
 
principalPage
 +
=
, -
new
. 1
PrincipalPage
2 ?
(
? @
)
@ A
;
A B
this
 
.
 
NavigationService
 &
.
& '
Navigate
' /
(
/ 0
principalPage
0 =
)
= >
;
> ?
NavigationService
 !
.
! "
RemoveBackEntry
" 1
(
1 2
)
2 3
;
3 4
}
 
}
 	
public
 
void
 
DissolvingLobby
 #
(
# $
)
$ %
{
 	!
DialogWindowManager
 
.
  #
ShowInfoOrErrorWindow
  5
(
5 6

Properties
6 @
.
@ A
	Resources
A J
.
J K
txbWarningTitle
K Z
,
Z [

Properties
\ f
.
f g
	Resources
g p
.
p q
GameCancelled
q ~
,
~ 
Window 
. 
	GetWindow 
( 
this 
) 
, #
DialogWindowManager «
.« ¬
INFORMATION¬ ·
)· ¸
;¸ ¹
CloseWindow
 
(
 
)
 
;
 
}
 	
private
 
void
 
DeleteSingleton
 $
(
$ %
)
% &
{
 	
try
 
{
   &
GuestPlayerManagerClient
¡¡ (%
guestPlayerManagerProxy
¡¡) @
=
¡¡A B
new
¡¡C F
(
¡¡F G
)
¡¡G H
;
¡¡H I%
guestPlayerManagerProxy
¢¢ '
.
¢¢' (
DeleteGuest
¢¢( 3
(
¢¢3 4
userSingleton
¢¢4 A
.
¢¢A B
IdUser
¢¢B H
)
¢¢H I
;
¢¢I J
}
££ 
catch
¤¤ 
(
¤¤ '
EndpointNotFoundException
¤¤ ,
ex
¤¤- /
)
¤¤/ 0
{
¥¥ %
ExceptionHandlerForLogs
¦¦ '
.
¦¦' (
LogException
¦¦( 4
(
¦¦4 5
ex
¦¦5 7
,
¦¦7 8!
ExceptionDictionary
¦¦9 L
.
¦¦L M
FATAL_EXCEPTION
¦¦M \
)
¦¦\ ]
;
¦¦] ^
}
§§ 
catch
¨¨ 
(
¨¨ 1
#CommunicationObjectFaultedException
¨¨ 6
ex
¨¨7 9
)
¨¨9 :
{
©© %
ExceptionHandlerForLogs
ªª '
.
ªª' (
LogException
ªª( 4
(
ªª4 5
ex
ªª5 7
,
ªª7 8!
ExceptionDictionary
ªª9 L
.
ªªL M
FATAL_EXCEPTION
ªªM \
)
ªª\ ]
;
ªª] ^
}
«« 
catch
¬¬ 
(
¬¬ 
TimeoutException
¬¬ #
ex
¬¬$ &
)
¬¬& '
{
­­ %
ExceptionHandlerForLogs
®® '
.
®®' (
LogException
®®( 4
(
®®4 5
ex
®®5 7
,
®®7 8!
ExceptionDictionary
®®9 L
.
®®L M
FATAL_EXCEPTION
®®M \
)
®®\ ]
;
®®] ^
}
¯¯ 
catch
°° 
(
°° $
CommunicationException
°° )
ex
°°* ,
)
°°, -
{
±± 
HandleException
²² 
(
²²  
ex
²²  "
,
²²" #

Properties
²²$ .
.
²². /
	Resources
²²/ 8
.
²²8 9!
lblWithoutConection
²²9 L
)
²²L M
;
²²M N
}
³³ 
UserSingleton
´´ 
.
´´ 
CleanSingleton
´´ (
(
´´( )
)
´´) *
;
´´* +
}
µµ 	
private
·· 
void
·· 
ClickOpenChat
·· "
(
··" #
object
··# )
sender
··* 0
,
··0 1"
MouseButtonEventArgs
··2 F
e
··G H
)
··H I
{
¸¸ 	
if
¹¹ 
(
¹¹ 
liveChatInstance
¹¹  
==
¹¹! #
null
¹¹$ (
)
¹¹( )
{
ºº 
liveChatInstance
»»  
=
»»! "
new
»»# &
LiveChat
»»' /
(
»»/ 0
)
»»0 1
;
»»1 2
liveChatInstance
¼¼  
.
¼¼  !
	StartPage
¼¼! *
(
¼¼* +
isAdminOfLobby
¼¼+ 9
,
¼¼9 :
roomCode
¼¼; C
,
¼¼C D
this
¼¼E I
)
¼¼I J
;
¼¼J K
}
½½ 
liveChatInstance
¾¾ 
.
¾¾ #
RenewLiveChatCallBack
¾¾ 2
(
¾¾2 3
)
¾¾3 4
;
¾¾4 5%
frmActiveFriendsAndChat
¿¿ #
.
¿¿# $
Content
¿¿$ +
=
¿¿, -
liveChatInstance
¿¿. >
;
¿¿> ?
grdActiveUser
ÀÀ 
.
ÀÀ 

Visibility
ÀÀ $
=
ÀÀ% &

Visibility
ÀÀ' 1
.
ÀÀ1 2
Visible
ÀÀ2 9
;
ÀÀ9 :
}
ÁÁ 	
public
ÃÃ 
void
ÃÃ 
ReceiveMessage
ÃÃ "
(
ÃÃ" #/
!GenericClassOfMessageChatxY0a3WX4
ÃÃ# D
message
ÃÃE L
)
ÃÃL M
{
ÄÄ 	
(
ÅÅ 
(
ÅÅ 
ILiveChatCallback
ÅÅ 
)
ÅÅ  
liveChatInstance
ÅÅ  0
)
ÅÅ0 1
.
ÅÅ1 2
ReceiveMessage
ÅÅ2 @
(
ÅÅ@ A
message
ÅÅA H
)
ÅÅH I
;
ÅÅI J
}
ÆÆ 	
private
ÇÇ 
void
ÇÇ 
ClickListFriends
ÇÇ %
(
ÇÇ% &
object
ÇÇ& ,
sender
ÇÇ- 3
,
ÇÇ3 4"
MouseButtonEventArgs
ÇÇ5 I
e
ÇÇJ K
)
ÇÇK L
{
ÈÈ 	
if
ÉÉ 
(
ÉÉ !
activeUsersInstance
ÉÉ #
==
ÉÉ$ &
null
ÉÉ' +
)
ÉÉ+ ,
{
ÊÊ !
activeUsersInstance
ËË #
=
ËË$ %
new
ËË& )
ActiveFriends
ËË* 7
(
ËË7 8
userSingleton
ËË8 E
.
ËËE F
IdUser
ËËF L
)
ËËL M
;
ËËM N!
activeUsersInstance
ÌÌ #
.
ÌÌ# $
	StartPage
ÌÌ$ -
(
ÌÌ- .
this
ÌÌ. 2
)
ÌÌ2 3
;
ÌÌ3 4
}
ÍÍ !
activeUsersInstance
ÎÎ 
.
ÎÎ  (
RenewFriendCallBackChannel
ÎÎ  :
(
ÎÎ: ;
userSingleton
ÎÎ; H
.
ÎÎH I
IdUser
ÎÎI O
)
ÎÎO P
;
ÎÎP Q%
frmActiveFriendsAndChat
ÏÏ #
.
ÏÏ# $
Content
ÏÏ$ +
=
ÏÏ, -!
activeUsersInstance
ÏÏ. A
;
ÏÏA B
grdActiveUser
ÐÐ 
.
ÐÐ 

Visibility
ÐÐ $
=
ÐÐ% &

Visibility
ÐÐ' 1
.
ÐÐ1 2
Visible
ÐÐ2 9
;
ÐÐ9 :
}
ÑÑ 	
private
ÓÓ 
void
ÓÓ %
NotifyFriendsIamPlaying
ÓÓ ,
(
ÓÓ, -
)
ÓÓ- .
{
ÔÔ 	
try
ÕÕ 
{
ÖÖ -
AvailabilityUserManagmentClient
×× /#
availabilityUserProxy
××0 E
=
××F G
new
××H K
(
××K L
)
××L M
;
××M N#
availabilityUserProxy
ØØ %
.
ØØ% &
PlayerIsPlaying
ØØ& 5
(
ØØ5 6
userSingleton
ØØ6 C
.
ØØC D
IdUser
ØØD J
)
ØØJ K
;
ØØK L
}
ÙÙ 
catch
ÚÚ 
(
ÚÚ '
EndpointNotFoundException
ÚÚ ,
ex
ÚÚ- /
)
ÚÚ/ 0
{
ÛÛ %
ExceptionHandlerForLogs
ÜÜ '
.
ÜÜ' (
LogException
ÜÜ( 4
(
ÜÜ4 5
ex
ÜÜ5 7
,
ÜÜ7 8!
ExceptionDictionary
ÜÜ9 L
.
ÜÜL M
FATAL_EXCEPTION
ÜÜM \
)
ÜÜ\ ]
;
ÜÜ] ^!
DialogWindowManager
ÝÝ #
.
ÝÝ# $#
ShowInfoOrErrorWindow
ÝÝ$ 9
(
ÝÝ9 :

Properties
ÝÝ: D
.
ÝÝD E
	Resources
ÝÝE N
.
ÝÝN O
txbErrorTitle
ÝÝO \
,
ÝÝ\ ]

Properties
ÝÝ^ h
.
ÝÝh i
	Resources
ÝÝi r
.
ÝÝr s)
lblFailToNotifyYourFriendsÝÝs 
+ÝÝ 
$strÝÝ 
+ÝÝ 

PropertiesÝÝ ¢
.ÝÝ¢ £
	ResourcesÝÝ£ ¬
.ÝÝ¬ ­#
lblEndPointNotFoundÝÝ­ À
,ÝÝÀ Á
WindowÝÝÂ È
.ÝÝÈ É
	GetWindowÝÝÉ Ò
(ÝÝÒ Ó
thisÝÝÓ ×
)ÝÝ× Ø
,ÝÝØ Ù#
DialogWindowManagerÝÝÚ í
.ÝÝí î
ERRORÝÝî ó
)ÝÝó ô
;ÝÝô õ
}
ÞÞ 
catch
ßß 
(
ßß 1
#CommunicationObjectFaultedException
ßß 6
ex
ßß7 9
)
ßß9 :
{
àà %
ExceptionHandlerForLogs
áá '
.
áá' (
LogException
áá( 4
(
áá4 5
ex
áá5 7
,
áá7 8!
ExceptionDictionary
áá9 L
.
ááL M
FATAL_EXCEPTION
ááM \
)
áá\ ]
;
áá] ^!
DialogWindowManager
ââ #
.
ââ# $#
ShowInfoOrErrorWindow
ââ$ 9
(
ââ9 :

Properties
ââ: D
.
ââD E
	Resources
ââE N
.
ââN O
txbErrorTitle
ââO \
,
ââ\ ]

Properties
ââ^ h
.
ââh i
	Resources
ââi r
.
ââr s)
lblFailToNotifyYourFriendsââs 
+ââ 
$strââ 
+ââ 

Propertiesââ ¢
.ââ¢ £
	Resourcesââ£ ¬
.ââ¬ ­(
lblComunicationExceptionââ­ Å
,ââÅ Æ
WindowââÇ Í
.ââÍ Î
	GetWindowââÎ ×
(ââ× Ø
thisââØ Ü
)ââÜ Ý
,ââÝ Þ#
DialogWindowManagerââß ò
.ââò ó
ERRORââó ø
)ââø ù
;ââù ú
}
ãã 
catch
ää 
(
ää 
TimeoutException
ää #
ex
ää$ &
)
ää& '
{
åå %
ExceptionHandlerForLogs
ææ '
.
ææ' (
LogException
ææ( 4
(
ææ4 5
ex
ææ5 7
,
ææ7 8!
ExceptionDictionary
ææ9 L
.
ææL M
FATAL_EXCEPTION
ææM \
)
ææ\ ]
;
ææ] ^!
DialogWindowManager
çç #
.
çç# $#
ShowInfoOrErrorWindow
çç$ 9
(
çç9 :

Properties
çç: D
.
ççD E
	Resources
ççE N
.
ççN O
txbErrorTitle
ççO \
,
çç\ ]

Properties
çç^ h
.
ççh i
	Resources
ççi r
.
ççr s)
lblFailToNotifyYourFriendsççs 
+çç 
$strçç 
+çç 

Propertiesçç ¢
.çç¢ £
	Resourcesçç£ ¬
.çç¬ ­ 
lblTimeExceptionçç­ ½
,çç½ ¾
Windowçç¿ Å
.ççÅ Æ
	GetWindowççÆ Ï
(ççÏ Ð
thisççÐ Ô
)ççÔ Õ
,ççÕ Ö#
DialogWindowManagerçç× ê
.ççê ë
ERRORççë ð
)ççð ñ
;ççñ ò
}
èè 
catch
éé 
(
éé $
CommunicationException
éé )
ex
éé* ,
)
éé, -
{
êê %
ExceptionHandlerForLogs
ëë '
.
ëë' (
LogException
ëë( 4
(
ëë4 5
ex
ëë5 7
,
ëë7 8!
ExceptionDictionary
ëë9 L
.
ëëL M
FATAL_EXCEPTION
ëëM \
)
ëë\ ]
;
ëë] ^!
DialogWindowManager
ìì #
.
ìì# $#
ShowInfoOrErrorWindow
ìì$ 9
(
ìì9 :

Properties
ìì: D
.
ììD E
	Resources
ììE N
.
ììN O
txbErrorTitle
ììO \
,
ìì\ ]

Properties
ìì^ h
.
ììh i
	Resources
ììi r
.
ììr s)
lblFailToNotifyYourFriendsììs 
+ìì 
$strìì 
+ìì 

Propertiesìì ¢
.ìì¢ £
	Resourcesìì£ ¬
.ìì¬ ­#
lblWithoutConectionìì­ À
,ììÀ Á
WindowììÂ È
.ììÈ É
	GetWindowììÉ Ò
(ììÒ Ó
thisììÓ ×
)ìì× Ø
,ììØ Ù#
DialogWindowManagerììÚ í
.ììí î
ERRORììî ó
)ììó ô
;ììô õ
}
íí 
}
îî 	
public
ðð 
void
ðð +
CloseSubFrameOfChatAndFriends
ðð 1
(
ðð1 2
)
ðð2 3
{
ññ 	%
frmActiveFriendsAndChat
òò #
.
òò# $
Content
òò$ +
=
òò, -
null
òò. 2
;
òò2 3
grdActiveUser
óó 
.
óó 

Visibility
óó $
=
óó% &

Visibility
óó' 1
.
óó1 2
Hidden
óó2 8
;
óó8 9
}
ôô 	
public
õõ 
void
õõ *
ResponseOfPlayerAvailability
õõ 0
(
õõ0 1
int
õõ1 4
status
õõ5 ;
,
õõ; <
int
õõ= @
idFriend
õõA I
)
õõI J
{
öö 	
(
÷÷ 
(
÷÷ -
INotifyUserAvailabilityCallback
÷÷ -
)
÷÷- .!
activeUsersInstance
÷÷. A
)
÷÷A B
.
÷÷B C*
ResponseOfPlayerAvailability
÷÷C _
(
÷÷_ `
status
÷÷` f
,
÷÷f g
idFriend
÷÷h p
)
÷÷p q
;
÷÷q r
}
øø 	
public
ûû 
void
ûû %
NotifyQuestionsAreReady
ûû +
(
ûû+ ,
int
ûû, /
	codeEvent
ûû0 9
)
ûû9 :
{
üü 	
if
ýý 
(
ýý 
	codeEvent
ýý 
==
ýý !
ExceptionDictionary
ýý 0
.
ýý0 1
SUCCESFULL_EVENT
ýý1 A
)
ýýA B
{
þþ 
bttStartGame
ÿÿ 
.
ÿÿ 
	IsEnabled
ÿÿ &
=
ÿÿ' (
true
ÿÿ) -
;
ÿÿ- .
}
 
else
 
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s

lblNotGame
s }
,
} ~
Window 
. 
	GetWindow 
( 
this 
) 
, #
DialogWindowManager ª
.ª «
ERROR« °
)° ±
;± ²
}
 
}
 	
private
 
void
 
ClickStartGame
 #
(
# $
object
$ *
sender
+ 1
,
1 2
RoutedEventArgs
3 B
e
C D
)
D E
{
 	
if
 
(
 
(
 
bool
 
)
 
	chbTeamUp
 
.
  
	IsChecked
  )
)
) *
{
 
if
 
(
 "
currentPlayerInLobby
 (
.
( )
Where
) .
(
. /
pl
/ 1
=>
2 4
pl
5 7
.
7 8

SideOfTeam
8 B
==
C E
TEAM_LEFT_SIDE
F T
)
T U
.
U V
ToList
V \
(
\ ]
)
] ^
.
^ _
Count
_ d
==
e g"
currentPlayerInLobby
h |
.
| }
Where} 
( 
pl 
=> 
pl 
. 

SideOfTeam 
== 
TEMA_RIGHT_SIDE ©
)© ª
.ª «
ToList« ±
(± ²
)² ³
.³ ´
Count´ ¹
)¹ º
{
 #
CallMethodToStartGame
 )
(
) *
)
* +
;
+ ,
}
 
else
 
{
 !
DialogWindowManager
 '
.
' (#
ShowInfoOrErrorWindow
( =
(
= >

Properties
> H
.
H I
	Resources
I R
.
R S
txbErrorTitle
S `
,
` a

Properties
b l
.
l m
	Resources
m v
.
v w
_2PlayerByTeamw 
, 
Window 
. 
	GetWindow 
( 
this 
) 
, #
DialogWindowManager ²
.² ³
ERROR³ ¸
)¸ ¹
;¹ º
}
 
}
 
else
 
if
 
(
 "
currentPlayerInLobby
 )
.
) *
Count
* /
>
0 1
$num
2 3
)
3 4
{
 #
CallMethodToStartGame
 %
(
% &
)
& '
;
' (
}
 
else
 
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s
MoreThan1Players 
, 
Window 
. 
	GetWindow 
( 
this 
) 
, #
DialogWindowManager ¯
.¯ °
ERROR° µ
)µ ¶
;¶ ·
}
 
}
 	
private
 
void
 #
CallMethodToStartGame
 *
(
* +
)
+ ,
{
   	
try
¡¡ 
{
¢¢ )
LobbyActionsOperationClient
££ +
lobbyActionsProxy
££, =
=
££> ?
new
££@ C
(
££C D
)
££D E
;
££E F
lobbyActionsProxy
¤¤ !
.
¤¤! "
	StartGame
¤¤" +
(
¤¤+ ,
roomCode
¤¤, 4
)
¤¤4 5
;
¤¤5 6
}
¥¥ 
catch
¦¦ 
(
¦¦ '
EndpointNotFoundException
¦¦ ,
ex
¦¦- /
)
¦¦/ 0
{
§§ 
HandleException
¨¨ 
(
¨¨  
ex
¨¨  "
,
¨¨" #

Properties
¨¨$ .
.
¨¨. /
	Resources
¨¨/ 8
.
¨¨8 9 
lblFailToStartGame
¨¨9 K
+
¨¨L M
$str
¨¨N S
+
¨¨T U

Properties
¨¨V `
.
¨¨` a
	Resources
¨¨a j
.
¨¨j k!
lblEndPointNotFound
¨¨k ~
)
¨¨~ 
;¨¨ 
}
©© 
catch
ªª 
(
ªª 1
#CommunicationObjectFaultedException
ªª 6
ex
ªª7 9
)
ªª9 :
{
«« 
HandleException
¬¬ 
(
¬¬  
ex
¬¬  "
,
¬¬" #

Properties
¬¬$ .
.
¬¬. /
	Resources
¬¬/ 8
.
¬¬8 9 
lblFailToStartGame
¬¬9 K
+
¬¬L M
$str
¬¬N S
+
¬¬T U

Properties
¬¬V `
.
¬¬` a
	Resources
¬¬a j
.
¬¬j k'
lblComunicationException¬¬k 
)¬¬ 
;¬¬ 
}
­­ 
catch
®® 
(
®® 
TimeoutException
®® #
ex
®®$ &
)
®®& '
{
¯¯ 
HandleException
°° 
(
°°  
ex
°°  "
,
°°" #

Properties
°°$ .
.
°°. /
	Resources
°°/ 8
.
°°8 9 
lblFailToStartGame
°°9 K
+
°°L M
$str
°°N S
+
°°T U

Properties
°°V `
.
°°` a
	Resources
°°a j
.
°°j k
lblTimeException
°°k {
)
°°{ |
;
°°| }
}
±± 
catch
²² 
(
²² $
CommunicationException
²² )
ex
²²* ,
)
²², -
{
³³ 
HandleException
´´ 
(
´´  
ex
´´  "
,
´´" #

Properties
´´$ .
.
´´. /
	Resources
´´/ 8
.
´´8 9 
lblFailToStartGame
´´9 K
+
´´L M
$str
´´N S
+
´´T U

Properties
´´V `
.
´´` a
	Resources
´´a j
.
´´j k!
lblWithoutConection
´´k ~
)
´´~ 
;´´ 
}
µµ 
}
¶¶ 	
public
¸¸ 
void
¸¸ !
NotifyGameWillStart
¸¸ '
(
¸¸' (%
QuestionCardInformation
¸¸( ?
[
¸¸? @
]
¸¸@ A
questionsForGame
¸¸B R
)
¸¸R S
{
¹¹ 	
	GameBoard
ºº 
game
ºº 
=
ºº 
new
ºº  
	GameBoard
ºº! *
(
ºº* +
questionsForGame
ºº+ ;
.
ºº; <
ToList
ºº< B
(
ººB C
)
ººC D
,
ººD E
roomCode
ººF N
)
ººN O
;
ººO P
this
»» 
.
»» 
NavigationService
»» "
.
»»" #
Navigate
»»# +
(
»»+ ,
game
»», 0
)
»»0 1
;
»»1 2
NavigationService
¼¼ 
.
¼¼ 
RemoveBackEntry
¼¼ -
(
¼¼- .
)
¼¼. /
;
¼¼/ 0
}
½½ 	
public
¿¿ 
static
¿¿ 
class
¿¿ 
GameCodeContainer
¿¿ -
{
ÀÀ 	
public
ÁÁ 
static
ÁÁ 
int
ÁÁ 
RoomCode
ÁÁ &
{
ÁÁ' (
get
ÁÁ) ,
;
ÁÁ, -
set
ÁÁ. 1
;
ÁÁ1 2
}
ÁÁ3 4
}
ÂÂ 	
private
ÃÃ 
void
ÃÃ 
HandleException
ÃÃ $
(
ÃÃ$ %
	Exception
ÃÃ% .
ex
ÃÃ/ 1
,
ÃÃ1 2
string
ÃÃ3 9
errorMessage
ÃÃ: F
)
ÃÃF G
{
ÄÄ 	%
ExceptionHandlerForLogs
ÅÅ #
.
ÅÅ# $
LogException
ÅÅ$ 0
(
ÅÅ0 1
ex
ÅÅ1 3
,
ÅÅ3 4!
ExceptionDictionary
ÅÅ5 H
.
ÅÅH I
FATAL_EXCEPTION
ÅÅI X
)
ÅÅX Y
;
ÅÅY Z!
DialogWindowManager
ÆÆ 
.
ÆÆ  #
ShowInfoOrErrorWindow
ÆÆ  5
(
ÆÆ5 6

Properties
ÆÆ6 @
.
ÆÆ@ A
	Resources
ÆÆA J
.
ÆÆJ K
txbErrorTitle
ÆÆK X
,
ÆÆX Y
errorMessage
ÆÆZ f
,
ÆÆf g
Application
ÆÆh s
.
ÆÆs t
Current
ÆÆt {
.
ÆÆ{ |

MainWindowÆÆ| 
,ÆÆ #
DialogWindowManagerÆÆ 
.ÆÆ 
ERRORÆÆ ¡
)ÆÆ¡ ¢
;ÆÆ¢ £
ReturnToLogin
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÈÈ 	
private
ÊÊ 
void
ÊÊ 
ReturnToLogin
ÊÊ "
(
ÊÊ" #
)
ÊÊ# $
{
ËË 	
UserSingleton
ÌÌ 
.
ÌÌ 
CleanSingleton
ÌÌ (
(
ÌÌ( )
)
ÌÌ) *
;
ÌÌ* +
	LogInUser
ÍÍ 
logInUserPage
ÍÍ #
=
ÍÍ$ %
new
ÍÍ& )
	LogInUser
ÍÍ* 3
(
ÍÍ3 4
)
ÍÍ4 5
;
ÍÍ5 6
this
ÎÎ 
.
ÎÎ 
NavigationService
ÎÎ "
.
ÎÎ" #
Navigate
ÎÎ# +
(
ÎÎ+ ,
logInUserPage
ÎÎ, 9
)
ÎÎ9 :
;
ÎÎ: ;
NavigationService
ÏÏ 
.
ÏÏ 
RemoveBackEntry
ÏÏ -
(
ÏÏ- .
)
ÏÏ. /
;
ÏÏ/ 0
}
ÑÑ 	
}
ÓÓ 
}ÔÔ 
hC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\LogInUser.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public   

partial   
class   
	LogInUser   "
:  # $
System  % +
.  + ,
Windows  , 3
.  3 4
Controls  4 <
.  < =
Page  = A
,  A B$
ICheckUserLivingCallback  C [
{!! 
private"" 
const"" 
int"" 
RIGTH_CREDENTIALS"" +
="", -
$num"". /
;""/ 0
private## 
const## 
int## 
WRONG_CREDENTIALS## +
=##, -
$num##. /
;##/ 0
private$$ 
UserSingleton$$ 
userSingleton$$ +
;$$+ ,
public&& 
	LogInUser&& 
(&& 
)&& 
{'' 	
InitializeComponent(( 
(((  
)((  !
;((! "
txbUserNameLogIn)) 
.)) 
	MaxLength)) &
=))' (
$num))) +
;))+ ,
pssPasswordLogIn** 
.** 
	MaxLength** &
=**' (
$num**) +
;**+ ,
}++ 	
private-- 
void-- 
ClickDoLogIn-- !
(--! "
object--" (
sender--) /
,--/ 0
RoutedEventArgs--1 @
e--A B
)--B C
{.. 	
if// 
(// 
CheckEmptyFields//  
(//  !
)//! "
)//" #
{00 
UserValidate11 
userValidate11 )
=11* +
new11, /
UserValidate110 <
(11< =
)11= >
;11> ?
userValidate22 
.22 
UserName22 %
=22& '
txbUserNameLogIn22( 8
.228 9
Text229 =
.22= >
Trim22> B
(22B C
)22C D
;22D E
userValidate33 
.33 
Password33 %
=33& '
EncryptionClass33( 7
.337 8
EncryptPassword338 G
(33G H
pssPasswordLogIn33H X
.33X Y
Password33Y a
.33a b
Trim33b f
(33f g
)33g h
)33h i
;33i j
try44 
{55 #
LogInVerificationClient66 +"
logInVerificationProxy66, B
=66C D
new66E H#
LogInVerificationClient66I `
(66` a
)66a b
;66b c
var77 
result77 
=77  "
logInVerificationProxy77! 7
.777 8
ValidateCredentials778 K
(77K L
userValidate77L X
)77X Y
;77Y Z
if88 
(88 
result88 
.88 
	CodeEvent88 (
==88) +
ExceptionDictionary88, ?
.88? @
SUCCESFULL_EVENT88@ P
||88Q S
result88T Z
.88Z [
	CodeEvent88[ d
==88e g
ExceptionDictionary88h {
.88{ |
UNSUCCESFULL_EVENT	88| 
)
88 
{99 
if;; 
(;; 
result;; "
.;;" #
ObjectSaved;;# .
==;;/ 1
RIGTH_CREDENTIALS;;2 C
);;C D
{<< 
ValidateOnlyOneUser== /
(==/ 0
userValidate==0 <
)==< =
;=== >
}>> 
else?? 
if?? 
(??  !
result??! '
.??' (
ObjectSaved??( 3
==??4 6
WRONG_CREDENTIALS??7 H
)??H I
{@@ 
DialogWindowManagerAA /
.AA/ 0!
ShowInfoOrErrorWindowAA0 E
(AAE F

PropertiesAAF P
.AAP Q
	ResourcesAAQ Z
.AAZ [
txbErrorTitleAA[ h
,AAh i

PropertiesAAj t
.AAt u
	ResourcesAAu ~
.AA~ "
lblinvalidCredentials	AA 
,
AA 
Application
AA ¡
.
AA¡ ¢
Current
AA¢ ©
.
AA© ª

MainWindow
AAª ´
,
AA´ µ!
DialogWindowManager
AA¶ É
.
AAÉ Ê
ERROR
AAÊ Ï
)
AAÏ Ð
;
AAÐ Ñ
}BB 
elseCC 
{DD 
DialogWindowManagerEE /
.EE/ 0!
ShowInfoOrErrorWindowEE0 E
(EEE F

PropertiesEEF P
.EEP Q
	ResourcesEEQ Z
.EEZ [
txbErrorTitleEE[ h
,EEh i

PropertiesEEj t
.EEt u
	ResourcesEEu ~
.EE~ %
lblComunicationException	EE 
,
EE 
Application
EE ¤
.
EE¤ ¥
Current
EE¥ ¬
.
EE¬ ­

MainWindow
EE­ ·
,
EE· ¸!
DialogWindowManager
EE¹ Ì
.
EEÌ Í
ERROR
EEÍ Ò
)
EEÒ Ó
;
EEÓ Ô
}FF 
}GG 
elseHH 
{II 
DialogWindowManagerJJ +
.JJ+ ,!
ShowInfoOrErrorWindowJJ, A
(JJA B

PropertiesJJB L
.JJL M
	ResourcesJJM V
.JJV W
txbErrorTitleJJW d
,JJd e

PropertiesJJf p
.JJp q
	ResourcesJJq z
.JJz { 
MessageSQLException	JJ{ 
,
JJ 
Application
JJ 
.
JJ 
Current
JJ £
.
JJ£ ¤

MainWindow
JJ¤ ®
,
JJ® ¯!
DialogWindowManager
JJ° Ã
.
JJÃ Ä
ERROR
JJÄ É
)
JJÉ Ê
;
JJÊ Ë
}KK 
}LL 
catchMM 
(MM %
EndpointNotFoundExceptionMM 0
exMM1 3
)MM3 4
{NN 
HandleExceptionOO #
(OO# $
exOO$ &
,OO& '

PropertiesOO( 2
.OO2 3
	ResourcesOO3 <
.OO< =
lblEndPointNotFoundOO= P
)OOP Q
;OOQ R
}PP 
catchQQ 
(QQ /
#CommunicationObjectFaultedExceptionQQ :
exQQ; =
)QQ= >
{RR 
HandleExceptionSS #
(SS# $
exSS$ &
,SS& '

PropertiesSS( 2
.SS2 3
	ResourcesSS3 <
.SS< =$
lblComunicationExceptionSS= U
)SSU V
;SSV W
}TT 
catchUU 
(UU 
TimeoutExceptionUU '
exUU( *
)UU* +
{VV 
HandleExceptionWW #
(WW# $
exWW$ &
,WW& '

PropertiesWW( 2
.WW2 3
	ResourcesWW3 <
.WW< =
lblTimeExceptionWW= M
)WWM N
;WWN O
}XX 
catchYY 
(YY "
CommunicationExceptionYY -
exYY. 0
)YY0 1
{ZZ 
HandleException[[ #
([[# $
ex[[$ &
,[[& '

Properties[[( 2
.[[2 3
	Resources[[3 <
.[[< =
lblWithoutConection[[= P
)[[P Q
;[[Q R
}\\ 
catch]] 
(]] 
SocketException]] &
ex]]' )
)]]) *
{^^ 
HandleException__ #
(__# $
ex__$ &
,__& '

Properties__( 2
.__2 3
	Resources__3 <
.__< =
lblEndPointNotFound__= P
)__P Q
;__Q R
}`` 
}aa 
}bb 	
privatedd 
voiddd 
ValidateOnlyOneUserdd (
(dd( )
UserValidatedd) 5
userValidatedd6 B
)ddB C
{ee 	
tryff 
{gg #
LogInVerificationClienthh '"
logInVerificationProxyhh( >
=hh? @
newhhA D#
LogInVerificationClienthhE \
(hh\ ]
)hh] ^
;hh^ _(
ConsultUserInformationClientii ,#
consultInformationProxyii- D
=iiE F
newiiG J(
ConsultUserInformationClientiiK g
(iig h
)iih i
;iii j
varjj 
userConsultedjj !
=jj" ##
consultInformationProxyjj$ ;
.jj; <!
ConsultUserByUserNamejj< Q
(jjQ R
userValidatejjR ^
.jj^ _
UserNamejj_ g
)jjg h
;jjh i
varkk 
isAlreadyConnectedkk &
=kk' ("
logInVerificationProxykk) ?
.kk? @0
$ValidateThereIsOnlyOneAActiveAccountkk@ d
(kkd e
userConsultedkke r
.kkr s
ObjectSavedkks ~
.kk~ 
UserName	kk 
)
kk 
;
kk "
logInVerificationProxyll &
.ll& '
Closell' ,
(ll, -
)ll- .
;ll. /
ifmm 
(mm 
isAlreadyConnectedmm &
==mm' )
ExceptionDictionarymm* =
.mm= >
SUCCESFULL_EVENTmm> N
)mmN O
{nn 
DoLoginoo 
(oo 
userValidateoo (
.oo( )
UserNameoo) 1
)oo1 2
;oo2 3
}pp 
elseqq 
ifqq 
(qq 
isAlreadyConnectedqq +
!=qq, .
ExceptionDictionaryqq/ B
.qqB C
SUCCESFULL_EVENTqqC S
)qqS T
{rr 
DialogWindowManagerss '
.ss' (!
ShowInfoOrErrorWindowss( =
(ss= >

Propertiesss> H
.ssH I
	ResourcesssI R
.ssR S
txbErrorTitlessS `
,ss` a

Propertiesssb l
.ssl m
	Resourcesssm v
.ssv w
lblLogInExist	ssw 
,
ss 
Application
ss 
.
ss 
Current
ss 
.
ss 

MainWindow
ss ¤
,
ss¤ ¥!
DialogWindowManager
ss¦ ¹
.
ss¹ º
ERROR
ssº ¿
)
ss¿ À
;
ssÀ Á
}tt 
}uu 
catchvv 
(vv %
EndpointNotFoundExceptionvv ,
exvv- /
)vv/ 0
{ww 
HandleExceptionxx 
(xx  
exxx  "
,xx" #

Propertiesxx$ .
.xx. /
	Resourcesxx/ 8
.xx8 9
lblEndPointNotFoundxx9 L
)xxL M
;xxM N
}yy 
catchzz 
(zz /
#CommunicationObjectFaultedExceptionzz 6
exzz7 9
)zz9 :
{{{ 
HandleException|| 
(||  
ex||  "
,||" #

Properties||$ .
.||. /
	Resources||/ 8
.||8 9$
lblComunicationException||9 Q
)||Q R
;||R S
}}} 
catch~~ 
(~~ 
TimeoutException~~ #
ex~~$ &
)~~& '
{ 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9
lblTimeException
9 I
)
I J
;
J K
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblWithoutConection
9 L
)
L M
;
M N
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblEndPointNotFound
9 L
)
L M
;
M N
}
 
}
 	
private
 
bool
 
CheckEmptyFields
 %
(
% &
)
& '
{
 	
bool
 
answer
 
=
 
true
 
;
 
if
 
(
 
string
 
.
 
IsNullOrEmpty
 $
(
$ %
txbUserNameLogIn
% 5
.
5 6
Text
6 :
)
: ;
)
; <
{
 
LblWrongUserName
  
.
  !
Content
! (
=
) *

Properties
+ 5
.
5 6
	Resources
6 ?
.
? @
LblWrongUserName
@ P
;
P Q
LblWrongUserName
  
.
  !

Visibility
! +
=
, -

Visibility
. 8
.
8 9
Visible
9 @
;
@ A
answer
 
=
 
false
 
;
 
}
 
else
 
{
 
LblWrongUserName
  
.
  !

Visibility
! +
=
, -

Visibility
. 8
.
8 9
	Collapsed
9 B
;
B C
}
 
if
 
(
 
string
 
.
 
IsNullOrEmpty
 $
(
$ %
pssPasswordLogIn
% 5
.
5 6
Password
6 >
)
> ?
)
? @
{
 
lblPasswordWrong
  
.
  !
Content
! (
=
) *

Properties
+ 5
.
5 6
	Resources
6 ?
.
? @
lblPasswordWrong
@ P
;
P Q
lblPasswordWrong
  
.
  !

Visibility
! +
=
, -

Visibility
. 8
.
8 9
Visible
9 @
;
@ A
answer
 
=
 
false
 
;
 
}
 
else
   
{
¡¡ 
lblPasswordWrong
¢¢  
.
¢¢  !

Visibility
¢¢! +
=
¢¢, -

Visibility
¢¢. 8
.
¢¢8 9
	Collapsed
¢¢9 B
;
¢¢B C
}
££ 
return
¤¤ 
answer
¤¤ 
;
¤¤ 
}
¥¥ 	
private
§§ 
void
§§ 
DoLogin
§§ 
(
§§ 
String
§§ #
userName
§§$ ,
)
§§, -
{
¨¨ 	
try
©© 
{
ªª *
ConsultUserInformationClient
«« ,%
consultInformationProxy
««- D
=
««E F
new
««G J*
ConsultUserInformationClient
««K g
(
««g h
)
««h i
;
««i j
var
¬¬ 
currentUser
¬¬ 
=
¬¬  !%
consultInformationProxy
¬¬" 9
.
¬¬9 :#
ConsultUserByUserName
¬¬: O
(
¬¬O P
userName
¬¬P X
)
¬¬X Y
;
¬¬Y Z
if
­­ 
(
­­ 
currentUser
­­ 
.
­­  
	CodeEvent
­­  )
==
­­* ,!
ExceptionDictionary
­­- @
.
­­@ A
SUCCESFULL_EVENT
­­A Q
)
­­Q R
{
®® 
var
¯¯ 
currentPlayer
¯¯ %
=
¯¯& '%
consultInformationProxy
¯¯( ?
.
¯¯? @#
ConsultPlayerByIdUser
¯¯@ U
(
¯¯U V
currentUser
¯¯V a
.
¯¯a b
ObjectSaved
¯¯b m
.
¯¯m n
IdUser
¯¯n t
)
¯¯t u
;
¯¯u v
if
°° 
(
°° 
currentPlayer
°° %
.
°°% &
	CodeEvent
°°& /
==
°°0 2!
ExceptionDictionary
°°3 F
.
°°F G
SUCCESFULL_EVENT
°°G W
)
°°W X
{
±± 
if
³³ 
(
³³ 
currentPlayer
³³ )
.
³³) *
ObjectSaved
³³* 5
.
³³5 6
	NoReports
³³6 ?
>=
³³@ B
$num
³³C D
)
³³D E
{
´´ !
DialogWindowManager
µµ /
.
µµ/ 0#
ShowInfoOrErrorWindow
µµ0 E
(
µµE F

Properties
µµF P
.
µµP Q
	Resources
µµQ Z
.
µµZ [
txbErrorTitle
µµ[ h
,
µµh i

Properties
µµj t
.
µµt u
	Resources
µµu ~
.
µµ~ 
lblUserBannerµµ 
,µµ 
Applicationµµ 
.µµ 
Currentµµ ¡
.µµ¡ ¢

MainWindowµµ¢ ¬
,µµ¬ ­#
DialogWindowManagerµµ® Á
.µµÁ Â
ERRORµµÂ Ç
)µµÇ È
;µµÈ É
UserSingleton
¶¶ )
.
¶¶) *
CleanSingleton
¶¶* 8
(
¶¶8 9
)
¶¶9 :
;
¶¶: ;
}
·· 
else
¸¸ 
if
¸¸ 
(
¸¸  !&
SubscribeToLivingChannel
¸¸! 9
(
¸¸9 :
currentUser
¸¸: E
.
¸¸E F
ObjectSaved
¸¸F Q
)
¸¸Q R
==
¸¸S U!
ExceptionDictionary
¸¸V i
.
¸¸i j
SUCCESFULL_EVENT
¸¸j z
)
¸¸z {
{
¹¹ 
InstanceSingleton
ºº -
(
ºº- .
currentUser
ºº. 9
.
ºº9 :
ObjectSaved
ºº: E
,
ººE F
currentPlayer
ººG T
.
ººT U
ObjectSaved
ººU `
)
ºº` a
;
ººa b
GoToMainMenu
»» (
(
»»( )
)
»») *
;
»»* +
}
¼¼ 
else
½½ 
{
¾¾ !
DialogWindowManager
¿¿ /
.
¿¿/ 0#
ShowInfoOrErrorWindow
¿¿0 E
(
¿¿E F

Properties
¿¿F P
.
¿¿P Q
	Resources
¿¿Q Z
.
¿¿Z [
txbErrorTitle
¿¿[ h
,
¿¿h i

Properties
¿¿j t
.
¿¿t u
	Resources
¿¿u ~
.
¿¿~ (
lblFailRegistryToCallBack¿¿ 
,¿¿ 
Application¿¿ ¥
.¿¿¥ ¦
Current¿¿¦ ­
.¿¿­ ®

MainWindow¿¿® ¸
,¿¿¸ ¹#
DialogWindowManager¿¿º Í
.¿¿Í Î
ERROR¿¿Î Ó
)¿¿Ó Ô
;¿¿Ô Õ
UserSingleton
ÀÀ )
.
ÀÀ) *
CleanSingleton
ÀÀ* 8
(
ÀÀ8 9
)
ÀÀ9 :
;
ÀÀ: ;
}
ÁÁ 
}
ÂÂ 
else
ÃÃ 
{
ÄÄ !
DialogWindowManager
ÅÅ +
.
ÅÅ+ ,#
ShowInfoOrErrorWindow
ÅÅ, A
(
ÅÅA B

Properties
ÅÅB L
.
ÅÅL M
	Resources
ÅÅM V
.
ÅÅV W
txbErrorTitle
ÅÅW d
,
ÅÅd e

Properties
ÅÅf p
.
ÅÅp q
	Resources
ÅÅq z
.
ÅÅz {"
MessageSQLExceptionÅÅ{ 
,ÅÅ 
ApplicationÅÅ 
.ÅÅ 
CurrentÅÅ £
.ÅÅ£ ¤

MainWindowÅÅ¤ ®
,ÅÅ® ¯#
DialogWindowManagerÅÅ° Ã
.ÅÅÃ Ä
ERRORÅÅÄ É
)ÅÅÉ Ê
;ÅÅÊ Ë
}
ÆÆ 
}
ÇÇ 
else
ÈÈ 
{
ÉÉ !
DialogWindowManager
ÊÊ '
.
ÊÊ' (#
ShowInfoOrErrorWindow
ÊÊ( =
(
ÊÊ= >

Properties
ÊÊ> H
.
ÊÊH I
	Resources
ÊÊI R
.
ÊÊR S
txbErrorTitle
ÊÊS `
,
ÊÊ` a

Properties
ÊÊb l
.
ÊÊl m
	Resources
ÊÊm v
.
ÊÊv w"
MessageSQLExceptionÊÊw 
,ÊÊ 
ApplicationÊÊ 
.ÊÊ 
CurrentÊÊ 
.ÊÊ  

MainWindowÊÊ  ª
,ÊÊª «#
DialogWindowManagerÊÊ¬ ¿
.ÊÊ¿ À
ERRORÊÊÀ Å
)ÊÊÅ Æ
;ÊÊÆ Ç
}
ËË 
}
ÌÌ 
catch
ÍÍ 
(
ÍÍ '
EndpointNotFoundException
ÍÍ ,
ex
ÍÍ- /
)
ÍÍ/ 0
{
ÎÎ %
ExceptionHandlerForLogs
ÏÏ '
.
ÏÏ' (
LogException
ÏÏ( 4
(
ÏÏ4 5
ex
ÏÏ5 7
,
ÏÏ7 8!
ExceptionDictionary
ÏÏ8 K
.
ÏÏK L
ERROR
ÏÏL Q
)
ÏÏQ R
;
ÏÏR S
throw
ÐÐ 
new
ÐÐ '
EndpointNotFoundException
ÐÐ 3
(
ÐÐ3 4
)
ÐÐ4 5
;
ÐÐ5 6
}
ÑÑ 
catch
ÒÒ 
(
ÒÒ 1
#CommunicationObjectFaultedException
ÒÒ 6
ex
ÒÒ7 9
)
ÒÒ9 :
{
ÓÓ %
ExceptionHandlerForLogs
ÔÔ '
.
ÔÔ' (
LogException
ÔÔ( 4
(
ÔÔ4 5
ex
ÔÔ5 7
,
ÔÔ7 8!
ExceptionDictionary
ÔÔ9 L
.
ÔÔL M
ERROR
ÔÔM R
)
ÔÔR S
;
ÔÔS T
throw
ÕÕ 
new
ÕÕ 1
#CommunicationObjectFaultedException
ÕÕ =
(
ÕÕ= >
)
ÕÕ> ?
;
ÕÕ? @
}
ÖÖ 
catch
×× 
(
×× 
TimeoutException
×× #
ex
××$ &
)
××& '
{
ØØ %
ExceptionHandlerForLogs
ÙÙ '
.
ÙÙ' (
LogException
ÙÙ( 4
(
ÙÙ4 5
ex
ÙÙ5 7
,
ÙÙ7 8!
ExceptionDictionary
ÙÙ9 L
.
ÙÙL M
ERROR
ÙÙM R
)
ÙÙR S
;
ÙÙS T
throw
ÚÚ 
new
ÚÚ 
TimeoutException
ÚÚ *
(
ÚÚ* +
)
ÚÚ+ ,
;
ÚÚ, -
}
ÛÛ 
catch
ÜÜ 
(
ÜÜ $
CommunicationException
ÜÜ )
ex
ÜÜ* ,
)
ÜÜ, -
{
ÝÝ %
ExceptionHandlerForLogs
ÞÞ '
.
ÞÞ' (
LogException
ÞÞ( 4
(
ÞÞ4 5
ex
ÞÞ5 7
,
ÞÞ7 8!
ExceptionDictionary
ÞÞ9 L
.
ÞÞL M
ERROR
ÞÞM R
)
ÞÞR S
;
ÞÞS T
throw
ßß 
new
ßß $
CommunicationException
ßß 0
(
ßß0 1
)
ßß1 2
;
ßß2 3
}
àà 
catch
áá 
(
áá 
SocketException
áá "
ex
áá# %
)
áá% &
{
ââ %
ExceptionHandlerForLogs
ãã '
.
ãã' (
LogException
ãã( 4
(
ãã4 5
ex
ãã5 7
,
ãã7 8!
ExceptionDictionary
ãã9 L
.
ããL M
ERROR
ããM R
)
ããR S
;
ããS T
throw
ää 
new
ää 
SocketException
ää )
(
ää) *
)
ää* +
;
ää+ ,
}
åå 
}
ææ 	
private
èè 
int
èè &
SubscribeToLivingChannel
èè ,
(
èè, -
UserPojo
èè- 5
user
èè6 :
)
èè: ;
{
éé 	
try
êê 
{
ëë 
InstanceContext
ìì 
context
ìì  '
=
ìì( )
new
ìì* -
(
ìì- .
this
ìì. 2
)
ìì2 3
;
ìì3 4#
CheckUserLivingClient
íí %#
checkUserLivingClient
íí& ;
=
íí< =
new
íí> A
(
ííA B
context
ííB I
)
ííI J
;
ííJ K
return
îî #
checkUserLivingClient
îî ,
.
îî, -)
SubscribeToICheckUserLiving
îî- H
(
îîH I
user
îîI M
)
îîM N
;
îîN O
}
ïï 
catch
ðð 
(
ðð '
EndpointNotFoundException
ðð ,
ex
ðð- /
)
ðð/ 0
{
ññ %
ExceptionHandlerForLogs
òò '
.
òò' (
LogException
òò( 4
(
òò4 5
ex
òò5 7
,
òò7 8!
ExceptionDictionary
òò9 L
.
òòL M
ERROR
òòM R
)
òòR S
;
òòS T
throw
óó 
new
óó '
EndpointNotFoundException
óó 3
(
óó3 4
)
óó4 5
;
óó5 6
}
ôô 
catch
õõ 
(
õõ 1
#CommunicationObjectFaultedException
õõ 6
ex
õõ7 9
)
õõ9 :
{
öö %
ExceptionHandlerForLogs
÷÷ '
.
÷÷' (
LogException
÷÷( 4
(
÷÷4 5
ex
÷÷5 7
,
÷÷7 8!
ExceptionDictionary
÷÷9 L
.
÷÷L M
ERROR
÷÷M R
)
÷÷R S
;
÷÷S T
throw
øø 
new
øø 1
#CommunicationObjectFaultedException
øø =
(
øø= >
)
øø> ?
;
øø? @
}
ùù 
catch
úú 
(
úú 
TimeoutException
úú #
ex
úú$ &
)
úú& '
{
ûû %
ExceptionHandlerForLogs
üü '
.
üü' (
LogException
üü( 4
(
üü4 5
ex
üü5 7
,
üü7 8!
ExceptionDictionary
üü9 L
.
üüL M
ERROR
üüM R
)
üüR S
;
üüS T
throw
ýý 
new
ýý 
TimeoutException
ýý *
(
ýý* +
)
ýý+ ,
;
ýý, -
}
þþ 
catch
ÿÿ 
(
ÿÿ $
CommunicationException
ÿÿ )
ex
ÿÿ* ,
)
ÿÿ, -
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
ERROR
M R
)
R S
;
S T
throw
 
new
 $
CommunicationException
 0
(
0 1
)
1 2
;
2 3
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
ERROR
M R
)
R S
;
S T
throw
 
new
 
SocketException
 )
(
) *
)
* +
;
+ ,
}
 
}
 	
private
 
void
 
InstanceSingleton
 &
(
& '
UserPojo
' /
currentUser
0 ;
,
; <

PlayerPojo
= G
currenPlayer
H T
)
T U
{
 	
userSingleton
 
=
 
UserSingleton
 )
.
) *
GetMainUser
* 5
(
5 6
currentUser
6 A
,
A B
currenPlayer
C O
)
O P
;
P Q
}
 	
private
 
void
 
GoToMainMenu
 !
(
! "
)
" #
{
 	
MainMenu
 
mainMenuPage
 !
=
" #
new
$ '
MainMenu
( 0
(
0 1
)
1 2
;
2 3
this
 
.
 
NavigationService
 "
.
" #
Navigate
# +
(
+ ,
mainMenuPage
, 8
)
8 9
;
9 :
NavigationService
 
.
 
RemoveBackEntry
 -
(
- .
)
. /
;
/ 0
}
 	
private
 
void
 !
CLickButtonRegister
 (
(
( )
object
) /
sender
0 6
,
6 7
RoutedEventArgs
8 G
e
H I
)
I J
{
 	
UserRegister
 
userRegistryPage
 )
=
* +
new
, /
UserRegister
0 <
(
< =
)
= >
;
> ?
this
 
.
 
NavigationService
 "
.
" #
Navigate
# +
(
+ ,
userRegistryPage
, <
)
< =
;
= >
NavigationService
 
.
 
RemoveBackEntry
 -
(
- .
)
. /
;
/ 0
}
 	
private
 
void
 
ClickSingOut
 !
(
! "
object
" (
sender
) /
,
/ 0"
MouseButtonEventArgs
1 E
e
F G
)
G H
{
 	
PrincipalPage
   
principalPage
   '
=
  ( )
new
  * -
PrincipalPage
  . ;
(
  ; <
)
  < =
;
  = >
this
¡¡ 
.
¡¡ 
NavigationService
¡¡ "
.
¡¡" #
Navigate
¡¡# +
(
¡¡+ ,
principalPage
¡¡, 9
)
¡¡9 :
;
¡¡: ;
NavigationService
¢¢ 
.
¢¢ 
RemoveBackEntry
¢¢ -
(
¢¢- .
)
¢¢. /
;
¢¢/ 0
}
££ 	
private
¥¥ 
void
¥¥ 
ClickSeePassword
¥¥ %
(
¥¥% &
object
¥¥& ,
sender
¥¥- 3
,
¥¥3 4"
MouseButtonEventArgs
¥¥5 I
e
¥¥J K
)
¥¥K L
{
¦¦ 	
lblViewPassword
§§ 
.
§§ 
Content
§§ #
=
§§$ %
pssPasswordLogIn
§§& 6
.
§§6 7
Password
§§7 ?
.
§§? @
ToString
§§@ H
(
§§H I
)
§§I J
;
§§J K
pssPasswordLogIn
¨¨ 
.
¨¨ 

Visibility
¨¨ '
=
¨¨( )

Visibility
¨¨* 4
.
¨¨4 5
	Collapsed
¨¨5 >
;
¨¨> ?
lblViewPassword
©© 
.
©© 

Visibility
©© &
=
©©' (

Visibility
©©) 3
.
©©3 4
Visible
©©4 ;
;
©©; <
}
ªª 	
private
¬¬ 
void
¬¬ #
OverLeaveHidePassword
¬¬ *
(
¬¬* +
object
¬¬+ 1
sender
¬¬2 8
,
¬¬8 9
MouseEventArgs
¬¬: H
e
¬¬I J
)
¬¬J K
{
­­ 	
if
®® 
(
®® 
lblViewPassword
®® 
.
®®  
	IsVisible
®®  )
)
®®) *
{
¯¯ 
pssPasswordLogIn
°°  
.
°°  !

Visibility
°°! +
=
°°, -

Visibility
°°. 8
.
°°8 9
Visible
°°9 @
;
°°@ A
pssPasswordLogIn
±±  
.
±±  !
PasswordChar
±±! -
=
±±. /
$char
±±0 3
;
±±3 4
pssPasswordLogIn
²²  
.
²²  !
Password
²²! )
=
²²* +
(
²², -
string
²²- 3
)
²²3 4
lblViewPassword
²²4 C
.
²²C D
Content
²²D K
;
²²K L
lblViewPassword
³³ 
.
³³  

Visibility
³³  *
=
³³+ ,

Visibility
³³- 7
.
³³7 8
	Collapsed
³³8 A
;
³³A B
}
´´ 
}
µµ 	
public
¹¹ 
bool
¹¹ 
IsClientActive
¹¹ "
(
¹¹" #
)
¹¹# $
{
ºº 	
return
»» 
(
»» 
(
»» &
ICheckUserLivingCallback
»» -
)
»»- .
userSingleton
»». ;
)
»»; <
.
»»< =
IsClientActive
»»= K
(
»»K L
)
»»L M
;
»»M N
}
¼¼ 	
private
¾¾ 
void
¾¾ 
HandleException
¾¾ $
(
¾¾$ %
	Exception
¾¾% .
ex
¾¾/ 1
,
¾¾1 2
string
¾¾3 9
errorMessage
¾¾: F
)
¾¾F G
{
¿¿ 	%
ExceptionHandlerForLogs
ÀÀ #
.
ÀÀ# $
LogException
ÀÀ$ 0
(
ÀÀ0 1
ex
ÀÀ1 3
,
ÀÀ3 4!
ExceptionDictionary
ÀÀ5 H
.
ÀÀH I
FATAL_EXCEPTION
ÀÀI X
)
ÀÀX Y
;
ÀÀY Z!
DialogWindowManager
ÁÁ 
.
ÁÁ  #
ShowInfoOrErrorWindow
ÁÁ  5
(
ÁÁ5 6

Properties
ÁÁ6 @
.
ÁÁ@ A
	Resources
ÁÁA J
.
ÁÁJ K
txbErrorTitle
ÁÁK X
,
ÁÁX Y
errorMessage
ÁÁZ f
,
ÁÁf g
Application
ÁÁh s
.
ÁÁs t
Current
ÁÁt {
.
ÁÁ{ |

MainWindowÁÁ| 
,ÁÁ #
DialogWindowManagerÁÁ 
.ÁÁ 
ERRORÁÁ ¡
)ÁÁ¡ ¢
;ÁÁ¢ £
}
ÂÂ 	
private
ÄÄ 
void
ÄÄ !
LanguageButtonClick
ÄÄ (
(
ÄÄ( )
object
ÄÄ) /
sender
ÄÄ0 6
,
ÄÄ6 7
RoutedEventArgs
ÄÄ8 G
e
ÄÄH I
)
ÄÄI J
{
ÅÅ 	
LanguageOptions
ÆÆ 
.
ÆÆ 

Visibility
ÆÆ &
=
ÆÆ' (

Visibility
ÆÆ) 3
.
ÆÆ3 4
Visible
ÆÆ4 ;
;
ÆÆ; <
}
ÇÇ 	
private
ÉÉ 
void
ÉÉ 
SelectLanguage
ÉÉ #
(
ÉÉ# $
object
ÉÉ$ *
sender
ÉÉ+ 1
,
ÉÉ1 2
RoutedEventArgs
ÉÉ3 B
e
ÉÉC D
)
ÉÉD E
{
ÊÊ 	
System
ËË 
.
ËË 
Windows
ËË 
.
ËË 
Controls
ËË #
.
ËË# $
Button
ËË$ *
selectedButton
ËË+ 9
=
ËË: ;
sender
ËË< B
as
ËËC E
Button
ËËF L
;
ËËL M
string
ÌÌ 
selectedLanguage
ÌÌ #
=
ÌÌ$ %
selectedButton
ÌÌ& 4
.
ÌÌ4 5
Tag
ÌÌ5 8
.
ÌÌ8 9
ToString
ÌÌ9 A
(
ÌÌA B
)
ÌÌB C
;
ÌÌC D
App
ÎÎ 
.
ÎÎ 
ChangeLanguage
ÎÎ 
(
ÎÎ 
selectedLanguage
ÎÎ /
)
ÎÎ/ 0
;
ÎÎ0 1
RegistryKey
ÏÏ 
key
ÏÏ 
=
ÏÏ 
Registry
ÏÏ &
.
ÏÏ& '
CurrentUser
ÏÏ' 2
.
ÏÏ2 3
CreateSubKey
ÏÏ3 ?
(
ÏÏ? @
$str
ÏÏ@ X
)
ÏÏX Y
;
ÏÏY Z
key
ÐÐ 
.
ÐÐ 
SetValue
ÐÐ 
(
ÐÐ 
$str
ÐÐ +
,
ÐÐ+ ,
selectedLanguage
ÐÐ- =
)
ÐÐ= >
;
ÐÐ> ?
key
ÑÑ 
.
ÑÑ 
Close
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ &
UpdateInterfaceResources
ÒÒ $
(
ÒÒ$ %
)
ÒÒ% &
;
ÒÒ& '
LanguageButton
ÓÓ 
.
ÓÓ 
Content
ÓÓ "
=
ÓÓ# $
selectedButton
ÓÓ% 3
.
ÓÓ3 4
Content
ÓÓ4 ;
;
ÓÓ; <
LanguageOptions
ÔÔ 
.
ÔÔ 

Visibility
ÔÔ &
=
ÔÔ' (

Visibility
ÔÔ) 3
.
ÔÔ3 4
	Collapsed
ÔÔ4 =
;
ÔÔ= >
}
ÕÕ 	
private
×× 
void
×× &
UpdateInterfaceResources
×× -
(
××- .
)
××. /
{
ØØ 	
if
ÙÙ 
(
ÙÙ 
lblUserNameLogIn
ÙÙ  
!=
ÙÙ! #
null
ÙÙ$ (
)
ÙÙ( )
lblUserNameLogIn
ÚÚ  
.
ÚÚ  !
Content
ÚÚ! (
=
ÚÚ) *

Properties
ÚÚ+ 5
.
ÚÚ5 6
	Resources
ÚÚ6 ?
.
ÚÚ? @
lblUserNameLogIn
ÚÚ@ P
;
ÚÚP Q
if
ÜÜ 
(
ÜÜ 
lblPasswordLogIn
ÜÜ  
!=
ÜÜ! #
null
ÜÜ$ (
)
ÜÜ( )
lblPasswordLogIn
ÝÝ  
.
ÝÝ  !
Content
ÝÝ! (
=
ÝÝ) *

Properties
ÝÝ+ 5
.
ÝÝ5 6
	Resources
ÝÝ6 ?
.
ÝÝ? @
lblPasswordLogIn
ÝÝ@ P
;
ÝÝP Q
if
ßß 
(
ßß 
btnEnter
ßß 
!=
ßß 
null
ßß  
)
ßß  !
btnEnter
àà 
.
àà 
Content
àà  
=
àà! "

Properties
àà# -
.
àà- .
	Resources
àà. 7
.
àà7 8
btnEnter
àà8 @
;
àà@ A
if
ââ 
(
ââ 
btnRegistrer
ââ 
!=
ââ 
null
ââ  $
)
ââ$ %
btnRegistrer
ãã 
.
ãã 
Content
ãã $
=
ãã% &

Properties
ãã' 1
.
ãã1 2
	Resources
ãã2 ;
.
ãã; <
btnRegistrer
ãã< H
;
ããH I
}
ää 	
}
ææ 
}çç Ö±
gC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\MainMenu.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
MainMenu !
:" #
Page$ (
{ 
public 
MainMenu 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
NotifyItIsAvailable 
(  
)  !
;! "
this 
. 
Loaded 
+= 
LoadPlayersData *
;* +
}   	
private"" 
void"" 
NotifyItIsAvailable"" (
(""( )
)"") *
{## 	
try$$ 
{%% 
UserSingleton&& 
userSingleton&& +
=&&, -
UserSingleton&&. ;
.&&; <
GetMainUser&&< G
(&&G H
)&&H I
;&&I J+
AvailabilityUserManagmentClient'' /!
availabilityUserProxy''0 E
=''F G
new''H K
(''K L
)''L M
;''M N!
availabilityUserProxy(( %
.((% &
PlayerIsAvailable((& 7
(((7 8
userSingleton((8 E
.((E F
IdUser((F L
)((L M
;((M N
})) 
catch** 
(** %
EndpointNotFoundException** ,
ex**- /
)**/ 0
{++ #
ExceptionHandlerForLogs,, '
.,,' (
LogException,,( 4
(,,4 5
ex,,5 7
,,,7 8
ExceptionDictionary,,9 L
.,,L M
FATAL_EXCEPTION,,M \
),,\ ]
;,,] ^
}-- 
catch.. 
(.. /
#CommunicationObjectFaultedException.. 6
ex..7 9
)..9 :
{// #
ExceptionHandlerForLogs00 '
.00' (
LogException00( 4
(004 5
ex005 7
,007 8
ExceptionDictionary009 L
.00L M
FATAL_EXCEPTION00M \
)00\ ]
;00] ^
}11 
catch22 
(22 
TimeoutException22 #
ex22$ &
)22& '
{33 #
ExceptionHandlerForLogs44 '
.44' (
LogException44( 4
(444 5
ex445 7
,447 8
ExceptionDictionary449 L
.44L M
FATAL_EXCEPTION44M \
)44\ ]
;44] ^
}55 
catch66 
(66 "
CommunicationException66 )
ex66* ,
)66, -
{77 #
ExceptionHandlerForLogs88 '
.88' (
LogException88( 4
(884 5
ex885 7
,887 8
ExceptionDictionary889 L
.88L M
FATAL_EXCEPTION88M \
)88\ ]
;88] ^
}99 
catch:: 
(:: 
SocketException:: "
ex::# %
)::% &
{;; #
ExceptionHandlerForLogs<< '
.<<' (
LogException<<( 4
(<<4 5
ex<<5 7
,<<7 8
ExceptionDictionary<<9 L
.<<L M
FATAL_EXCEPTION<<M \
)<<\ ]
;<<] ^
}== 
}>> 	
private@@ 
void@@ 
ClickSingOut@@ !
(@@! "
object@@" (
sender@@) /
,@@/ 0 
MouseButtonEventArgs@@1 E
e@@F G
)@@G H
{AA 	
ifBB 
(BB 
DialogWindowManagerBB #
.BB# $"
ShowWindowConfirmationBB$ :
(BB: ;

PropertiesBB; E
.BBE F
	ResourcesBBF O
.BBO P
txbWarningTitleBBP _
,BB_ `

PropertiesBBa k
.BBk l
	ResourcesBBl u
.BBu v

tbxSignOut	BBv 
,
BB 
Application
BB 
.
BB 
Current
BB 
.
BB 

MainWindow
BB  
)
BB  ¡
)
BB¡ ¢
{CC 

ReturnPageDD 
(DD 
)DD 
;DD 
}EE 
}FF 	
privateHH 
voidHH !
CleanGlobalParametersHH *
(HH* +
)HH+ ,
{II 	

FriendListJJ 
.JJ 
CleanDictionaryJJ &
(JJ& '
)JJ' (
;JJ( )
UserSingletonKK  
currentUserSingletonKK .
=KK/ 0
UserSingletonKK1 >
.KK> ?
GetMainUserKK? J
(KKJ K
)KKK L
;KKL M+
AvailabilityUserManagmentClientLL +!
userAvailabilityProxyLL, A
=LLB C
newLLD G
(LLG H
)LLH I
;LLI J
tryMM 
{NN !
userAvailabilityProxyOO %
.OO% & 
PlayerIsNotAvailableOO& :
(OO: ; 
currentUserSingletonOO; O
.OOO P
IdUserOOP V
)OOV W
;OOW X
}PP 
catchQQ 
(QQ %
EndpointNotFoundExceptionQQ ,
exQQ- /
)QQ/ 0
{RR #
ExceptionHandlerForLogsSS '
.SS' (
LogExceptionSS( 4
(SS4 5
exSS5 7
,SS7 8
ExceptionDictionarySS9 L
.SSL M
FATAL_EXCEPTIONSSM \
)SS\ ]
;SS] ^
}UU 
catchVV 
(VV /
#CommunicationObjectFaultedExceptionVV 6
exVV7 9
)VV9 :
{WW #
ExceptionHandlerForLogsXX '
.XX' (
LogExceptionXX( 4
(XX4 5
exXX5 7
,XX7 8
ExceptionDictionaryXX9 L
.XXL M
FATAL_EXCEPTIONXXM \
)XX\ ]
;XX] ^
}YY 
catchZZ 
(ZZ 
TimeoutExceptionZZ #
exZZ$ &
)ZZ& '
{[[ #
ExceptionHandlerForLogs\\ '
.\\' (
LogException\\( 4
(\\4 5
ex\\5 7
,\\7 8
ExceptionDictionary\\9 L
.\\L M
FATAL_EXCEPTION\\M \
)\\\ ]
;\\] ^
}]] 
catch^^ 
(^^ "
CommunicationException^^ )
ex^^* ,
)^^, -
{__ #
ExceptionHandlerForLogs`` '
.``' (
LogException``( 4
(``4 5
ex``5 7
,``7 8
ExceptionDictionary``9 L
.``L M
FATAL_EXCEPTION``M \
)``\ ]
;``] ^
}aa 
catchbb 
(bb 
SocketExceptionbb "
exbb# %
)bb% &
{cc #
ExceptionHandlerForLogsdd '
.dd' (
LogExceptiondd( 4
(dd4 5
exdd5 7
,dd7 8
ExceptionDictionarydd9 L
.ddL M
FATAL_EXCEPTIONddM \
)dd\ ]
;dd] ^
}ee 
UserSingletonff 
.ff 
CleanSingletonff (
(ff( )
)ff) *
;ff* +
}gg 	
privateii 
voidii 
ClickUserProfileii %
(ii% &
objectii& ,
senderii- 3
,ii3 4 
MouseButtonEventArgsii5 I
eiiJ K
)iiK L
{jj 	
ProfileDataConsultkk 
profileConsultPagekk 1
=kk2 3
newkk4 7
ProfileDataConsultkk8 J
(kkJ K
)kkK L
;kkL M
thisll 
.ll 
NavigationServicell "
.ll" #
Navigatell# +
(ll+ ,
profileConsultPagell, >
)ll> ?
;ll? @
NavigationServicemm 
.mm 
RemoveBackEntrymm -
(mm- .
)mm. /
;mm/ 0
}nn 	
privatepp 
voidpp 
CLickButtonNewGamepp '
(pp' (
objectpp( .
senderpp/ 5
,pp5 6
RoutedEventArgspp7 F
eppG H
)ppH I
{qq 	
	LobbyPagerr 
lobbyGamePagerr #
=rr$ %
newrr& )
	LobbyPagerr* 3
(rr3 4
)rr4 5
;rr5 6
thisss 
.ss 
NavigationServicess "
.ss" #
Navigatess# +
(ss+ ,
lobbyGamePagess, 9
)ss9 :
;ss: ;
NavigationServicett 
.tt 
RemoveBackEntrytt -
(tt- .
)tt. /
;tt/ 0
}vv 	
privateww 
voidww  
CLickButtonEnterGameww )
(ww) *
objectww* 0
senderww1 7
,ww7 8
RoutedEventArgsww9 H
ewwI J
)wwJ K
{xx 	
Viewsyy 
.yy 
EnterWithGameCodeyy #

codeWindowyy$ .
=yy/ 0
newyy1 4
Viewsyy5 :
.yy: ;
EnterWithGameCodeyy; L
(yyL M
)yyM N
;yyN O

codeWindowzz 
.zz !
WindowStartupLocationzz ,
=zz- .
Systemzz/ 5
.zz5 6
Windowszz6 =
.zz= >!
WindowStartupLocationzz> S
.zzS T
CenterScreenzzT `
;zz` a
enterGameWithCode{{ 
codePage{{ &
={{' (
new{{) ,
enterGameWithCode{{- >
({{> ?
Window{{? E
.{{E F
	GetWindow{{F O
({{O P
this{{P T
){{T U
,{{U V
false{{W \
){{\ ]
;{{] ^

codeWindow|| 
.|| 
contentFrame|| #
.||# $
NavigationService||$ 5
.||5 6
Navigate||6 >
(||> ?
codePage||? G
)||G H
;||H I

codeWindow}} 
.}} 

ShowDialog}} !
(}}! "
)}}" #
;}}# $
}~~ 	
private
 
void
 $
CLickButtonFriendsList
 +
(
+ ,
object
, 2
sender
3 9
,
9 :
RoutedEventArgs
; J
e
K L
)
L M
{
 	
FriendManager
 
friendManager
 '
=
( )
new
* -
FriendManager
. ;
(
; <
)
< =
;
= >
this
 
.
 
NavigationService
 "
.
" #
Navigate
# +
(
+ ,
friendManager
, 9
)
9 :
;
: ;
NavigationService
 
.
 
RemoveBackEntry
 -
(
- .
)
. /
;
/ 0
}
 	
private
 
void
 
LoadPlayersData
 $
(
$ %
object
% +
sender
, 2
,
2 3
RoutedEventArgs
4 C
e
D E
)
E F
{
 	
try
 
{
 *
ConsultUserInformationClient
 ,%
consultInformationProxy
- D
=
E F
new
G J*
ConsultUserInformationClient
K g
(
g h
)
h i
;
i j
UserSingleton
 
userSingleton
 +
=
, -
UserSingleton
. ;
.
; <
GetMainUser
< G
(
G H
)
H I
;
I J
var
 
playersInfo
 
=
  !%
consultInformationProxy
" 9
.
9 :#
GetPlayersInformation
: O
(
O P
userSingleton
P ]
.
] ^
IdUser
^ d
)
d e
;
e f
if
 
(
 
playersInfo
 
.
  
	CodeEvent
  )
==
* ,!
ExceptionDictionary
. A
.
A B
SUCCESFULL_EVENT
B R
)
R S
{
 
foreach
 
(
 
var
  

playerInfo
! +
in
, .
playersInfo
/ :
.
: ;
ObjectSaved
; F
)
F G
{
 
string
 

playerName
 )
=
* +

playerInfo
, 6
.
6 7
Name
7 ;
;
; <
long
 
score
 "
=
# $

playerInfo
% /
.
/ 0
Points
0 6
;
6 7
ListBoxItem
 #
item
$ (
=
) *
new
+ .
ListBoxItem
/ :
(
: ;
)
; <
;
< =
item
 
.
 
Content
 $
=
% &
$"
' )
{
) *

playerName
* 4
}
4 5
$str
5 7
{
7 8
score
8 =
}
= >
"
> ?
;
? @

lstWinners
 "
.
" #
Items
# (
.
( )
Add
) ,
(
, -
item
- 1
)
1 2
;
2 3
}
 
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
 
HandleException
 
(
  
ex
  "
,
" #

Properties
$ .
.
. /
	Resources
/ 8
.
8 9!
lblEndPointNotFound
9 L
)
L M
;
M N
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 6
ex
7 9
)
9 :
{
   
HandleException
¡¡ 
(
¡¡  
ex
¡¡  "
,
¡¡" #

Properties
¡¡$ .
.
¡¡. /
	Resources
¡¡/ 8
.
¡¡8 9&
lblComunicationException
¡¡9 Q
)
¡¡Q R
;
¡¡R S
}
¢¢ 
catch
££ 
(
££ 
TimeoutException
££ #
ex
££$ &
)
££& '
{
¤¤ 
HandleException
¥¥ 
(
¥¥  
ex
¥¥  "
,
¥¥" #

Properties
¥¥$ .
.
¥¥. /
	Resources
¥¥/ 8
.
¥¥8 9
lblTimeException
¥¥9 I
)
¥¥I J
;
¥¥J K
}
¦¦ 
catch
§§ 
(
§§ $
CommunicationException
§§ )
ex
§§* ,
)
§§, -
{
¨¨ 
HandleException
©© 
(
©©  
ex
©©  "
,
©©" #

Properties
©©$ .
.
©©. /
	Resources
©©/ 8
.
©©8 9!
lblWithoutConection
©©9 L
)
©©L M
;
©©M N
}
ªª 
catch
«« 
(
«« 
SocketException
«« "
ex
««# %
)
««% &
{
¬¬ 
HandleException
­­ 
(
­­  
ex
­­  "
,
­­" #

Properties
­­$ .
.
­­. /
	Resources
­­/ 8
.
­­8 9!
lblEndPointNotFound
­­9 L
)
­­L M
;
­­M N
}
®® 
}
¯¯ 	
private
±± 
void
±± 
HandleException
±± $
(
±±$ %
	Exception
±±% .
ex
±±/ 1
,
±±1 2
string
±±3 9
errorMessage
±±: F
)
±±F G
{
²² 	%
ExceptionHandlerForLogs
³³ #
.
³³# $
LogException
³³$ 0
(
³³0 1
ex
³³1 3
,
³³3 4!
ExceptionDictionary
³³5 H
.
³³H I
FATAL_EXCEPTION
³³I X
)
³³X Y
;
³³Y Z!
DialogWindowManager
´´ 
.
´´  #
ShowInfoOrErrorWindow
´´  5
(
´´5 6

Properties
´´6 @
.
´´@ A
	Resources
´´A J
.
´´J K
txbErrorTitle
´´K X
,
´´X Y
errorMessage
´´Z f
,
´´f g
Application
´´h s
.
´´s t
Current
´´t {
.
´´{ |

MainWindow´´| 
,´´ #
DialogWindowManager´´ 
.´´ 
ERROR´´ ¡
)´´¡ ¢
;´´¢ £
}
¶¶ 	
private
¸¸ 
void
¸¸ !
LanguageButtonClick
¸¸ (
(
¸¸( )
object
¸¸) /
sender
¸¸0 6
,
¸¸6 7
RoutedEventArgs
¸¸8 G
e
¸¸H I
)
¸¸I J
{
¹¹ 	
LanguageOptions
ºº 
.
ºº 

Visibility
ºº &
=
ºº' (

Visibility
ºº) 3
.
ºº3 4
Visible
ºº4 ;
;
ºº; <
}
»» 	
private
½½ 
void
½½ 
SelectLanguage
½½ #
(
½½# $
object
½½$ *
sender
½½+ 1
,
½½1 2
RoutedEventArgs
½½3 B
e
½½C D
)
½½D E
{
¾¾ 	
Button
¿¿ 
selectedButton
¿¿ !
=
¿¿" #
sender
¿¿$ *
as
¿¿+ -
Button
¿¿. 4
;
¿¿4 5
string
ÀÀ 
selectedLanguage
ÀÀ #
=
ÀÀ$ %
selectedButton
ÀÀ& 4
.
ÀÀ4 5
Tag
ÀÀ5 8
.
ÀÀ8 9
ToString
ÀÀ9 A
(
ÀÀA B
)
ÀÀB C
;
ÀÀC D
App
ÂÂ 
.
ÂÂ 
ChangeLanguage
ÂÂ 
(
ÂÂ 
selectedLanguage
ÂÂ /
)
ÂÂ/ 0
;
ÂÂ0 1
RegistryKey
ÃÃ 
key
ÃÃ 
=
ÃÃ 
Registry
ÃÃ &
.
ÃÃ& '
CurrentUser
ÃÃ' 2
.
ÃÃ2 3
CreateSubKey
ÃÃ3 ?
(
ÃÃ? @
$str
ÃÃ@ X
)
ÃÃX Y
;
ÃÃY Z
key
ÄÄ 
.
ÄÄ 
SetValue
ÄÄ 
(
ÄÄ 
$str
ÄÄ +
,
ÄÄ+ ,
selectedLanguage
ÄÄ- =
)
ÄÄ= >
;
ÄÄ> ?
key
ÅÅ 
.
ÅÅ 
Close
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ &
UpdateInterfaceResources
ÆÆ $
(
ÆÆ$ %
)
ÆÆ% &
;
ÆÆ& '
LanguageButton
ÈÈ 
.
ÈÈ 
Content
ÈÈ "
=
ÈÈ# $
selectedButton
ÈÈ% 3
.
ÈÈ3 4
Content
ÈÈ4 ;
;
ÈÈ; <
LanguageOptions
ÊÊ 
.
ÊÊ 

Visibility
ÊÊ &
=
ÊÊ' (

Visibility
ÊÊ) 3
.
ÊÊ3 4
	Collapsed
ÊÊ4 =
;
ÊÊ= >
}
ËË 	
private
ÍÍ 
void
ÍÍ &
UpdateInterfaceResources
ÍÍ -
(
ÍÍ- .
)
ÍÍ. /
{
ÎÎ 	
if
ÏÏ 
(
ÏÏ 
bttEnterGame
ÏÏ 
!=
ÏÏ 
null
ÏÏ  $
)
ÏÏ$ %
bttEnterGame
ÐÐ 
.
ÐÐ 
Content
ÐÐ #
=
ÐÐ$ %

Properties
ÐÐ& 0
.
ÐÐ0 1
	Resources
ÐÐ1 :
.
ÐÐ: ;
bttEnterGame
ÐÐ; G
;
ÐÐG H
if
ÒÒ 
(
ÒÒ 

bttFriends
ÒÒ 
!=
ÒÒ 
null
ÒÒ "
)
ÒÒ" #

bttFriends
ÓÓ 
.
ÓÓ 
Content
ÓÓ "
=
ÓÓ# $

Properties
ÓÓ% /
.
ÓÓ/ 0
	Resources
ÓÓ0 9
.
ÓÓ9 :

bttFriends
ÓÓ: D
;
ÓÓD E
if
ÕÕ 
(
ÕÕ 

bttNewGame
ÕÕ 
!=
ÕÕ 
null
ÕÕ "
)
ÕÕ" #

bttNewGame
ÖÖ 
.
ÖÖ 
Content
ÖÖ "
=
ÖÖ# $

Properties
ÖÖ% /
.
ÖÖ/ 0
	Resources
ÖÖ0 9
.
ÖÖ9 :

bttNewGame
ÖÖ: D
;
ÖÖD E
if
ØØ 
(
ØØ #
lblProfileInformation
ØØ %
!=
ØØ& (
null
ØØ) -
)
ØØ- .#
lblProfileInformation
ÙÙ %
.
ÙÙ% &
Content
ÙÙ& -
=
ÙÙ. /

Properties
ÙÙ0 :
.
ÙÙ: ;
	Resources
ÙÙ; D
.
ÙÙD E#
lblProfileInformation
ÙÙE Z
;
ÙÙZ [
}
ÚÚ 	
private
ÜÜ 
void
ÜÜ 

ReturnPage
ÜÜ 
(
ÜÜ  
)
ÜÜ  !
{
ÝÝ 	%
NotifyFriendsIamLeaving
ÞÞ #
(
ÞÞ# $
)
ÞÞ$ %
;
ÞÞ% &#
CleanGlobalParameters
ßß !
(
ßß! "
)
ßß" #
;
ßß# $
	LogInUser
àà 
	logInPage
àà 
=
àà  !
new
àà" %
	LogInUser
àà& /
(
àà/ 0
)
àà0 1
;
àà1 2
this
áá 
.
áá 
NavigationService
áá "
.
áá" #
Navigate
áá# +
(
áá+ ,
	logInPage
áá, 5
)
áá5 6
;
áá6 7
NavigationService
ââ 
.
ââ 
RemoveBackEntry
ââ -
(
ââ- .
)
ââ. /
;
ââ/ 0
}
ãã 	
private
åå 
void
åå %
NotifyFriendsIamLeaving
åå ,
(
åå, -
)
åå- .
{
ææ 	
try
çç 
{
èè .
 CheckUserLivingUnsubscribeClient
éé 0#
checkUserLivingClient
éé1 F
=
ééG H
new
ééI L
(
ééL M
)
ééM N
;
ééN O#
checkUserLivingClient
êê %
.
êê% &-
UnsubscribeFromICheckUserLiving
êê& E
(
êêE F
UserSingleton
êêF S
.
êêS T"
GetUserPojoSingelton
êêT h
(
êêh i
)
êêi j
)
êêj k
;
êêk l
}
ëë 
catch
ìì 
(
ìì '
EndpointNotFoundException
ìì ,
ex
ìì- /
)
ìì/ 0
{
íí %
ExceptionHandlerForLogs
îî '
.
îî' (
LogException
îî( 4
(
îî4 5
ex
îî5 7
,
îî7 8!
ExceptionDictionary
îî9 L
.
îîL M
FATAL_EXCEPTION
îîM \
)
îî\ ]
;
îî] ^
}
ïï 
catch
ðð 
(
ðð 1
#CommunicationObjectFaultedException
ðð 6
ex
ðð7 9
)
ðð9 :
{
ññ %
ExceptionHandlerForLogs
òò '
.
òò' (
LogException
òò( 4
(
òò4 5
ex
òò5 7
,
òò7 8!
ExceptionDictionary
òò9 L
.
òòL M
FATAL_EXCEPTION
òòM \
)
òò\ ]
;
òò] ^
}
óó 
catch
ôô 
(
ôô 
TimeoutException
ôô #
ex
ôô$ &
)
ôô& '
{
õõ %
ExceptionHandlerForLogs
öö '
.
öö' (
LogException
öö( 4
(
öö4 5
ex
öö5 7
,
öö7 8!
ExceptionDictionary
öö9 L
.
ööL M
FATAL_EXCEPTION
ööM \
)
öö\ ]
;
öö] ^
}
÷÷ 
catch
øø 
(
øø $
CommunicationException
øø )
ex
øø* ,
)
øø, -
{
ùù %
ExceptionHandlerForLogs
úú '
.
úú' (
LogException
úú( 4
(
úú4 5
ex
úú5 7
,
úú7 8!
ExceptionDictionary
úú9 L
.
úúL M
FATAL_EXCEPTION
úúM \
)
úú\ ]
;
úú] ^
}
ûû 
catch
üü 
(
üü 
SocketException
üü "
ex
üü# %
)
üü% &
{
ýý %
ExceptionHandlerForLogs
þþ '
.
þþ' (
LogException
þþ( 4
(
þþ4 5
ex
þþ5 7
,
þþ7 8!
ExceptionDictionary
þþ9 L
.
þþL M
FATAL_EXCEPTION
þþM \
)
þþ\ ]
;
þþ] ^
}
ÿÿ 
}
 	
}
 
} ¨

C:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\DialogWindows\ErrorMessageDialogWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
DialogWindows $
{ 
public		 

partial		 
class		 $
ErrorMessageDialogWindow		 1
:		2 3
Window		4 :
{

 
public $
ErrorMessageDialogWindow '
(' (
String( .
windowTitle/ :
,: ;
String< B
messageC J
,J K
WindowL R
currentWindowS `
)` a
{ 	
InitializeComponent 
(  
)  !
;! "
txbErrorTitle 
. 
Text 
=  
windowTitle! ,
;, -
txbErrorMessage 
. 
Text  
=! "
message# *
;* +
} 	
private 
void 
ClickAcceptButton &
(& '
object' -
sender. 4
,4 5
RoutedEventArgs6 E
eF G
)G H
{ 	
this 
. 
Close 
( 
) 
; 
} 	
} 
} »

C:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\DialogWindows\InformationMessageDialogWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
DialogWindows $
{ 
public		 

partial		 
class		 *
InformationMessageDialogWindow		 8
:		9 :
Window		; A
{

 
public *
InformationMessageDialogWindow .
(. /
String/ 5
windowTitle6 A
,A B
StringC I
messageJ Q
,Q R
WindowS Y
currentWindowZ g
)g h
{ 	
InitializeComponent 
(  
)  !
;! "
txbErrorTitle 
. 
Text 
=  
windowTitle! ,
;, -
txbErrorMessage 
. 
Text  
=! "
message# *
;* +
} 	
private 
void 
ClickAcceptButton &
(& '
object' -
sender. 4
,4 5
RoutedEventArgs6 E
eF G
)G H
{ 	
this 
. 
Close 
( 
) 
; 
} 	
} 
} ùº
oC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\PasswordRecovery.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
PasswordRecovery )
:* +
Page, 0
{ 
private!! 
List!! 
<!! 
Label!! 
>!! 
ListBoxRules!! (
=!!) *
new!!+ .
List!!/ 3
<!!3 4
Label!!4 9
>!!9 :
(!!: ;
)!!; <
;!!< =
private"" 
const"" 
int"" 
DISALLOWED_VALUES"" +
="", -
$num"". /
;""/ 0
private## 
const## 
int## 
ALLOWED_VALUES## (
=##) *
$num##+ ,
;##, -
private$$ 
const$$ 
int$$ #
MINIMUN_PASSWORD_LENGTH$$ 1
=$$2 3
$num$$4 6
;$$6 7
private%% 
const%% 
int%% #
MAXIMUM_PASSWORD_LENGTH%% 1
=%%2 3
$num%%4 6
;%%6 7
private&& 
DispatcherTimer&& 
timer&&  %
;&&% &
private'' 
int'' 
leftTime'' 
;'' 
private(( 
string(( 
currentUserName(( &
;((& '
public++ 
PasswordRecovery++ 
(++  
)++  !
{,, 	
InitializeComponent-- 
(--  
)--  !
;--! "
PrepareWindow.. 
(.. 
).. 
;.. $
txbUserNameCreateAccount// $
.//$ %
	MaxLength//% .
=/// 0
$num//1 3
;//3 4
txbCode00 
.00 
	MaxLength00 
=00 
$num00  !
;00! "
psbPassword11 
.11 
	MaxLength11 !
=11" #
$num11$ &
;11& '
}22 	
private44 
void44 
PrepareWindow44 "
(44" #
)44# $
{55 	
InitializeListeners66 
(66  
)66  !
;66! "
CreateRuleLabels77 
(77 
)77 
;77 
foreach88 
(88 
var88 
rule88 
in88  
ListBoxRules88! -
)88- .
{99 
lsbPasswordRules::  
.::  !
Items::! &
.::& '
Add::' *
(::* +
rule::+ /
)::/ 0
;::0 1
};; 
}<< 	
private>> 
void>> 
InitializeListeners>> (
(>>( )
)>>) *
{?? 	
psbPassword@@ 
.@@ 
PreviewKeyDown@@ &
+=@@' )
EntryTextBoxPaste@@* ;
;@@; <$
txbUserNameCreateAccountAA $
.AA$ %
PreviewTextInputAA% 5
+=AA6 8&
EntryTextBoxCharValidationAA9 S
;AAS T$
txbUserNameCreateAccountBB $
.BB$ %
PreviewKeyDownBB% 3
+=BB4 6
EntryTextBoxPasteBB7 H
;BBH I
}CC 	
privateEE 
voidEE &
EntryTextBoxCharValidationEE /
(EE/ 0
objectEE0 6
senderEE7 =
,EE= >$
TextCompositionEventArgsEE? W
eEEX Y
)EEY Z
{FF 	
TextBoxGG 
currentTextBoxGG "
=GG# $
senderGG% +
asGG, .
TextBoxGG/ 6
;GG6 7%
RegularExpressionsLibraryHH %%
regularExpressionsLibraryHH& ?
=HH@ A
newHHB E%
RegularExpressionsLibraryHHF _
(HH_ `
)HH` a
;HHa b
tryII 
{JJ 
ifKK 
(KK 
(KK %
regularExpressionsLibraryKK .
.KK. /$
ValidationTextBoxRegexesKK/ G
.KKG H
TryGetValueKKH S
(KKS T
currentTextBoxKKT b
.KKb c
NameKKc g
,KKg h
outKKi l
stringKKm s
regexKKt y
)KKy z
)KKz {
&&LL 
!LL 
RegexLL 
.LL 
IsMatchLL  
(LL  !
(LL! "
currentTextBoxLL" 0
.LL0 1
TextLL1 5
+LL6 7
eLL8 9
.LL9 :
TextLL: >
)LL> ?
,LL? @
regexLLA F
,LLF G
RegexOptionsLLH T
.LLT U

IgnoreCaseLLU _
,LL_ `
TimeSpanLLa i
.LLi j
FromMillisecondsLLj z
(LLz {
$numLL{ ~
)LL~ 
)	LL 
)
LL 
{MM 
eNN 
.NN 
HandledNN 
=NN 
trueNN  $
;NN$ %
}OO 
}PP 
catchQQ 
(QQ &
RegexMatchTimeoutExceptionQQ -
exQQ. 0
)QQ0 1
{RR #
ExceptionHandlerForLogsSS '
.SS' (
LogExceptionSS( 4
(SS4 5
exSS5 7
,SS7 8
ExceptionDictionarySS9 L
.SSL M
ERRORSSM R
)SSR S
;SSS T
eTT 
.TT 
HandledTT 
=TT 
trueTT  
;TT  !
}UU 
catchVV 
(VV !
ArgumentNullExceptionVV (
exVV) +
)VV+ ,
{WW #
ExceptionHandlerForLogsXX '
.XX' (
LogExceptionXX( 4
(XX4 5
exXX5 7
,XX7 8
ExceptionDictionaryXX9 L
.XXL M
ERRORXXM R
)XXR S
;XXS T
eYY 
.YY 
HandledYY 
=YY 
trueYY  
;YY  !
}ZZ 
}[[ 	
private]] 
void]] 
EntryTextBoxPaste]] &
(]]& '
object]]' -
sender]]. 4
,]]4 5
KeyEventArgs]]6 B
e]]C D
)]]D E
{^^ 	
if__ 
(__ 
(__ 
Keyboard__ 
.__ 
	Modifiers__ #
&__$ %
ModifierKeys__& 2
.__2 3
Control__3 :
)__: ;
==__< >
ModifierKeys__? K
.__K L
Control__L S
&&__T V
(__W X
e__X Y
.__Y Z
Key__Z ]
==__^ `
Key__a d
.__d e
V__e f
)__f g
)__g h
{`` 
eaa 
.aa 
Handledaa 
=aa 
trueaa  
;aa  !
}bb 
}cc 	
privateee 
voidee 
CreateRuleLabelsee %
(ee% &
)ee& '
{ff 	
Labelgg !
lblPasswordLengthRulegg '
=gg( )
newgg* -
Labelgg. 3
(gg3 4
)gg4 5
;gg5 6!
lblPasswordLengthRulehh !
.hh! "
Contenthh" )
=hh* +

Propertieshh, 6
.hh6 7
	Resourceshh7 @
.hh@ A!
lblPassLengthRuleDeschhA V
;hhV W!
lblPasswordLengthRuleii !
.ii! "

Foregroundii" ,
=ii- .
Brushesii/ 6
.ii6 7
Whiteii7 <
;ii< =!
lblPasswordLengthRulejj !
.jj! "
FontSizejj" *
=jj+ ,
$numjj- /
;jj/ 0
Labelkk "
lblPasswordNumbersRulekk (
=kk) *
newkk+ .
Labelkk/ 4
(kk4 5
)kk5 6
;kk6 7"
lblPasswordNumbersRulell "
.ll" #
Contentll# *
=ll+ ,

Propertiesll- 7
.ll7 8
	Resourcesll8 A
.llA B!
lblPassNumberRuleDescllB W
;llW X"
lblPasswordNumbersRulemm "
.mm" #

Foregroundmm# -
=mm. /
Brushesmm0 7
.mm7 8
Whitemm8 =
;mm= >"
lblPasswordNumbersRulenn "
.nn" #
FontSizenn# +
=nn, -
$numnn. 0
;nn0 1
Labeloo #
lblPasswordCapitalsRuleoo )
=oo* +
newoo, /
Labeloo0 5
(oo5 6
)oo6 7
;oo7 8#
lblPasswordCapitalsRulepp #
.pp# $
Contentpp$ +
=pp, -

Propertiespp. 8
.pp8 9
	Resourcespp9 B
.ppB C"
lblPassCapitalRuleDescppC Y
;ppY Z#
lblPasswordCapitalsRuleqq #
.qq# $

Foregroundqq$ .
=qq/ 0
Brushesqq1 8
.qq8 9
Whiteqq9 >
;qq> ?#
lblPasswordCapitalsRulerr #
.rr# $
FontSizerr$ ,
=rr- .
$numrr/ 1
;rr1 2
Labelss "
lblPasswordSpeCharRuless (
=ss) *
newss+ .
Labelss/ 4
(ss4 5
)ss5 6
;ss6 7"
lblPasswordSpeCharRulett "
.tt" #
Contenttt# *
=tt+ ,

Propertiestt- 7
.tt7 8
	Resourcestt8 A
.ttA B"
lblPassSpeCharRuleDescttB X
;ttX Y"
lblPasswordSpeCharRuleuu "
.uu" #

Foregrounduu# -
=uu. /
Brushesuu0 7
.uu7 8
Whiteuu8 =
;uu= >"
lblPasswordSpeCharRulevv "
.vv" #
FontSizevv# +
=vv, -
$numvv. 0
;vv0 1
Labelww &
lblPasswordPunctuationRuleww ,
=ww- .
newww/ 2
Labelww3 8
(ww8 9
)ww9 :
;ww: ;&
lblPasswordPunctuationRulexx &
.xx& '
Contentxx' .
=xx/ 0

Propertiesxx1 ;
.xx; <
	Resourcesxx< E
.xxE F"
lblPassPuntSigRuleDescxxF \
;xx\ ]&
lblPasswordPunctuationRuleyy &
.yy& '

Foregroundyy' 1
=yy2 3
Brushesyy4 ;
.yy; <
Whiteyy< A
;yyA B&
lblPasswordPunctuationRulezz &
.zz& '
FontSizezz' /
=zz0 1
$numzz2 4
;zz4 5
Label{{ $
lblPasswordSameEmailRule{{ *
={{+ ,
new{{- 0
Label{{1 6
({{6 7
){{7 8
;{{8 9$
lblPasswordSameEmailRule|| $
.||$ %
Content||% ,
=||- .

Properties||/ 9
.||9 :
	Resources||: C
.||C D&
lblPassEqualsEmailRuleDesc||D ^
;||^ _$
lblPasswordSameEmailRule}} $
.}}$ %

Foreground}}% /
=}}0 1
Brushes}}2 9
.}}9 :
White}}: ?
;}}? @$
lblPasswordSameEmailRule~~ $
.~~$ %
FontSize~~% -
=~~. /
$num~~0 2
;~~2 3
ListBoxRules 
. 
Add 
( !
lblPasswordLengthRule 2
)2 3
;3 4
ListBoxRules
 
.
 
Add
 
(
 $
lblPasswordNumbersRule
 3
)
3 4
;
4 5
ListBoxRules
 
.
 
Add
 
(
 %
lblPasswordCapitalsRule
 4
)
4 5
;
5 6
ListBoxRules
 
.
 
Add
 
(
 $
lblPasswordSpeCharRule
 3
)
3 4
;
4 5
ListBoxRules
 
.
 
Add
 
(
 (
lblPasswordPunctuationRule
 7
)
7 8
;
8 9
ListBoxRules
 
.
 
Add
 
(
 &
lblPasswordSameEmailRule
 5
)
5 6
;
6 7
}
 	
private
 
int
 
CheckEmptyFields
 $
(
$ %
Label
% *
warningLabel
+ 7
,
7 8
TextBox
9 @

txbToCheck
A K
)
K L
{
 	
int
 
answer
 
=
 
ALLOWED_VALUES
 '
;
' (
if
 
(
 
string
 
.
 
IsNullOrEmpty
 $
(
$ %

txbToCheck
% /
.
/ 0
Text
0 4
.
4 5
Trim
5 9
(
9 :
)
: ;
)
; <
)
< =
{
 
warningLabel
 
.
 

Visibility
 '
=
( )

Visibility
* 4
.
4 5
Visible
5 <
;
< =
answer
 
=
 
DISALLOWED_VALUES
 *
;
* +
}
 
else
 
{
 
warningLabel
 
.
 

Visibility
 '
=
( )

Visibility
* 4
.
4 5
	Collapsed
5 >
;
> ?
}
 
return
 
answer
 
;
 
}
 	
private
 
void
 "
ClickConfirmUserName
 )
(
) *
object
* 0
sender
1 7
,
7 8
RoutedEventArgs
9 H
e
I J
)
J K
{
 	
if
 
(
 
CheckEmptyFields
 
(
  
lblUserNamWarning
  1
,
1 2&
txbUserNameCreateAccount
3 K
)
K L
==
M O
ALLOWED_VALUES
P ^
)
^ _
{
 
try
 
{
 #
RecoverPasswordClient
 )"
recoverPasswordProxy
* >
=
? @
new
A D#
RecoverPasswordClient
E Z
(
Z [
)
[ \
;
\ ]
int
 
succes
 
=
  "
recoverPasswordProxy
! 5
.
5 6)
CreateCodeToRecoverPassWord
6 Q
(
Q R&
txbUserNameCreateAccount
R j
.
j k
Text
k o
,
o p

Properties
q {
.
{ |
	Resources| 
.  
EmailSubjectCode 
, 

Properties ¢
.¢ £
	Resources£ ¬
.¬ ­&
RecoverPasswordMessage­ Ã
)Ã Ä
;Ä Å
if
 
(
 
succes
 
==
  !
ExceptionDictionary
! 4
.
4 5
SUCCESFULL_EVENT
5 E
||
F H!
ExceptionDictionary
I \
.
\ ]$
USERNAME_ALREADY_EXIST
] s
==
t v
succes
w }
)
} ~
{
   %
ConfirmCodeAlreadyExist
¡¡ /
(
¡¡/ 0
succes
¡¡0 6
)
¡¡6 7
;
¡¡7 8
}
¢¢ 
else
££ 
if
££ 
(
££ 
succes
££ "
==
££# %!
ExceptionDictionary
££& 9
.
££9 :
NULL_PARAEMETER
££: I
)
££I J
{
¤¤ !
DialogWindowManager
¥¥ +
.
¥¥+ ,#
ShowInfoOrErrorWindow
¥¥, A
(
¥¥A B

Properties
¥¥B L
.
¥¥L M
	Resources
¥¥M V
.
¥¥V W
txbErrorTitle
¥¥W d
,
¥¥d e

Properties
¥¥f p
.
¥¥p q
	Resources
¥¥q z
.
¥¥z {&
lblUserNameDoesNotExist¥¥{ 
,¥¥ 
Window¥¥ 
.¥¥ 
	GetWindow¥¥ ¤
(¥¥¤ ¥
this¥¥¥ ©
)¥¥© ª
,¥¥ª «#
DialogWindowManager¥¥¬ ¿
.¥¥¿ À
ERROR¥¥À Å
)¥¥Å Æ
;¥¥Æ Ç
}
¦¦ 
else
§§ 
{
¨¨ !
DialogWindowManager
©© +
.
©©+ ,#
ShowInfoOrErrorWindow
©©, A
(
©©A B

Properties
©©B L
.
©©L M
	Resources
©©M V
.
©©V W
txbErrorTitle
©©W d
,
©©d e

Properties
©©f p
.
©©p q
	Resources
©©q z
.
©©z { 
GenericEmailIssue©©{ 
,©© 
Window©© 
.©© 
	GetWindow©© 
(©© 
this©© £
)©©£ ¤
,©©¤ ¥#
DialogWindowManager©©¦ ¹
.©©¹ º
ERROR©©º ¿
)©©¿ À
;©©À Á
}
ªª 
}
«« 
catch
¬¬ 
(
¬¬ '
EndpointNotFoundException
¬¬ 0
ex
¬¬1 3
)
¬¬3 4
{
­­ 
HandleException
®® #
(
®®# $
ex
®®$ &
,
®®& '

Properties
®®( 2
.
®®2 3
	Resources
®®3 <
.
®®< =
GenericEmailIssue
®®= N
+
®®O P
$str
®®Q T
+
®®U V

Properties
®®W a
.
®®a b
	Resources
®®b k
.
®®k l!
lblEndPointNotFound
®®l 
)®® 
;®® 
}
°° 
catch
±± 
(
±± 1
#CommunicationObjectFaultedException
±± :
ex
±±; =
)
±±= >
{
²² 
HandleException
³³ #
(
³³# $
ex
³³$ &
,
³³& '

Properties
³³( 2
.
³³2 3
	Resources
³³3 <
.
³³< =
GenericEmailIssue
³³= N
+
³³O P
$str
³³Q T
+
³³U V

Properties
³³W a
.
³³a b
	Resources
³³b k
.
³³k l'
lblComunicationException³³l 
)³³ 
;³³ 
}
´´ 
catch
µµ 
(
µµ 
TimeoutException
µµ '
ex
µµ( *
)
µµ* +
{
¶¶ 
HandleException
·· #
(
··# $
ex
··$ &
,
··& '

Properties
··( 2
.
··2 3
	Resources
··3 <
.
··< =
GenericEmailIssue
··= N
+
··O P
$str
··Q T
+
··U V

Properties
··W a
.
··a b
	Resources
··b k
.
··k l
lblTimeException
··l |
)
··| }
;
··} ~
}
¸¸ 
catch
¹¹ 
(
¹¹ $
CommunicationException
¹¹ -
ex
¹¹. 0
)
¹¹0 1
{
ºº 
HandleException
»» #
(
»»# $
ex
»»$ &
,
»»& '

Properties
»»( 2
.
»»2 3
	Resources
»»3 <
.
»»< =
GenericEmailIssue
»»= N
+
»»O P
$str
»»Q T
+
»»U V

Properties
»»W a
.
»»a b
	Resources
»»b k
.
»»k l!
lblWithoutConection
»»l 
)»» 
;»» 
}
¼¼ 
catch
½½ 
(
½½ 
SocketException
½½ &
ex
½½' )
)
½½) *
{
¾¾ 
HandleException
¿¿ #
(
¿¿# $
ex
¿¿$ &
,
¿¿& '

Properties
¿¿( 2
.
¿¿2 3
	Resources
¿¿3 <
.
¿¿< =
GenericEmailIssue
¿¿= N
+
¿¿O P
$str
¿¿Q T
+
¿¿U V

Properties
¿¿W a
.
¿¿a b
	Resources
¿¿b k
.
¿¿k l!
lblEndPointNotFound
¿¿l 
)¿¿ 
;¿¿ 
}
ÀÀ 
}
ÁÁ 
}
ÂÂ 	
private
ÄÄ 
void
ÄÄ %
ConfirmCodeAlreadyExist
ÄÄ ,
(
ÄÄ, -
int
ÄÄ- 0
succes
ÄÄ1 7
)
ÄÄ7 8
{
ÅÅ 	
currentUserName
ÆÆ 
=
ÆÆ &
txbUserNameCreateAccount
ÆÆ 6
.
ÆÆ6 7
Text
ÆÆ7 ;
.
ÆÆ; <
Trim
ÆÆ< @
(
ÆÆ@ A
)
ÆÆA B
;
ÆÆB C
bttConfirmCode
ÇÇ 
.
ÇÇ 
	IsEnabled
ÇÇ $
=
ÇÇ% &
true
ÇÇ' +
;
ÇÇ+ , 
bttConfirmUserName
ÈÈ 
.
ÈÈ 
	IsEnabled
ÈÈ (
=
ÈÈ) *
false
ÈÈ+ 0
;
ÈÈ0 1&
txbUserNameCreateAccount
ÉÉ $
.
ÉÉ$ %
	IsEnabled
ÉÉ% .
=
ÉÉ/ 0
false
ÉÉ1 6
;
ÉÉ6 7
bttSaveUser
ÊÊ 
.
ÊÊ 
	IsEnabled
ÊÊ !
=
ÊÊ" #
false
ÊÊ$ )
;
ÊÊ) *

StartTimer
ËË 
(
ËË 
)
ËË 
;
ËË 
if
ÌÌ 
(
ÌÌ 
succes
ÌÌ 
==
ÌÌ !
ExceptionDictionary
ÌÌ -
.
ÌÌ- .$
USERNAME_ALREADY_EXIST
ÌÌ. D
)
ÌÌD E
{
ÍÍ !
DialogWindowManager
ÎÎ #
.
ÎÎ# $#
ShowInfoOrErrorWindow
ÎÎ$ 9
(
ÎÎ9 :

Properties
ÎÎ: D
.
ÎÎD E
	Resources
ÎÎE N
.
ÎÎN O
txbErrorTitle
ÎÎO \
,
ÎÎ\ ]

Properties
ÎÎ^ h
.
ÎÎh i
	Resources
ÎÎi r
.
ÎÎr s3
$lblAlreadyExistACodeToChangePasswordÎÎs 
,ÎÎ 
WindowÎÎ 
.ÎÎ  
	GetWindowÎÎ  ©
(ÎÎ© ª
thisÎÎª ®
)ÎÎ® ¯
,ÎÎ¯ °#
DialogWindowManagerÎÎ± Ä
.ÎÎÄ Å
ERRORÎÎÅ Ê
)ÎÎÊ Ë
;ÎÎË Ì
}
ÏÏ 
else
ÐÐ 
{
ÑÑ !
DialogWindowManager
ÒÒ #
.
ÒÒ# $#
ShowInfoOrErrorWindow
ÒÒ$ 9
(
ÒÒ9 :

Properties
ÒÒ: D
.
ÒÒD E
	Resources
ÒÒE N
.
ÒÒN O!
txbInformationTitle
ÒÒO b
,
ÒÒb c

Properties
ÒÒd n
.
ÒÒn o
	Resources
ÒÒo x
.
ÒÒx y2
#lblEmailCodePassWordSendSuccesfullyÒÒy 
,ÒÒ 
WindowÒÒ ¤
.ÒÒ¤ ¥
	GetWindowÒÒ¥ ®
(ÒÒ® ¯
thisÒÒ¯ ³
)ÒÒ³ ´
,ÒÒ´ µ#
DialogWindowManagerÒÒ¶ É
.ÒÒÉ Ê
ERRORÒÒÊ Ï
)ÒÒÏ Ð
;ÒÒÐ Ñ
}
ÓÓ 
}
ÔÔ 	
private
ÖÖ 
void
ÖÖ 
CLickConfirmCode
ÖÖ %
(
ÖÖ% &
object
ÖÖ& ,
sender
ÖÖ- 3
,
ÖÖ3 4
RoutedEventArgs
ÖÖ5 D
e
ÖÖE F
)
ÖÖF G
{
×× 	
if
ØØ 
(
ØØ 
CheckEmptyFields
ØØ  
(
ØØ  !
lblCodeNamWarning
ØØ! 2
,
ØØ2 3
txbCode
ØØ4 ;
)
ØØ; <
==
ØØ= ?
ALLOWED_VALUES
ØØ@ N
)
ØØN O
{
ÙÙ 
try
ÚÚ 
{
ÛÛ #
RecoverPasswordClient
ÜÜ )"
recoverPasswordProxy
ÜÜ* >
=
ÜÜ? @
new
ÜÜA D#
RecoverPasswordClient
ÜÜE Z
(
ÜÜZ [
)
ÜÜ[ \
;
ÜÜ\ ]
int
ÝÝ 
succes
ÝÝ 
=
ÝÝ  "
recoverPasswordProxy
ÝÝ! 5
.
ÝÝ5 6)
VerifyCodeToRecoverPassword
ÝÝ6 Q
(
ÝÝQ R
currentUserName
ÝÝR a
,
ÝÝa b
txbCode
ÝÝc j
.
ÝÝj k
Text
ÝÝk o
.
ÝÝo p
Trim
ÝÝp t
(
ÝÝt u
)
ÝÝu v
)
ÝÝv w
;
ÝÝw x
if
ÞÞ 
(
ÞÞ 
succes
ÞÞ 
==
ÞÞ !!
ExceptionDictionary
ÞÞ" 5
.
ÞÞ5 6
SUCCESFULL_EVENT
ÞÞ6 F
)
ÞÞF G
{
ßß 
bttConfirmCode
àà &
.
àà& '
	IsEnabled
àà' 0
=
àà1 2
false
àà3 8
;
àà8 9 
bttConfirmUserName
áá *
.
áá* +
	IsEnabled
áá+ 4
=
áá5 6
false
áá7 <
;
áá< =&
txbUserNameCreateAccount
ââ 0
.
ââ0 1
	IsEnabled
ââ1 :
=
ââ; <
false
ââ= B
;
ââB C
txbCode
ãã 
.
ãã  
	IsEnabled
ãã  )
=
ãã* +
false
ãã, 1
;
ãã1 2
bttSaveUser
ää #
.
ää# $
	IsEnabled
ää$ -
=
ää. /
true
ää0 4
;
ää4 5!
DialogWindowManager
åå +
.
åå+ ,#
ShowInfoOrErrorWindow
åå, A
(
ååA B

Properties
ååB L
.
ååL M
	Resources
ååM V
.
ååV W!
txbInformationTitle
ååW j
,
ååj k

Properties
åål v
.
ååv w
	Resourcesååw 
.åå $
lblRigthCodePasswordåå 
,åå 
Windowåå 
.åå 
	GetWindowåå §
(åå§ ¨
thisåå¨ ¬
)åå¬ ­
,åå­ ®#
DialogWindowManageråå¯ Â
.ååÂ Ã
ERRORååÃ È
)ååÈ É
;ååÉ Ê
}
çç 
else
èè 
{
éé %
ShowSpecificCodeMessage
êê /
(
êê/ 0
succes
êê0 6
)
êê6 7
;
êê7 8
}
ëë 
}
ìì 
catch
íí 
(
íí '
EndpointNotFoundException
íí 0
ex
íí1 3
)
íí3 4
{
îî 
HandleException
ïï #
(
ïï# $
ex
ïï$ &
,
ïï& '

Properties
ïï( 2
.
ïï2 3
	Resources
ïï3 <
.
ïï< =$
lblFailToVerifyTheCode
ïï= S
+
ïïT U
$str
ïïV Y
+
ïïZ [

Properties
ïï\ f
.
ïïf g
	Resources
ïïg p
.
ïïp q"
lblEndPointNotFoundïïq 
)ïï 
;ïï 
}
ññ 
catch
òò 
(
òò 1
#CommunicationObjectFaultedException
òò :
ex
òò; =
)
òò= >
{
óó 
HandleException
ôô #
(
ôô# $
ex
ôô$ &
,
ôô& '

Properties
ôô( 2
.
ôô2 3
	Resources
ôô3 <
.
ôô< =$
lblFailToVerifyTheCode
ôô= S
+
ôôT U
$str
ôôV Y
+
ôôZ [

Properties
ôô\ f
.
ôôf g
	Resources
ôôg p
.
ôôp q'
lblComunicationExceptionôôq 
)ôô 
;ôô 
}
õõ 
catch
öö 
(
öö 
TimeoutException
öö '
ex
öö( *
)
öö* +
{
÷÷ 
HandleException
øø #
(
øø# $
ex
øø$ &
,
øø& '

Properties
øø( 2
.
øø2 3
	Resources
øø3 <
.
øø< =$
lblFailToVerifyTheCode
øø= S
+
øøT U
$str
øøV Y
+
øøZ [

Properties
øø\ f
.
øøf g
	Resources
øøg p
.
øøp q
lblTimeExceptionøøq 
)øø 
;øø 
}
ùù 
catch
úú 
(
úú $
CommunicationException
úú -
ex
úú. 0
)
úú0 1
{
ûû 
HandleException
üü #
(
üü# $
ex
üü$ &
,
üü& '

Properties
üü( 2
.
üü2 3
	Resources
üü3 <
.
üü< =$
lblFailToVerifyTheCode
üü= S
+
üüT U
$str
üüV Y
+
üüZ [

Properties
üü\ f
.
üüf g
	Resources
üüg p
.
üüp q"
lblWithoutConectionüüq 
)üü 
;üü 
}
ýý 
catch
þþ 
(
þþ 
SocketException
þþ &
ex
þþ' )
)
þþ) *
{
ÿÿ 
HandleException
 #
(
# $
ex
$ &
,
& '

Properties
( 2
.
2 3
	Resources
3 <
.
< =
GenericEmailIssue
= N
+
O P
$str
Q T
+
U V

Properties
W a
.
a b
	Resources
b k
.
k l!
lblEndPointNotFound
l 
) 
; 
}
 
}
 
}
 	
private
 
void
 %
ShowSpecificCodeMessage
 ,
(
, -
int
- 0
succes
1 7
)
7 8
{
 	
if
 
(
 
succes
 
==
 !
ExceptionDictionary
 -
.
- .
NULL_PARAEMETER
. =
)
= >
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s&
lblUserNameDoesNotExists 
, 
Window 
. 
	GetWindow 
( 
this ¡
)¡ ¢
,¢ £#
DialogWindowManager¤ ·
.· ¸
ERROR¸ ½
)½ ¾
;¾ ¿
}
 
else
 
if
 
(
 
succes
 
==
 !
ExceptionDictionary
 2
.
2 3
ARGUMENT_NULL
3 @
)
@ A
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s)
lblThereIsnoCodeFoThisUsers 
, 
Window 
. 
	GetWindow 
(  
this  ¤
)¤ ¥
,¥ ¦#
DialogWindowManager§ º
.º »
ERROR» À
)À Á
;Á Â
}
 
else
 
if
 
(
 
succes
 
==
 !
ExceptionDictionary
 2
.
2 3
INVALID_OPERATION
3 D
)
D E
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s"
lblWrongCodeEntereds 
, 
Window 
. 
	GetWindow 
( 
this 
) 
, #
DialogWindowManager  ³
.³ ´
ERROR´ ¹
)¹ º
;º »
}
 
else
 
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s%
lblFailToVerifyTheCodes 
, 
Window 
. 
	GetWindow 
( 
this  
)  ¡
,¡ ¢#
DialogWindowManager£ ¶
.¶ ·
ERROR· ¼
)¼ ½
;½ ¾
}
 
}
 	
private
 
void
 +
ClickButtonConfirmNewPassword
 2
(
2 3
object
3 9
sender
: @
,
@ A
RoutedEventArgs
B Q
e
R S
)
S T
{
 	
try
 
{
 *
ConsultUserInformationClient
 ,%
consultInformationProxy
- D
=
E F
new
G J*
ConsultUserInformationClient
K g
(
g h
)
h i
;
i j
var
 
userCosulted
  
=
! "%
consultInformationProxy
# :
.
: ;#
ConsultUserByUserName
; P
(
P Q
currentUserName
Q `
)
` a
;
a b
if
 
(
 
userCosulted
  
.
  !
	CodeEvent
! *
==
+ -!
ExceptionDictionary
. A
.
A B
SUCCESFULL_EVENT
B R
)
R S
{
 
if
   
(
   
ALLOWED_VALUES
   &
==
  ' )
CheckPassword
  * 7
(
  7 8
userCosulted
  8 D
.
  D E
ObjectSaved
  E P
.
  P Q
EmailAddress
  Q ]
)
  ] ^
)
  ^ _
{
¡¡ 
UserManagerClient
¢¢ )
userManagerClient
¢¢* ;
=
¢¢< =
new
¢¢> A
UserManagerClient
¢¢B S
(
¢¢S T
)
¢¢T U
;
¢¢U V
var
££ 
succes
££ "
=
££# $
userManagerClient
££% 6
.
££6 7 
UpdatePasswordUser
££7 I
(
££I J
currentUserName
££J Y
,
££Y Z
EncryptionClass
££Z i
.
££i j
EncryptPassword
££j y
(
££y z
psbPassword££z 
.££ 
Password££ 
.££ 
ToString££ 
(££ 
)££ 
.££ 
Trim££ 
(££ 
)££  
)££  ¡
)££¡ ¢
;££¢ £
if
¤¤ 
(
¤¤ 
succes
¤¤ "
.
¤¤" #
	CodeEvent
¤¤# ,
==
¤¤- /!
ExceptionDictionary
¤¤0 C
.
¤¤C D
SUCCESFULL_EVENT
¤¤D T
)
¤¤T U
{
¥¥ !
DialogWindowManager
¦¦ /
.
¦¦/ 0#
ShowInfoOrErrorWindow
¦¦0 E
(
¦¦E F

Properties
¦¦F P
.
¦¦P Q
	Resources
¦¦Q Z
.
¦¦Z [!
txbInformationTitle
¦¦[ n
,
¦¦n o

Properties
¦¦p z
.
¦¦z {
	Resources¦¦{ 
.¦¦ +
lblPassWordUpdatedCorrectly¦¦  
,¦¦  ¡
Window¦¦¢ ¨
.¦¦¨ ©
	GetWindow¦¦© ²
(¦¦² ³
this¦¦³ ·
)¦¦· ¸
,¦¦¸ ¹#
DialogWindowManager¦¦º Í
.¦¦Í Î
INFORMATION¦¦Î Ù
)¦¦Ù Ú
;¦¦Ú Û!
GoToPrincipalWindow
§§ /
(
§§/ 0
)
§§0 1
;
§§1 2
}
¨¨ 
else
©© 
{
ªª !
DialogWindowManager
«« /
.
««/ 0#
ShowInfoOrErrorWindow
««0 E
(
««E F

Properties
««F P
.
««P Q
	Resources
««Q Z
.
««Z [
txbErrorTitle
««[ h
,
««h i

Properties
««j t
.
««t u
	Resources
««u ~
.
««~ &
lblFailToUpdatePassword«« 
+«« 
$str«« 
+«« 

Properties«« ©
.««© ª
	Resources««ª ³
.««³ ´"
lblFailToConenctBD««´ Æ
,««Æ Ç
Window««È Î
.««Î Ï
	GetWindow««Ï Ø
(««Ø Ù
this««Ù Ý
)««Ý Þ
,««Þ ß#
DialogWindowManager««à ó
.««ó ô
ERROR««ô ù
)««ù ú
;««ú û
}
¬¬ 
}
­­ 
else
®® 
{
¯¯ 
ShowPasswordRules
°° )
(
°°) *
)
°°* +
;
°°+ ,
}
±± 
}
²² 
else
³³ 
{
´´ !
DialogWindowManager
µµ '
.
µµ' (#
ShowInfoOrErrorWindow
µµ( =
(
µµ= >

Properties
µµ> H
.
µµH I
	Resources
µµI R
.
µµR S
txbErrorTitle
µµS `
,
µµ` a

Properties
µµb l
.
µµl m
	Resources
µµm v
.
µµv w&
lblFailToUpdatePasswordµµw 
+µµ 
$strµµ 
+µµ 

Propertiesµµ ¡
.µµ¡ ¢
	Resourcesµµ¢ «
.µµ« ¬"
lblFailToConenctBDµµ¬ ¾
,µµ¾ ¿
WindowµµÀ Æ
.µµÆ Ç
	GetWindowµµÇ Ð
(µµÐ Ñ
thisµµÑ Õ
)µµÕ Ö
,µµÖ ×#
DialogWindowManagerµµØ ë
.µµë ì
ERRORµµì ñ
)µµñ ò
;µµò ó
}
¶¶ 
}
·· 
catch
¸¸ 
(
¸¸ '
EndpointNotFoundException
¸¸ ,
ex
¸¸- /
)
¸¸/ 0
{
¹¹ 
HandleException
ºº 
(
ºº  
ex
ºº  "
,
ºº" #

Properties
ºº$ .
.
ºº. /
	Resources
ºº/ 8
.
ºº8 9%
lblFailToUpdatePassword
ºº9 P
+
ººQ R
$str
ººS V
+
ººX Y

Properties
ººZ d
.
ººd e
	Resources
ººe n
.
ººn o"
lblEndPointNotFoundººo 
)ºº 
;ºº 
}
¼¼ 
catch
½½ 
(
½½ 1
#CommunicationObjectFaultedException
½½ 6
ex
½½7 9
)
½½9 :
{
¾¾ 
HandleException
¿¿ 
(
¿¿  
ex
¿¿  "
,
¿¿" #

Properties
¿¿$ .
.
¿¿. /
	Resources
¿¿/ 8
.
¿¿8 9%
lblFailToUpdatePassword
¿¿9 P
+
¿¿Q R
$str
¿¿S V
+
¿¿V W

Properties
¿¿X b
.
¿¿b c
	Resources
¿¿c l
.
¿¿l m'
lblComunicationException¿¿m 
)¿¿ 
;¿¿ 
}
ÀÀ 
catch
ÁÁ 
(
ÁÁ 
TimeoutException
ÁÁ #
ex
ÁÁ$ &
)
ÁÁ& '
{
ÂÂ 
HandleException
ÃÃ 
(
ÃÃ  
ex
ÃÃ  "
,
ÃÃ" #

Properties
ÃÃ$ .
.
ÃÃ. /
	Resources
ÃÃ/ 8
.
ÃÃ8 9%
lblFailToUpdatePassword
ÃÃ9 P
+
ÃÃQ R
$str
ÃÃS V
+
ÃÃW X

Properties
ÃÃY c
.
ÃÃc d
	Resources
ÃÃd m
.
ÃÃm n
lblTimeException
ÃÃn ~
)
ÃÃ~ 
;ÃÃ 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ $
CommunicationException
ÅÅ )
ex
ÅÅ* ,
)
ÅÅ, -
{
ÆÆ 
HandleException
ÇÇ 
(
ÇÇ  
ex
ÇÇ  "
,
ÇÇ" #

Properties
ÇÇ$ .
.
ÇÇ. /
	Resources
ÇÇ/ 8
.
ÇÇ8 9%
lblFailToUpdatePassword
ÇÇ9 P
+
ÇÇQ R
$str
ÇÇS V
+
ÇÇW X

Properties
ÇÇY c
.
ÇÇc d
	Resources
ÇÇd m
.
ÇÇm n"
lblWithoutConectionÇÇn 
)ÇÇ 
;ÇÇ 
}
ÈÈ 
catch
ÉÉ 
(
ÉÉ 
SocketException
ÉÉ "
ex
ÉÉ# %
)
ÉÉ% &
{
ÊÊ 
HandleException
ËË 
(
ËË  
ex
ËË  "
,
ËË" #

Properties
ËË$ .
.
ËË. /
	Resources
ËË/ 8
.
ËË8 9
GenericEmailIssue
ËË9 J
+
ËËK L
$str
ËËM P
+
ËËQ R

Properties
ËËS ]
.
ËË] ^
	Resources
ËË^ g
.
ËËg h!
lblEndPointNotFound
ËËh {
)
ËË{ |
;
ËË| }
}
ÌÌ 
}
ÍÍ 	
private
ÏÏ 
int
ÏÏ 
CheckPassword
ÏÏ !
(
ÏÏ! "
string
ÏÏ" (
email
ÏÏ) .
)
ÏÏ. /
{
ÐÐ 	
int
ÑÑ 
answer
ÑÑ 
=
ÑÑ 
ALLOWED_VALUES
ÑÑ '
;
ÑÑ' (
try
ÒÒ 
{
ÓÓ '
RegularExpressionsLibrary
ÔÔ )
regexInstance
ÔÔ* 7
=
ÔÔ8 9
new
ÔÔ: ='
RegularExpressionsLibrary
ÔÔ> W
(
ÔÔW X
)
ÔÔX Y
;
ÔÔY Z
string
ÕÕ 
regexExpression
ÕÕ &
;
ÕÕ& '
String
ÖÖ 
passwordChecked
ÖÖ &
=
ÖÖ' (
psbPassword
ÖÖ) 4
.
ÖÖ4 5
Password
ÖÖ5 =
.
ÖÖ= >
ToString
ÖÖ> F
(
ÖÖF G
)
ÖÖG H
.
ÖÖH I
Trim
ÖÖI M
(
ÖÖM N
)
ÖÖN O
;
ÖÖO P
if
×× 
(
×× 
passwordChecked
×× #
.
××# $
Length
××$ *
<
××+ ,%
MINIMUN_PASSWORD_LENGTH
××- D
||
××E G
passwordChecked
××H W
.
××W X
Length
××X ^
>
××_ `%
MAXIMUM_PASSWORD_LENGTH
××a x
)
××x y
{
ØØ !
HighLightBrokenRule
ÙÙ '
(
ÙÙ' (
ListBoxRules
ÙÙ( 4
[
ÙÙ4 5
$num
ÙÙ5 6
]
ÙÙ6 7
)
ÙÙ7 8
;
ÙÙ8 9
answer
ÚÚ 
=
ÚÚ 
DISALLOWED_VALUES
ÚÚ .
;
ÚÚ. /
}
ÛÛ 
else
ÜÜ 
{
ÝÝ 
ClearBrokenRule
ÞÞ #
(
ÞÞ# $
ListBoxRules
ÞÞ$ 0
[
ÞÞ0 1
$num
ÞÞ1 2
]
ÞÞ2 3
)
ÞÞ3 4
;
ÞÞ4 5
}
ßß 
regexExpression
àà 
=
àà  !
regexInstance
àà" /
.
àà/ 0$
GetAt_LEAST_TWO_NUMBER
àà0 F
(
ààF G
)
ààG H
;
ààH I
if
áá 
(
áá 
!
áá 
Regex
áá 
.
áá 
IsMatch
áá "
(
áá" #
passwordChecked
áá# 2
,
áá2 3
regexExpression
áá4 C
,
ááC D
RegexOptions
ááE Q
.
ááQ R

IgnoreCase
ááR \
,
áá\ ]
TimeSpan
áá^ f
.
ááf g
FromMilliseconds
áág w
(
ááw x
$num
ááx {
)
áá{ |
)
áá| }
)
áá} ~
{
ââ !
HighLightBrokenRule
ãã '
(
ãã' (
ListBoxRules
ãã( 4
[
ãã4 5
$num
ãã5 6
]
ãã6 7
)
ãã7 8
;
ãã8 9
answer
ää 
=
ää 
DISALLOWED_VALUES
ää .
;
ää. /
}
åå 
else
ææ 
{
çç 
ClearBrokenRule
èè #
(
èè# $
ListBoxRules
èè$ 0
[
èè0 1
$num
èè1 2
]
èè2 3
)
èè3 4
;
èè4 5
}
éé 
if
êê 
(
êê 
!
êê !
GetSpecificResource
êê (
.
êê( )3
%HasAtLeastTwoSeparateUppercaseLetters
êê) N
(
êêN O
passwordChecked
êêO ^
)
êê^ _
)
êê_ `
{
ëë !
HighLightBrokenRule
ìì '
(
ìì' (
ListBoxRules
ìì( 4
[
ìì4 5
$num
ìì5 6
]
ìì6 7
)
ìì7 8
;
ìì8 9
answer
íí 
=
íí 
DISALLOWED_VALUES
íí .
;
íí. /
}
îî 
else
ïï 
{
ðð 
ClearBrokenRule
ññ #
(
ññ# $
ListBoxRules
ññ$ 0
[
ññ0 1
$num
ññ1 2
]
ññ2 3
)
ññ3 4
;
ññ4 5
}
òò 
regexExpression
óó 
=
óó  !
regexInstance
óó" /
.
óó/ 0/
!GetAt_LEAST_ONE_SPECIAL_CHARACTER
óó0 Q
(
óóQ R
)
óóR S
;
óóS T
if
ôô 
(
ôô 
!
ôô 
Regex
ôô 
.
ôô 
IsMatch
ôô "
(
ôô" #
passwordChecked
ôô# 2
,
ôô2 3
regexExpression
ôô4 C
,
ôôC D
RegexOptions
ôôE Q
.
ôôQ R

IgnoreCase
ôôR \
,
ôô\ ]
TimeSpan
ôô^ f
.
ôôf g
FromMilliseconds
ôôg w
(
ôôw x
$num
ôôx {
)
ôô{ |
)
ôô| }
)
ôô} ~
{
õõ !
HighLightBrokenRule
öö '
(
öö' (
ListBoxRules
öö( 4
[
öö4 5
$num
öö5 6
]
öö6 7
)
öö7 8
;
öö8 9
answer
÷÷ 
=
÷÷ 
DISALLOWED_VALUES
÷÷ .
;
÷÷. /
}
øø 
else
ùù 
{
úú 
ClearBrokenRule
ûû #
(
ûû# $
ListBoxRules
ûû$ 0
[
ûû0 1
$num
ûû1 2
]
ûû2 3
)
ûû3 4
;
ûû4 5
}
üü 
regexExpression
ýý 
=
ýý  !
regexInstance
ýý" /
.
ýý/ 0,
GetAt_LEAST_ONE_PUTUATION_MARK
ýý0 N
(
ýýN O
)
ýýO P
;
ýýP Q
if
þþ 
(
þþ 
!
þþ 
Regex
þþ 
.
þþ 
IsMatch
þþ "
(
þþ" #
passwordChecked
þþ# 2
,
þþ2 3
regexExpression
þþ4 C
,
þþC D
RegexOptions
þþE Q
.
þþQ R

IgnoreCase
þþR \
,
þþ\ ]
TimeSpan
þþ^ f
.
þþf g
FromMilliseconds
þþg w
(
þþw x
$num
þþx {
)
þþ{ |
)
þþ| }
)
þþ} ~
{
ÿÿ !
HighLightBrokenRule
 '
(
' (
ListBoxRules
( 4
[
4 5
$num
5 6
]
6 7
)
7 8
;
8 9
answer
 
=
 
DISALLOWED_VALUES
 .
;
. /
}
 
else
 
{
 
ClearBrokenRule
 #
(
# $
ListBoxRules
$ 0
[
0 1
$num
1 2
]
2 3
)
3 4
;
4 5
}
 
int
 
arrobaIndex
 
=
  !
(
" #
email
# (
.
( )
IndexOf
) 0
(
0 1
$char
1 4
)
4 5
!=
6 8
-
9 :
$num
: ;
)
; <
?
= >
email
? D
.
D E
IndexOf
E L
(
L M
$char
M P
)
P Q
:
R S
$num
T U
;
U V
if
 
(
 
email
 
.
 
Trim
 
(
 
)
  
.
  !
	Substring
! *
(
* +
$num
+ ,
,
, -
arrobaIndex
. 9
)
9 :
.
: ;
Equals
; A
(
A B
passwordChecked
B Q
)
Q R
)
R S
{
 !
HighLightBrokenRule
 '
(
' (
ListBoxRules
( 4
[
4 5
$num
5 6
]
6 7
)
7 8
;
8 9
answer
 
=
 
DISALLOWED_VALUES
 .
;
. /
}
 
else
 
{
 
ClearBrokenRule
 #
(
# $
ListBoxRules
$ 0
[
0 1
$num
1 2
]
2 3
)
3 4
;
4 5
}
 
}
 
catch
 
(
 (
RegexMatchTimeoutException
 -
ex
. 0
)
0 1
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
ERROR
M R
)
R S
;
S T
answer
 
=
 
DISALLOWED_VALUES
 *
;
* +
}
 
return
 
answer
 
;
 
}
 	
private
 
void
 !
HighLightBrokenRule
 (
(
( )
Label
) .
missingRule
/ :
)
: ;
{
 	
missingRule
 
.
 

Foreground
 "
=
# $
Brushes
% ,
.
, -
Red
- 0
;
0 1
}
 	
private
   
void
   
ClearBrokenRule
   $
(
  $ %
Label
  % *
missingRule
  + 6
)
  6 7
{
¡¡ 	
missingRule
¢¢ 
.
¢¢ 

Foreground
¢¢ "
=
¢¢# $
Brushes
¢¢% ,
.
¢¢, -
White
¢¢- 2
;
¢¢2 3
}
££ 	
private
¥¥ 
void
¥¥ $
ClickViewPasswordRules
¥¥ +
(
¥¥+ ,
object
¥¥, 2
sender
¥¥3 9
,
¥¥9 :"
MouseButtonEventArgs
¥¥; O
e
¥¥P Q
)
¥¥Q R
{
¦¦ 	
ShowPasswordRules
§§ 
(
§§ 
)
§§ 
;
§§  
}
¨¨ 	
private
ªª 
void
ªª 
ShowPasswordRules
ªª &
(
ªª& '
)
ªª' (
{
«« 	
if
¬¬ 
(
¬¬ "
imgViewPasswordRules
¬¬ $
.
¬¬$ %

Visibility
¬¬% /
==
¬¬0 2

Visibility
¬¬3 =
.
¬¬= >
Visible
¬¬> E
)
¬¬E F
{
­­ 
brdPasswordRules
®®  
.
®®  !

Visibility
®®! +
=
®®, -

Visibility
®®. 8
.
®®8 9
Visible
®®9 @
;
®®@ A"
imgViewPasswordRules
¯¯ $
.
¯¯$ %

Visibility
¯¯% /
=
¯¯0 1

Visibility
¯¯2 <
.
¯¯< =
Hidden
¯¯= C
;
¯¯C D
}
°° 
}
±± 	
private
²² 
void
²² %
ClickClosePasswordRules
²² ,
(
²², -
object
²²- 3
sender
²²4 :
,
²²: ;"
MouseButtonEventArgs
²²< P
e
²²Q R
)
²²R S
{
³³ 	
brdPasswordRules
´´ 
.
´´ 

Visibility
´´ '
=
´´( )

Visibility
´´* 4
.
´´4 5
Hidden
´´5 ;
;
´´; <"
imgViewPasswordRules
µµ  
.
µµ  !

Visibility
µµ! +
=
µµ, -

Visibility
µµ. 8
.
µµ8 9
Visible
µµ9 @
;
µµ@ A
}
¶¶ 	
private
¸¸ 
void
¸¸ 
ClickSeePassword
¸¸ %
(
¸¸% &
object
¸¸& ,
sender
¸¸- 3
,
¸¸3 4"
MouseButtonEventArgs
¸¸5 I
e
¸¸J K
)
¸¸K L
{
¹¹ 	
lblViewPassword
ºº 
.
ºº 
Content
ºº #
=
ºº$ %
psbPassword
ºº& 1
.
ºº1 2
Password
ºº2 :
.
ºº: ;
ToString
ºº; C
(
ººC D
)
ººD E
;
ººE F
psbPassword
»» 
.
»» 

Visibility
»» "
=
»»# $

Visibility
»»% /
.
»»/ 0
	Collapsed
»»0 9
;
»»9 :
lblViewPassword
¼¼ 
.
¼¼ 

Visibility
¼¼ &
=
¼¼' (

Visibility
¼¼) 3
.
¼¼3 4
Visible
¼¼4 ;
;
¼¼; <
}
½½ 	
private
¿¿ 
void
¿¿ #
OverLeaveHidePassword
¿¿ *
(
¿¿* +
object
¿¿+ 1
sender
¿¿2 8
,
¿¿8 9
MouseEventArgs
¿¿: H
e
¿¿I J
)
¿¿J K
{
ÀÀ 	
if
ÁÁ 
(
ÁÁ 
lblViewPassword
ÁÁ 
.
ÁÁ  
	IsVisible
ÁÁ  )
)
ÁÁ) *
{
ÂÂ 
psbPassword
ÃÃ 
.
ÃÃ 

Visibility
ÃÃ &
=
ÃÃ' (

Visibility
ÃÃ) 3
.
ÃÃ3 4
Visible
ÃÃ4 ;
;
ÃÃ; <
psbPassword
ÄÄ 
.
ÄÄ 
PasswordChar
ÄÄ (
=
ÄÄ) *
$char
ÄÄ+ .
;
ÄÄ. /
psbPassword
ÅÅ 
.
ÅÅ 
Password
ÅÅ $
=
ÅÅ% &
(
ÅÅ' (
string
ÅÅ( .
)
ÅÅ. /
lblViewPassword
ÅÅ/ >
.
ÅÅ> ?
Content
ÅÅ? F
;
ÅÅF G
lblViewPassword
ÆÆ 
.
ÆÆ  

Visibility
ÆÆ  *
=
ÆÆ+ ,

Visibility
ÆÆ- 7
.
ÆÆ7 8
	Collapsed
ÆÆ8 A
;
ÆÆA B
}
ÇÇ 
}
ÈÈ 	
private
ËË 
void
ËË 

StartTimer
ËË 
(
ËË  
)
ËË  !
{
ÌÌ 	
leftTime
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
;
ÍÍ 
timer
ÎÎ 
=
ÎÎ 
new
ÎÎ 
DispatcherTimer
ÎÎ '
(
ÎÎ' (
)
ÎÎ( )
;
ÎÎ) *
timer
ÏÏ 
.
ÏÏ 
Interval
ÏÏ 
=
ÏÏ 
TimeSpan
ÏÏ %
.
ÏÏ% &
FromSeconds
ÏÏ& 1
(
ÏÏ1 2
$num
ÏÏ2 3
)
ÏÏ3 4
;
ÏÏ4 5
timer
ÐÐ 
.
ÐÐ 
Tick
ÐÐ 
+=
ÐÐ !
TickTimerResendCode
ÐÐ -
;
ÐÐ- .
timer
ÑÑ 
.
ÑÑ 
Start
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÒÒ 	
private
ÔÔ 
void
ÔÔ !
TickTimerResendCode
ÔÔ (
(
ÔÔ( )
object
ÔÔ) /
sender
ÔÔ0 6
,
ÔÔ6 7
	EventArgs
ÔÔ8 A
e
ÔÔB C
)
ÔÔC D
{
ÕÕ 	
if
ÖÖ 
(
ÖÖ 
leftTime
ÖÖ 
>
ÖÖ 
$num
ÖÖ 
)
ÖÖ 
{
×× 
leftTime
ØØ 
--
ØØ 
;
ØØ 
lblResendCode
ÙÙ 
.
ÙÙ 

Foreground
ÙÙ (
=
ÙÙ) *
new
ÙÙ+ .
SolidColorBrush
ÙÙ/ >
(
ÙÙ> ?
Colors
ÙÙ? E
.
ÙÙE F
	IndianRed
ÙÙF O
)
ÙÙO P
;
ÙÙP Q
lblResendCode
ÚÚ 
.
ÚÚ 
Content
ÚÚ %
=
ÚÚ& '

Properties
ÚÚ( 2
.
ÚÚ2 3
	Resources
ÚÚ3 <
.
ÚÚ< =
lblResentCode
ÚÚ= J
+
ÚÚK L
$str
ÚÚM P
+
ÚÚQ R
leftTime
ÚÚS [
;
ÚÚ[ \
}
ÛÛ 
else
ÜÜ 
{
ÝÝ 
lblResendCode
ÞÞ 
.
ÞÞ 

Foreground
ÞÞ (
=
ÞÞ) *
new
ÞÞ+ .
SolidColorBrush
ÞÞ/ >
(
ÞÞ> ?
Colors
ÞÞ? E
.
ÞÞE F
ForestGreen
ÞÞF Q
)
ÞÞQ R
;
ÞÞR S
lblResendCode
ßß 
.
ßß 
Content
ßß %
=
ßß& '

Properties
ßß( 2
.
ßß2 3
	Resources
ßß3 <
.
ßß< =
lblResentCode
ßß= J
+
ßßK L
$str
ßßM P
+
ßßQ R
leftTime
ßßS [
;
ßß[ \
SetDefaultBotons
àà  
(
àà  !
)
àà! "
;
àà" #
timer
áá 
.
áá 
Stop
áá 
(
áá 
)
áá 
;
áá 
}
ââ 
}
ãã 	
private
åå 
void
åå 
SetDefaultBotons
åå %
(
åå% &
)
åå& '
{
ææ 	 
bttConfirmUserName
çç 
.
çç 
	IsEnabled
çç (
=
çç) *
true
çç+ /
;
çç/ 0&
txbUserNameCreateAccount
èè $
.
èè$ %
	IsEnabled
èè% .
=
èè/ 0
true
èè1 5
;
èè5 6
}
éé 	
private
ìì 
void
ìì %
ClickButtonCancelSaving
ìì ,
(
ìì, -
object
ìì- 3
sender
ìì4 :
,
ìì: ;
RoutedEventArgs
ìì< K
e
ììL M
)
ììM N
{
íí 	
if
îî 
(
îî !
DialogWindowManager
îî #
.
îî# $$
ShowWindowConfirmation
îî$ :
(
îî: ;

Properties
îî; E
.
îîE F
	Resources
îîF O
.
îîO P
txbWarningTitle
îîP _
,
îî_ `

Properties
îîa k
.
îîk l
	Resources
îîl u
.
îîu v.
lblConfirmLeaveRecoveryPasswordîîv 
,îî 
Applicationîî ¢
.îî¢ £
Currentîî£ ª
.îîª «

MainWindowîî« µ
)îîµ ¶
)îî¶ ·
{
ïï !
GoToPrincipalWindow
ðð #
(
ðð# $
)
ðð$ %
;
ðð% &
}
ññ 
}
òò 	
private
ôô 
void
ôô !
GoToPrincipalWindow
ôô (
(
ôô( )
)
ôô) *
{
õõ 	
if
öö 
(
öö 
timer
öö 
!=
öö 
null
öö 
)
öö 
{
÷÷ 
timer
ùù 
.
ùù 
Stop
ùù 
(
ùù 
)
ùù 
;
ùù 
}
úú 
PrincipalPage
ûû 
principalPage
ûû '
=
ûû( )
new
ûû* -
(
ûû- .
)
ûû. /
;
ûû/ 0
this
üü 
.
üü 
NavigationService
üü "
.
üü" #
Navigate
üü# +
(
üü+ ,
principalPage
üü, 9
)
üü9 :
;
üü: ;
NavigationService
ýý 
.
ýý 
RemoveBackEntry
ýý -
(
ýý- .
)
ýý. /
;
ýý/ 0
}
þþ 	
private
 
void
 
HandleException
 $
(
$ %
	Exception
% .
ex
/ 1
,
1 2
string
3 9
errorMessage
: F
)
F G
{
 	%
ExceptionHandlerForLogs
 #
.
# $
LogException
$ 0
(
0 1
ex
1 3
,
3 4!
ExceptionDictionary
5 H
.
H I
FATAL_EXCEPTION
I X
)
X Y
;
Y Z!
DialogWindowManager
 
.
  #
ShowInfoOrErrorWindow
  5
(
5 6

Properties
6 @
.
@ A
	Resources
A J
.
J K
txbErrorTitle
K X
,
X Y
errorMessage
Z f
,
f g
Application
h s
.
s t
Current
t {
.
{ |

MainWindow| 
, #
DialogWindowManager 
. 
ERROR ¡
)¡ ¢
;¢ £
}
 	
}
 
} ä5
lC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\PrincipalPage.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
PrincipalPage &
:' (
Page) -
{ 
public 
PrincipalPage 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
ClickButtonLogin %
(% &
object& ,
sender- 3
,3 4
RoutedEventArgs5 D
eE F
)F G
{ 	
	LogInUser   
	logInPage   
=    !
new  " %
	LogInUser  & /
(  / 0
)  0 1
;  1 2
this!! 
.!! 
NavigationService!! "
.!!" #
Navigate!!# +
(!!+ ,
	logInPage!!, 5
)!!5 6
;!!6 7
NavigationService"" 
."" 
RemoveBackEntry"" -
(""- .
)"". /
;""/ 0
}## 	
private%% 
void%% 
ClickGetInAsIGuest%% '
(%%' (
object%%( .
sender%%/ 5
,%%5 6
RoutedEventArgs%%7 F
e%%G H
)%%H I
{&& 	
Views'' 
.'' 
EnterWithGameCode'' #

codeWindow''$ .
=''/ 0
new''1 4
Views''5 :
.'': ;
EnterWithGameCode''; L
(''L M
)''M N
;''N O

codeWindow(( 
.(( 
Owner(( 
=(( 
Window(( %
.((% &
	GetWindow((& /
(((/ 0
this((0 4
)((4 5
;((5 6

codeWindow)) 
.)) !
WindowStartupLocation)) ,
=))- .
System))/ 5
.))5 6
Windows))6 =
.))= >!
WindowStartupLocation))> S
.))S T
CenterScreen))T `
;))` a
enterGameWithCode** 
codePage** &
=**' (
new**) ,
enterGameWithCode**- >
(**> ?
Window**? E
.**E F
	GetWindow**F O
(**O P
this**P T
)**T U
,**U V
true**W [
)**[ \
;**\ ]

codeWindow++ 
.++ 
contentFrame++ #
.++# $
NavigationService++$ 5
.++5 6
Navigate++6 >
(++> ?
codePage++? G
)++G H
;++H I

codeWindow,, 
.,, 

ShowDialog,, !
(,,! "
),," #
;,,# $
}-- 	
public// 
void//  
ClosePrincipalWindow// )
(//) *
)//* +
{00 	
Window11 
.11 
	GetWindow11 
(11 
this11 !
)11! "
.11" #
Close11# (
(11( )
)11) *
;11* +
}22 	
private44 
void44 $
ClickGoToRecoverPassword44 -
(44- .
object44. 4
sender445 ;
,44; < 
MouseButtonEventArgs44= Q
e44R S
)44S T
{55 	
PasswordRecovery66 
passwordRecovery66 -
=66. /
new660 3
PasswordRecovery664 D
(66D E
)66E F
;66F G
this77 
.77 
NavigationService77 "
.77" #
Navigate77# +
(77+ ,
passwordRecovery77, <
)77< =
;77= >
NavigationService88 
.88 
RemoveBackEntry88 -
(88- .
)88. /
;88/ 0
}99 	
private;; 
void;; 
LanguageButtonClick;; (
(;;( )
object;;) /
sender;;0 6
,;;6 7
RoutedEventArgs;;8 G
e;;H I
);;I J
{<< 	
LanguageOptions== 
.== 

Visibility== &
===' (

Visibility==) 3
.==3 4
Visible==4 ;
;==; <
}>> 	
private?? 
void?? $
UpdateInterfaceResources?? -
(??- .
)??. /
{@@ 	
ifAA 
(AA 
	bttPlayerAA 
!=AA 
nullAA !
)AA! "
	bttPlayerBB 
.BB 
ContentBB !
=BB" #

PropertiesBB$ .
.BB. /
	ResourcesBB/ 8
.BB8 9
	bttPlayerBB9 B
;BBB C
ifDD 
(DD 
bttGuestDD 
!=DD 
nullDD  
)DD  !
bttGuestEE 
.EE 
ContentEE  
=EE! "

PropertiesEE# -
.EE- .
	ResourcesEE. 7
.EE7 8
	btnInviteEE8 A
;EEA B
ifGG 
(GG 
lblRecoverPasswordGG "
!=GG# %
nullGG& *
)GG* +
lblRecoverPasswordHH "
.HH" #
ContentHH# *
=HH+ ,

PropertiesHH- 7
.HH7 8
	ResourcesHH8 A
.HHA B
lblRecoverPasswordHHB T
;HHT U
}II 	
privateKK 
voidKK 
SelectLanguageKK #
(KK# $
objectKK$ *
senderKK+ 1
,KK1 2
RoutedEventArgsKK3 B
eKKC D
)KKD E
{LL 	
SystemMM 
.MM 
WindowsMM 
.MM 
ControlsMM #
.MM# $
ButtonMM$ *
selectedButtonMM+ 9
=MM: ;
senderMM< B
asMMC E
ButtonMMF L
;MML M
stringNN 
selectedLanguageNN #
=NN$ %
selectedButtonNN& 4
.NN4 5
TagNN5 8
.NN8 9
ToStringNN9 A
(NNA B
)NNB C
;NNC D
AppPP 
.PP 
ChangeLanguagePP 
(PP 
selectedLanguagePP /
)PP/ 0
;PP0 1
RegistryKeyQQ 
keyQQ 
=QQ 
RegistryQQ &
.QQ& '
CurrentUserQQ' 2
.QQ2 3
CreateSubKeyQQ3 ?
(QQ? @
$strQQ@ X
)QQX Y
;QQY Z
keyRR 
.RR 
SetValueRR 
(RR 
$strRR +
,RR+ ,
selectedLanguageRR- =
)RR= >
;RR> ?
keySS 
.SS 
CloseSS 
(SS 
)SS 
;SS $
UpdateInterfaceResourcesTT $
(TT$ %
)TT% &
;TT& '
LanguageButtonVV 
.VV 
ContentVV "
=VV# $
selectedButtonVV% 3
.VV3 4
ContentVV4 ;
;VV; <
LanguageOptionsXX 
.XX 

VisibilityXX &
=XX' (

VisibilityXX) 3
.XX3 4
	CollapsedXX4 =
;XX= >
}YY 	
}ZZ 
}[[ ´¨
gC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\TeamChat.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
TeamChat !
:" #
Page$ (
,( )!
IChatForTeamsCallback* ?
{ 
private 
static 
UserSingleton $
userSingleton% 2
=3 4
UserSingleton5 B
.B C
GetMainUserC N
(N O
)O P
;P Q
private 
int 

idTeamMate 
; 
private 
	GameBoard 
	gameBoard #
;# $
public!! 
TeamChat!! 
(!! 
	GameBoard!! !
game!!" &
,!!& '
int!!( +
idTeam!!, 2
)!!2 3
{"" 	
InitializeComponent## 
(##  
)##  !
;##! "
this$$ 
.$$ 
	gameBoard$$ 
=$$ 
game$$ !
;$$! "
this%% 
.%% 

idTeamMate%% 
=%% 
idTeam%% $
;%%$ %
InstanceContext&& 
context&& #
=&&$ %
new&&& )
InstanceContext&&* 9
(&&9 :
this&&: >
)&&> ?
;&&? @
ChatForTeamsClient'' 
chatForTeamProxy'' /
=''0 1
new''2 5
ChatForTeamsClient''6 H
(''H I
context''I P
)''P Q
;''Q R
RegisterForCallBack(( 
(((  
chatForTeamProxy((  0
)((0 1
;((1 2
})) 	
public++ 
void++  
RenewCallBackChannel++ (
(++( )
)++) *
{,, 	
try-- 
{.. 
InstanceContext// 
context//  '
=//( )
new//* -
InstanceContext//. =
(//= >
this//> B
)//B C
;//C D
ChatForTeamsClient00 "
chatForTeamProxy00# 3
=004 5
new006 9
ChatForTeamsClient00: L
(00L M
context00M T
)00T U
;00U V
chatForTeamProxy11  
.11  !!
RenewTeamChatCallBack11! 6
(116 7
userSingleton117 D
.11D E
IdUser11E K
)11K L
;11L M
}22 
catch33 
(33 %
EndpointNotFoundException33 ,
ex33- /
)33/ 0
{44 
HandleException55 
(55  
ex55  "
,55" #

Properties55$ .
.55. /
	Resources55/ 8
.558 9%
lblFailRegistryToCallBack559 R
+55S T
$str55U Z
+55[ \

Properties55] g
.55g h
	Resources55h q
.55q r 
lblEndPointNotFound	55r 
)
55 
;
55 
}66 
catch77 
(77 /
#CommunicationObjectFaultedException77 6
ex777 9
)779 :
{88 
HandleException99 
(99  
ex99  "
,99" #

Properties99$ .
.99. /
	Resources99/ 8
.998 9%
lblFailRegistryToCallBack999 R
+99S T
$str99U Z
+99[ \

Properties99] g
.99g h
	Resources99h q
.99q r%
lblComunicationException	99r 
)
99 
;
99 
}:: 
catch;; 
(;; 
TimeoutException;; #
ex;;$ &
);;& '
{<< 
HandleException== 
(==  
ex==  "
,==" #

Properties==$ .
.==. /
	Resources==/ 8
.==8 9%
lblFailRegistryToCallBack==9 R
+==S T
$str==U Z
+==[ \

Properties==] g
.==g h
	Resources==h q
.==q r
lblTimeException	==r 
)
== 
;
== 
}>> 
catch?? 
(?? "
CommunicationException?? )
ex??* ,
)??, -
{@@ 
HandleExceptionAA 
(AA  
exAA  "
,AA" #

PropertiesAA$ .
.AA. /
	ResourcesAA/ 8
.AA8 9%
lblFailRegistryToCallBackAA9 R
+AAS T
$strAAU Z
+AA[ \

PropertiesAA] g
.AAg h
	ResourcesAAh q
.AAq r 
lblWithoutConection	AAr 
)
AA 
;
AA 
}BB 
catchCC 
(CC 
SocketExceptionCC "
exCC# %
)CC% &
{DD 
HandleExceptionEE 
(EE  
exEE  "
,EE" #

PropertiesEE$ .
.EE. /
	ResourcesEE/ 8
.EE8 9
GenericEmailIssueEE9 J
+EEK L
$strEEM P
+EEQ R

PropertiesEES ]
.EE] ^
	ResourcesEE^ g
.EEg h
lblEndPointNotFoundEEh {
)EE{ |
;EE| }
}FF 
}GG 	
privateII 
voidII 
RegisterForCallBackII (
(II( )
ChatForTeamsClientII) ;
chatForTeamProxyII< L
)IIL M
{JJ 	
tryKK 
{LL 
chatForTeamProxyMM  
.MM  !
RegisterForTeamChatMM! 4
(MM4 5
userSingletonMM5 B
.MMB C
IdUserMMC I
)MMI J
;MMJ K
}NN 
catchOO 
(OO %
EndpointNotFoundExceptionOO ,
exOO- /
)OO/ 0
{PP 
HandleExceptionQQ 
(QQ  
exQQ  "
,QQ" #

PropertiesQQ$ .
.QQ. /
	ResourcesQQ/ 8
.QQ8 9%
lblFailRegistryToCallBackQQ9 R
+QQS T
$strQQU Z
+QQ[ \

PropertiesQQ] g
.QQg h
	ResourcesQQh q
.QQq r 
lblEndPointNotFound	QQr 
)
QQ 
;
QQ 
}RR 
catchSS 
(SS /
#CommunicationObjectFaultedExceptionSS 6
exSS7 9
)SS9 :
{TT 
HandleExceptionUU 
(UU  
exUU  "
,UU" #

PropertiesUU$ .
.UU. /
	ResourcesUU/ 8
.UU8 9%
lblFailRegistryToCallBackUU9 R
+UUS T
$strUUU Z
+UU[ \

PropertiesUU] g
.UUg h
	ResourcesUUh q
.UUq r%
lblComunicationException	UUr 
)
UU 
;
UU 
}VV 
catchWW 
(WW 
TimeoutExceptionWW #
exWW$ &
)WW& '
{XX 
HandleExceptionYY 
(YY  
exYY  "
,YY" #

PropertiesYY$ .
.YY. /
	ResourcesYY/ 8
.YY8 9%
lblFailRegistryToCallBackYY9 R
+YYS T
$strYYU Z
+YY[ \

PropertiesYY] g
.YYg h
	ResourcesYYh q
.YYq r
lblTimeException	YYr 
)
YY 
;
YY 
}ZZ 
catch[[ 
([[ "
CommunicationException[[ )
ex[[* ,
)[[, -
{\\ 
HandleException]] 
(]]  
ex]]  "
,]]" #

Properties]]$ .
.]]. /
	Resources]]/ 8
.]]8 9%
lblFailRegistryToCallBack]]9 R
+]]S T
$str]]U Z
+]][ \

Properties]]] g
.]]g h
	Resources]]h q
.]]q r 
lblWithoutConection	]]r 
)
]] 
;
]] 
}^^ 
catch__ 
(__ 
SocketException__ "
ex__# %
)__% &
{`` 
HandleExceptionaa 
(aa  
exaa  "
,aa" #

Propertiesaa$ .
.aa. /
	Resourcesaa/ 8
.aa8 9
GenericEmailIssueaa9 J
+aaK L
$straaM P
+aaQ R

PropertiesaaS ]
.aa] ^
	Resourcesaa^ g
.aag h
lblEndPointNotFoundaah {
)aa{ |
;aa| }
}bb 
}cc 	
privateee 
voidee 
ClickCloseChatee #
(ee# $
objectee$ *
senderee+ 1
,ee1 2 
MouseButtonEventArgsee3 G
eeeH I
)eeI J
{ff 	
	gameBoardgg 
.gg 
CloseLiveChatgg #
(gg# $
)gg$ %
;gg% &
}hh 	
privatejj 
voidjj 
ClickSendMessagejj %
(jj% &
objectjj& ,
senderjj- 3
,jj3 4 
MouseButtonEventArgsjj5 I
ejjJ K
)jjK L
{kk 	
tryll 
{mm 
stringnn 
messagenn 
=nn  
txbMessageToSendnn! 1
.nn1 2
Textnn2 6
;nn6 7
ifoo 
(oo 
!oo 
stringoo 
.oo 
IsNullOrEmptyoo )
(oo) *
messageoo* 1
)oo1 2
)oo2 3
{pp (
ChatForTeamsOperationsClientqq 0
chatForTeamProxyqq1 A
=qqB C
newqqD G
(qqG H
)qqH I
;qqI J
chatForTeamProxyrr $
.rr$ %
SendMessageTeamrr% 4
(rr4 5
userSingletonrr5 B
.rrB C
IdUserrrC I
,rrI J

idTeamMaterrK U
,rrU V
userSingletonrrW d
.rrd e
UserNamerre m
,rrm n
messagerro v
)rrv w
;rrw x
ChatMessageCardss #
chatMessageCardss$ 3
=ss4 5
newss6 9
ChatMessageCardss: I
(ssI J
userSingletonssJ W
.ssW X
UserNamessX `
,ss` a
messagessb i
)ssi j
;ssj k
chatMessageCardtt #
.tt# $
HorizontalAlignmenttt$ 7
=tt8 9
HorizontalAlignmenttt: M
.ttM N
RightttN S
;ttS T
stpChatuu 
.uu 
Childrenuu $
.uu$ %
Adduu% (
(uu( )
chatMessageCarduu) 8
)uu8 9
;uu9 :
txbMessageToSendvv $
.vv$ %
Textvv% )
=vv* +
stringvv, 2
.vv2 3
Emptyvv3 8
;vv8 9
}ww 
}xx 
catchyy 
(yy %
EndpointNotFoundExceptionyy ,
exyy- /
)yy/ 0
{zz #
ExceptionHandlerForLogs{{ '
.{{' (
LogException{{( 4
({{4 5
ex{{5 7
,{{7 8
ExceptionDictionary{{9 L
.{{L M
FATAL_EXCEPTION{{M \
){{\ ]
;{{] ^
stpChat|| 
.|| 
Children||  
.||  !
Add||! $
(||$ %
new||% (
ChatMessageCard||) 8
(||8 9

Properties||9 C
.||C D
	Resources||D M
.||M N
txbErrorTitle||N [
,||[ \

Properties||] g
.||g h
	Resources||h q
.||q r*
txbFailToSendOrReciveAMessage	||r 
)
|| 
)
|| 
;
|| 
}}} 
catch~~ 
(~~ /
#CommunicationObjectFaultedException~~ 6
ex~~7 9
)~~9 :
{ %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
stpChat
 
.
 
Children
  
.
  !
Add
! $
(
$ %
new
% (
ChatMessageCard
) 8
(
8 9

Properties
9 C
.
C D
	Resources
D M
.
M N
txbErrorTitle
N [
,
[ \

Properties
] g
.
g h
	Resources
h q
.
q r,
txbFailToSendOrReciveAMessager 
) 
) 
; 
}
 
catch
 
(
 
TimeoutException
 #
ex
$ &
)
& '
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
stpChat
 
.
 
Children
  
.
  !
Add
! $
(
$ %
new
% (
ChatMessageCard
) 8
(
8 9

Properties
9 C
.
C D
	Resources
D M
.
M N
txbErrorTitle
N [
,
[ \

Properties
] g
.
g h
	Resources
h q
.
q r,
txbFailToSendOrReciveAMessager 
) 
) 
; 
}
 
catch
 
(
 $
CommunicationException
 )
ex
* ,
)
, -
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
stpChat
 
.
 
Children
  
.
  !
Add
! $
(
$ %
new
% (
ChatMessageCard
) 8
(
8 9

Properties
9 C
.
C D
	Resources
D M
.
M N
txbErrorTitle
N [
,
[ \

Properties
] g
.
g h
	Resources
h q
.
q r,
txbFailToSendOrReciveAMessager 
) 
) 
; 
}
 
catch
 
(
 
SocketException
 "
ex
# %
)
% &
{
 %
ExceptionHandlerForLogs
 '
.
' (
LogException
( 4
(
4 5
ex
5 7
,
7 8!
ExceptionDictionary
9 L
.
L M
FATAL_EXCEPTION
M \
)
\ ]
;
] ^
stpChat
 
.
 
Children
  
.
  !
Add
! $
(
$ %
new
% (
ChatMessageCard
) 8
(
8 9

Properties
9 C
.
C D
	Resources
D M
.
M N
txbErrorTitle
N [
,
[ \

Properties
] g
.
g h
	Resources
h q
.
q r,
txbFailToSendOrReciveAMessager 
) 
) 
; 
}
 
}
 	
public
 
void
 $
ReceiveMessageTeamChat
 *
(
* +/
!GenericClassOfMessageChatxY0a3WX4
+ L
message
M T
)
T U
{
 	
try
 
{
 
if
 
(
 
message
 
.
 
	CodeEvent
 %
==
& (

Exceptions
) 3
.
3 4!
ExceptionDictionary
4 G
.
G H
SUCCESFULL_EVENT
H X
)
X Y
{
 
ChatMessageCard
 #
chatMessageCard
$ 3
=
4 5
new
6 9
ChatMessageCard
: I
(
I J
message
J Q
.
Q R
ObjectSaved
R ]
.
] ^
UserName
^ f
,
f g
message
h o
.
o p
ObjectSaved
p {
.
{ |
MessageToSend| 
) 
; 
chatMessageCard
 #
.
# $!
HorizontalAlignment
$ 7
=
8 9!
HorizontalAlignment
: M
.
M N
Right
N S
;
S T
stpChat
 
.
 
Children
 $
.
$ %
Add
% (
(
( )
chatMessageCard
) 8
)
8 9
;
9 :
}
 
}
 
catch
 
(
 '
EndpointNotFoundException
 ,
ex
- /
)
/ 0
{
   %
ExceptionHandlerForLogs
¡¡ '
.
¡¡' (
LogException
¡¡( 4
(
¡¡4 5
ex
¡¡5 7
,
¡¡7 8!
ExceptionDictionary
¡¡9 L
.
¡¡L M
FATAL_EXCEPTION
¡¡M \
)
¡¡\ ]
;
¡¡] ^
stpChat
¢¢ 
.
¢¢ 
Children
¢¢  
.
¢¢  !
Add
¢¢! $
(
¢¢$ %
new
¢¢% (
ChatMessageCard
¢¢) 8
(
¢¢8 9

Properties
¢¢9 C
.
¢¢C D
	Resources
¢¢D M
.
¢¢M N
txbErrorTitle
¢¢N [
,
¢¢[ \

Properties
¢¢] g
.
¢¢g h
	Resources
¢¢h q
.
¢¢q r,
txbFailToSendOrReciveAMessage¢¢r 
)¢¢ 
)¢¢ 
;¢¢ 
}
££ 
catch
¤¤ 
(
¤¤ 1
#CommunicationObjectFaultedException
¤¤ 6
ex
¤¤7 9
)
¤¤9 :
{
¥¥ %
ExceptionHandlerForLogs
¦¦ '
.
¦¦' (
LogException
¦¦( 4
(
¦¦4 5
ex
¦¦5 7
,
¦¦7 8!
ExceptionDictionary
¦¦9 L
.
¦¦L M
FATAL_EXCEPTION
¦¦M \
)
¦¦\ ]
;
¦¦] ^
stpChat
§§ 
.
§§ 
Children
§§  
.
§§  !
Add
§§! $
(
§§$ %
new
§§% (
ChatMessageCard
§§) 8
(
§§8 9

Properties
§§9 C
.
§§C D
	Resources
§§D M
.
§§M N
txbErrorTitle
§§N [
,
§§[ \

Properties
§§] g
.
§§g h
	Resources
§§h q
.
§§q r,
txbFailToSendOrReciveAMessage§§r 
)§§ 
)§§ 
;§§ 
}
¨¨ 
catch
©© 
(
©© 
TimeoutException
©© #
ex
©©$ &
)
©©& '
{
ªª %
ExceptionHandlerForLogs
«« '
.
««' (
LogException
««( 4
(
««4 5
ex
««5 7
,
««7 8!
ExceptionDictionary
««9 L
.
««L M
FATAL_EXCEPTION
««M \
)
««\ ]
;
««] ^
stpChat
¬¬ 
.
¬¬ 
Children
¬¬  
.
¬¬  !
Add
¬¬! $
(
¬¬$ %
new
¬¬% (
ChatMessageCard
¬¬) 8
(
¬¬8 9

Properties
¬¬9 C
.
¬¬C D
	Resources
¬¬D M
.
¬¬M N
txbErrorTitle
¬¬N [
,
¬¬[ \

Properties
¬¬] g
.
¬¬g h
	Resources
¬¬h q
.
¬¬q r,
txbFailToSendOrReciveAMessage¬¬r 
)¬¬ 
)¬¬ 
;¬¬ 
}
­­ 
catch
®® 
(
®® $
CommunicationException
®® )
ex
®®* ,
)
®®, -
{
¯¯ %
ExceptionHandlerForLogs
°° '
.
°°' (
LogException
°°( 4
(
°°4 5
ex
°°5 7
,
°°7 8!
ExceptionDictionary
°°9 L
.
°°L M
FATAL_EXCEPTION
°°M \
)
°°\ ]
;
°°] ^
stpChat
±± 
.
±± 
Children
±±  
.
±±  !
Add
±±! $
(
±±$ %
new
±±% (
ChatMessageCard
±±) 8
(
±±8 9

Properties
±±9 C
.
±±C D
	Resources
±±D M
.
±±M N
txbErrorTitle
±±N [
,
±±[ \

Properties
±±] g
.
±±g h
	Resources
±±h q
.
±±q r,
txbFailToSendOrReciveAMessage±±r 
)±± 
)±± 
;±± 
}
²² 
catch
³³ 
(
³³ 
SocketException
³³ "
ex
³³# %
)
³³% &
{
´´ %
ExceptionHandlerForLogs
µµ '
.
µµ' (
LogException
µµ( 4
(
µµ4 5
ex
µµ5 7
,
µµ7 8!
ExceptionDictionary
µµ9 L
.
µµL M
FATAL_EXCEPTION
µµM \
)
µµ\ ]
;
µµ] ^
stpChat
¶¶ 
.
¶¶ 
Children
¶¶  
.
¶¶  !
Add
¶¶! $
(
¶¶$ %
new
¶¶% (
ChatMessageCard
¶¶) 8
(
¶¶8 9

Properties
¶¶9 C
.
¶¶C D
	Resources
¶¶D M
.
¶¶M N
txbErrorTitle
¶¶N [
,
¶¶[ \

Properties
¶¶] g
.
¶¶g h
	Resources
¶¶h q
.
¶¶q r,
txbFailToSendOrReciveAMessage¶¶r 
)¶¶ 
)¶¶ 
;¶¶ 
}
·· 
}
¸¸ 	
private
ºº 
void
ºº 
HandleException
ºº $
(
ºº$ %
	Exception
ºº% .
ex
ºº/ 1
,
ºº1 2
string
ºº3 9
errorMessage
ºº: F
)
ººF G
{
»» 	%
ExceptionHandlerForLogs
¼¼ #
.
¼¼# $
LogException
¼¼$ 0
(
¼¼0 1
ex
¼¼1 3
,
¼¼3 4!
ExceptionDictionary
¼¼5 H
.
¼¼H I
FATAL_EXCEPTION
¼¼I X
)
¼¼X Y
;
¼¼Y Z!
DialogWindowManager
½½ 
.
½½  #
ShowInfoOrErrorWindow
½½  5
(
½½5 6

Properties
½½6 @
.
½½@ A
	Resources
½½A J
.
½½J K
txbErrorTitle
½½K X
,
½½X Y
errorMessage
½½Z f
,
½½f g
Application
½½h s
.
½½s t
Current
½½t {
.
½½{ |

MainWindow½½| 
,½½ #
DialogWindowManager½½ 
.½½ 
ERROR½½ ¡
)½½¡ ¢
;½½¢ £
}
¾¾ 	
}
ÀÀ 
}ÁÁ ½
tC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\ReGexs\RegularExpressionsLibrary.cs
	namespace 	
JeopardyGame
 
. 
ReGexs 
{ 
public 

class %
RegularExpressionsLibrary *
{ 
private		 
static		 
readonly		 
String		  &!
_AT_LEAST_TWO_NUMBERS		' <
=		= >
$str		? g
;		g h
private

 
static

 
readonly

 
String

  &+
_AT_LEAST_ONE_SPECIAL_CHARACTER

' F
=

G H
$str

I Z
;

Z [
private 
static 
readonly 
String  &)
_AT_LEAST_ONE_PUNTUATION_MARK' D
=E F
$strG P
;P Q
private 
static 
readonly 
string  &
_NAME_RULES_CHAR' 7
=8 9
$str: [
;[ \
private 
static 
readonly 
string  & 
_USERNAME_RULES_CHAR' ;
=< =
$str> ^
;^ _
private 
static 
readonly 
string  &
_EMAIL_RULES_CHAR' 8
=9 :
$str; z
;z {
private 
static 
readonly 
string  &
_EMAIL_ALLOW_CHAR' 8
=9 :
$str; U
;U V
public 

Dictionary 
< 
string  
,  !
string" (
>( )$
ValidationTextBoxRegexes* B
{C D
getE H
;H I
setJ M
;M N
}O P
=Q R
newS V

DictionaryW a
<a b
stringb h
,h i
stringj p
>p q
{ 	
{ 
$str $
,$ %
_NAME_RULES_CHAR& 6
}7 8
,8 9
{ 
$str (
,( ) 
_USERNAME_RULES_CHAR* >
}? @
,@ A
{ 
$str %
,% &
_EMAIL_ALLOW_CHAR' 8
}9 :
} 	
;	 

public 
String "
GetAt_LEAST_TWO_NUMBER ,
(, -
)- .
{ 	
return !
_AT_LEAST_TWO_NUMBERS (
;( )
} 	
public 
String -
!GetAt_LEAST_ONE_SPECIAL_CHARACTER 7
(7 8
)8 9
{ 	
return   +
_AT_LEAST_ONE_SPECIAL_CHARACTER   2
;  2 3
}!! 	
public## 
String## *
GetAt_LEAST_ONE_PUTUATION_MARK## 4
(##4 5
)##5 6
{$$ 	
return%% )
_AT_LEAST_ONE_PUNTUATION_MARK%% 0
;%%0 1
}&& 	
public(( 
String(( 
GetNAME_RULES_CHAR(( (
(((( )
)(() *
{)) 	
return** 
_NAME_RULES_CHAR** #
;**# $
}++ 	
public-- 
String-- "
GetUSERNAME_RULES_CHAR-- ,
(--, -
)--- .
{.. 	
return//  
_USERNAME_RULES_CHAR// '
;//' (
}00 	
public22 
String22 
GetEMAIL_RULES_CHAR22 )
(22) *
)22* +
{33 	
return44 
_EMAIL_RULES_CHAR44 $
;44$ %
}55 	
}77 
}99 Ö_
aC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\UserSingleton.cs
	namespace 	
JeopardyGame
 
{ 
public 

class 
UserSingleton 
:  $
ICheckUserLivingCallback! 9
{ 
private 
static 
UserSingleton $#
instanceOfUserSingleton% <
;< =
private 
static 
bool 
isActive $
=% &
false' ,
;, -
private 
static 
System 
. 
	Threading '
.' (
Timer( -
heartbeatTimer. <
;< =
public 
int 
IdUser 
{ 
get 
;  
set! $
;$ %
}& '
public 
String 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
String 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
String 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
String 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
IdPlayer 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
GeneralPoints  
{! "
get# &
;& '
set( +
;+ ,
}- .
public   
int   
	NoReports   
{   
get   "
;  " #
set  $ '
;  ' (
}  ) *
public!! 
int!! 
IdCurrentAvatar!! "
{!!# $
get!!% (
;!!( )
set!!* -
;!!- .
}!!/ 0
public"" 
int"" 
IdState"" 
{"" 
get""  
;""  !
set""" %
;""% &
}""' (
private$$ 
UserSingleton$$ 
($$ 
)$$ 
{$$  !
}$$" #
private%% 
UserSingleton%% 
(%% 
UserPojo%% &
userSingleton%%' 4
,%%4 5

PlayerPojo%%6 @
playerSingleton%%A P
)%%P Q
{&& 	
IdUser'' 
='' 
userSingleton'' "
.''" #
IdUser''# )
;'') *
Name(( 
=(( 
userSingleton((  
.((  !
Name((! %
;((% &
UserName)) 
=)) 
userSingleton)) $
.))$ %
UserName))% -
;))- .
Email** 
=** 
userSingleton** !
.**! "
EmailAddress**" .
;**. /
Password++ 
=++ 
userSingleton++ $
.++$ %
Password++% -
;++- .
IdPlayer,, 
=,, 
playerSingleton,, &
.,,& '
IdPlayer,,' /
;,,/ 0
GeneralPoints-- 
=-- 
playerSingleton-- +
.--+ ,
GeneralPoints--, 9
;--9 :
	NoReports.. 
=.. 
playerSingleton.. '
...' (
	NoReports..( 1
;..1 2
IdCurrentAvatar// 
=// 
playerSingleton// -
.//- .
IdActualAvatar//. <
;//< =
IdState00 
=00 
playerSingleton00 %
.00% &
IdState00& -
;00- .
}11 	
public33 
static33 
UserPojo33  
GetUserPojoSingelton33 3
(333 4
)334 5
{44 	
if55 
(55 #
instanceOfUserSingleton55 &
!=55' )
null55* .
)55. /
{66 
UserPojo77 
userPOJO77 !
=77" #
new77$ '
UserPojo77( 0
(770 1
)771 2
{88 
IdUser99 
=99 #
instanceOfUserSingleton99 4
.994 5
IdUser995 ;
,99; <
Name:: 
=:: #
instanceOfUserSingleton:: 2
.::2 3
Name::3 7
,::7 8
UserName;; 
=;; #
instanceOfUserSingleton;; 6
.;;6 7
UserName;;7 ?
,;;? @
EmailAddress<<  
=<<! "#
instanceOfUserSingleton<<# :
.<<: ;
Email<<; @
,<<@ A
Password== 
=== #
instanceOfUserSingleton== 6
.==6 7
Password==7 ?
}>> 
;>> 
return?? 
userPOJO?? 
;??  
}@@ 
returnAA 
nullAA 
;AA 
}BB 	
publicDD 
staticDD 
UserSingletonDD #
GetMainUserDD$ /
(DD/ 0
)DD0 1
{EE 	
isActiveFF 
=FF 
trueFF 
;FF 
ifGG 
(GG #
instanceOfUserSingletonGG '
==GG( *
nullGG+ /
)GG/ 0
{HH #
instanceOfUserSingletonII '
=II( )
newII* -
UserSingletonII. ;
(II; <
)II< =
;II= >
BeginHeartBeatJJ 
(JJ 
)JJ  
;JJ  !
}KK 
returnLL #
instanceOfUserSingletonLL *
;LL* +
}MM 	
publicOO 
staticOO 
UserSingletonOO #
GetMainUserOO$ /
(OO/ 0
UserPojoOO0 8
userSingletonOO9 F
,OOF G

PlayerPojoOOH R
playerSingletonOOS b
)OOb c
{PP 	
isActiveQQ 
=QQ 
trueQQ 
;QQ 
ifRR 
(RR #
instanceOfUserSingletonRR '
==RR( *
nullRR+ /
)RR/ 0
{SS #
instanceOfUserSingletonTT '
=TT( )
newTT* -
UserSingletonTT. ;
(TT; <
userSingletonTT< I
,TTI J
playerSingletonTTK Z
)TTZ [
;TT[ \
BeginHeartBeatUU 
(UU 
)UU  
;UU  !
}VV 
returnWW #
instanceOfUserSingletonWW *
;WW* +
}XX 	
publicZZ 
staticZZ 
voidZZ 
CleanSingletonZZ )
(ZZ) *
)ZZ* +
{[[ 	#
instanceOfUserSingleton\\ #
=\\$ %
null\\& *
;\\* +
isActive]] 
=]] 
false]] 
;]] 
StopHeartBeat^^ 
(^^ 
)^^ 
;^^ 
}__ 	
public`` 
void`` 
UpdateNameData`` "
(``" #
string``# )
newName``* 1
)``1 2
{aa 	
thisbb 
.bb 
Namebb 
=bb 
newNamebb 
;bb  
}cc 	
publicdd 
voiddd 
UpdateAvatarDatadd $
(dd% &
intdd& )
newPhotodd* 2
)dd2 3
{ee 	
thisff 
.ff 
IdCurrentAvatarff  
=ff! "
newPhotoff# +
;ff+ ,
}gg 	
publichh 
voidhh 
UpdateEmailDatahh #
(hh# $
stringhh$ *
newEmailhh+ 3
)hh3 4
{ii 	
thisjj 
.jj 
Emailjj 
=jj 
newEmailjj !
;jj! "
}kk 	
publicmm 
boolmm 
IsClientActivemm "
(mm" #
)mm# $
{nn 	
returnoo 
isActiveoo 
;oo 
}pp 	
privaterr 
staticrr 
voidrr 
BeginHeartBeatrr *
(rr* +
)rr+ ,
{ss 	
vartt 
heartbeatClienttt 
=tt  !
newtt" %
HeartBeatClienttt& 5
(tt5 6
)tt6 7
;tt7 8
heartbeatTimeruu 
=uu 
newuu  
Systemuu! '
.uu' (
	Threadinguu( 1
.uu1 2
Timeruu2 7
(uu7 8
stateuu8 =
=>uu> @
{uuA B
tryvv 
{ww 
heartbeatClientxx #
.xx# $
	Heartbeatxx$ -
(xx- .
)xx. /
;xx/ 0
}yy 
catchzz 
(zz (
AddressAccessDeniedExceptionzz 3
exzz4 6
)zz6 7
{{{ #
ExceptionHandlerForLogs|| +
.||+ ,
LogException||, 8
(||8 9
ex||9 ;
,||; <
ExceptionDictionary||= P
.||P Q
FATAL_EXCEPTION||Q `
)||` a
;||a b
}~~ 
catch 
( 
SocketException &
ex' )
)) *
{
 %
ExceptionHandlerForLogs
 +
.
+ ,
LogException
, 8
(
8 9
ex
9 ;
,
; <!
ExceptionDictionary
= P
.
P Q
FATAL_EXCEPTION
Q `
)
` a
;
a b
}
 
catch
 
(
 '
EndpointNotFoundException
 0
ex
1 3
)
3 4
{
 %
ExceptionHandlerForLogs
 +
.
+ ,
LogException
, 8
(
8 9
ex
9 ;
,
; <!
ExceptionDictionary
= P
.
P Q
FATAL_EXCEPTION
Q `
)
` a
;
a b
}
 
catch
 
(
 1
#CommunicationObjectFaultedException
 :
ex
; =
)
= >
{
 %
ExceptionHandlerForLogs
 +
.
+ ,
LogException
, 8
(
8 9
ex
9 ;
,
; <!
ExceptionDictionary
= P
.
P Q
FATAL_EXCEPTION
Q `
)
` a
;
a b
}
 
catch
 
(
 
TimeoutException
 '
ex
( *
)
* +
{
 %
ExceptionHandlerForLogs
 +
.
+ ,
LogException
, 8
(
8 9
ex
9 ;
,
; <!
ExceptionDictionary
= P
.
P Q
FATAL_EXCEPTION
Q `
)
` a
;
a b
}
 
catch
 
(
 $
CommunicationException
 -
ex
. 0
)
0 1
{
 %
ExceptionHandlerForLogs
 +
.
+ ,
LogException
, 8
(
8 9
ex
9 ;
,
; <!
ExceptionDictionary
= P
.
P Q
FATAL_EXCEPTION
Q `
)
` a
;
a b
}
 
}
 
,
 
null
 
,
 
TimeSpan
 !
.
! "
Zero
" &
,
& '
TimeSpan
( 0
.
0 1
FromSeconds
1 <
(
< =
$num
= ?
)
? @
)
@ A
;
A B
}
 	
private
 
static
 
void
 
StopHeartBeat
 )
(
) *
)
* +
{
 	
try
 
{
 
heartbeatTimer
 
?
 
.
  
Change
  &
(
& '
Timeout
' .
.
. /
Infinite
/ 7
,
7 8
Timeout
9 @
.
@ A
Infinite
A I
)
I J
;
J K
heartbeatTimer
 
?
 
.
  
Dispose
  '
(
' (
)
( )
;
) *
}
 
catch
 
(
 %
ObjectDisposedException
 *
ex
+ -
)
- .
{
 %
ExceptionHandlerForLogs
   '
.
  ' (
LogException
  ( 4
(
  4 5
ex
  5 7
,
  7 8!
ExceptionDictionary
  9 L
.
  L M
FATAL_EXCEPTION
  M \
)
  \ ]
;
  ] ^
}
¡¡ 
}
¢¢ 	
}
¦¦ 
}§§ §
kC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\BannerWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public 

partial 
class 
BannerWindow %
:& '
Window( .
{ 
public 
BannerWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ¶
pC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\EnterWithGameCode.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public 

partial 
class 
EnterWithGameCode *
:+ ,
Window- 3
{ 
public 
EnterWithGameCode  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ¤
jC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\IdiomSelect.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public 

partial 
class 
IdiomSelect $
:% &
Window' -
{ 
public 
IdiomSelect 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} Ý
nC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\PrincipalWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public		 

partial		 
class		 
PrincipalWindow		 (
:		) *
Window		+ 1
{

 
public 
PrincipalWindow 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
Loaded 
+= !
LoadedPrincipalWindow +
;+ ,
this 
. 
HorizontalAlignment $
=% &
HorizontalAlignment' :
.: ;
Center; A
;A B
this 
. 
VerticalAlignment "
=# $
VerticalAlignment% 6
.6 7
Top7 :
;: ;
} 	
private 
void !
LoadedPrincipalWindow *
(* +
object+ 1
sender2 8
,8 9
RoutedEventArgs: I
eJ K
)K L
{ 	
contentFrame 
. 
Navigate !
(! "
new" %
Pages& +
.+ ,
PrincipalPage, 9
(9 :
): ;
); <
;< =
contentFrame 
. 

Visibility #
=$ %

Visibility& 0
.0 1
Visible1 8
;8 9
} 	
public 
void 
ShowOverlayPage #
(# $
Page$ (
overlayPage) 4
)4 5
{ 	
overlayFrame 
. 
Content  
=! "
overlayPage# .
;. /
overlayFrame 
. 

Visibility #
=$ %

Visibility& 0
.0 1
Visible1 8
;8 9
} 	
}   
}!! 
pC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\UserManagerWindow.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public 

partial 
class 
UserManagerWindow *
:+ ,
Window- 3
{		 
public

 
UserManagerWindow

  
(

  !
)

! "
{ 	
InitializeComponent 
(  
)  !
;! "
Loaded 
+= 
UserWindowLoaded &
;& '
} 	
private 
void 
UserWindowLoaded %
(% &
object& ,
sender- 3
,3 4
RoutedEventArgs5 D
eE F
)F G
{ 	
CurrentPage 
. 
Navigate  
(  !
new! $
JeopardyGame% 1
.1 2
Pages2 7
.7 8
UserRegister8 D
(D E
)E F
)F G
;G H
this 
. 
HorizontalAlignment $
=% &
HorizontalAlignment' :
.: ;
Center; A
;A B
this 
. 
VerticalAlignment "
=# $
VerticalAlignment% 6
.6 7
Top7 :
;: ;
} 	
public 
void 
CloseWindow 
(  
)  !
{ 	
this 
. 
Close 
( 
) 
; 
} 	
} 
} 
\C:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\App.xaml.cs
	namespace 	
JeopardyGame
 
{ 
public 

partial 
class 
App 
: 
Application *
{ 
public 
static 
bool 
	IsEnglish $
{% &
get' *
;+ ,
set- 0
;1 2
}3 4
	protected		 
override		 
void		 
	OnStartup		  )
(		) *
StartupEventArgs		* :
e		; <
)		< =
{

 	
base 
. 
	OnStartup 
( 
e 
) 
; 
	IsEnglish 
= 
true 
; 
Views 
. 
PrincipalWindow !

mainWindow" ,
=- .
new/ 2
Views3 8
.8 9
PrincipalWindow9 H
(H I
)I J
;J K

mainWindow 
. !
WindowStartupLocation ,
=- .
System/ 5
.5 6
Windows6 =
.= >!
WindowStartupLocation> S
.S T
CenterScreenT `
;` a
this 
. 

MainWindow 
= 

mainWindow (
;( )

mainWindow 
. 
Show 
( 
) 
; 
} 	
App 
( 
) 
{ 	
System 
. 
	Threading 
. 
Thread #
.# $
CurrentThread$ 1
.1 2
CurrentUICulture2 B
=C D
newE H
SystemI O
.O P
GlobalizationP ]
.] ^
CultureInfo^ i
(i j
$strj q
)q r
;r s
} 	
public 
static 
void 
ChangeLanguage )
(* +
string+ 1
language2 :
): ;
{ 	
if 
( 
language 
. 
Equals 
(  
$str  '
)' (
)( )
{ 
	IsEnglish 
= 
true  
;  !
} 
else 
{ 
	IsEnglish   
=   
false   !
;  ! "
}!! 
System"" 
."" 
	Threading"" 
."" 
Thread"" #
.""# $
CurrentThread""$ 1
.""1 2
CurrentUICulture""2 B
=""C D
new""E H
System""I O
.""O P
Globalization""P ]
.""] ^
CultureInfo""^ i
(""i j
language""j r
)""r s
;""s t
}## 	
}%% 
}&& ¤
jC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Views\UserProfile.xaml.cs
	namespace 	
JeopardyGame
 
. 
Views 
{ 
public 

partial 
class 
UserProfile $
:% &
Window' -
{ 
public 
UserProfile 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ÌM
qC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\ProfileDataConsult.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
ProfileDataConsult +
:, -
Page. 2
{ 
private 

Dictionary 
< 
string !
,! "
int# &
>& '
imageIdMappings( 7
;7 8
public 
ProfileDataConsult !
(! "
)" #
{ 	
InitializeComponent 
(  
)  !
;! "#
InitializeImageMappings #
(# $
)$ %
;% &

ImagenInit   
(   
)   
;   
DisplayUserInfo!! 
(!! 
)!! 
;!! 
}"" 	
public$$ 
void$$ 
DisplayUserInfo$$ $
($$$ %
)$$% &
{%% 	
UserSingleton&& 
userSingleton&& '
=&&( )
UserSingleton&&* 7
.&&7 8
GetMainUser&&8 C
(&&C D
)&&D E
;&&E F"
lblUserNameEditAccount'' "
.''" #
Content''# *
=''+ ,
userSingleton''- :
.'': ;
UserName''; C
;''C D
lblNameEditAccount(( 
.(( 
Content(( &
=((' (
userSingleton(() 6
.((6 7
Name((7 ;
;((; < 
lblAddresEditAccount))  
.))  !
Content))! (
=))) *
userSingleton))+ 8
.))8 9
Email))9 >
;))> ?
}** 	
private,, 
void,, $
ClickEditUserInformation,, -
(,,- .
object,,. 4
sender,,5 ;
,,,; <
System,,= C
.,,C D
Windows,,D K
.,,K L
Input,,L Q
.,,Q R 
MouseButtonEventArgs,,R f
e,,g h
),,h i
{-- 	
EditUserProfile.. 
editUserProfilePage.. /
=..0 1
new..2 5
EditUserProfile..6 E
(..E F
)..F G
;..G H
this// 
.// 
NavigationService// "
.//" #
Navigate//# +
(//+ ,
editUserProfilePage//, ?
)//? @
;//@ A
NavigationService00 
.00 
RemoveBackEntry00 -
(00- .
)00. /
;00/ 0
}11 	
private33 
void33 
ClickSingOut33 !
(33! "
object33" (
sender33) /
,33/ 0
System331 7
.337 8
Windows338 ?
.33? @
Input33@ E
.33E F 
MouseButtonEventArgs33F Z
e33[ \
)33\ ]
{44 	
MainMenu55 
mainMenuPage55 !
=55" #
new55$ '
MainMenu55( 0
(550 1
)551 2
;552 3
this66 
.66 
NavigationService66 "
.66" #
Navigate66# +
(66+ ,
mainMenuPage66, 8
)668 9
;669 :
NavigationService77 
.77 
RemoveBackEntry77 -
(77- .
)77. /
;77/ 0
}88 	
private99 
void99 #
InitializeImageMappings99 ,
(99, -
)99- .
{:: 	
imageIdMappings;; 
=;; 
new;; !

Dictionary;;" ,
<;;, -
string;;- 3
,;;3 4
int;;5 8
>;;8 9
{<< 
{== 
$str== 
,== 
$num== 
}==  
,==  !
{>> 
$str>> 
,>>  
$num>>! "
}>># $
,>>$ %
{?? 
$str?? 
,?? 
$num?? 
}?? 
,??  
{@@ 
$str@@ 
,@@ 
$num@@ 
}@@ 
,@@ 
{AA 
$strAA 
,AA 
$numAA 
}AA 
,AA 
{BB 
$strBB 
,BB 
$numBB 
}BB  !
,BB! "
{CC 
$strCC 
,CC 
$numCC 
}CC  
}DD 
;DD 
}EE 	
privateFF 
voidFF 

ImagenInitFF 
(FF  
)FF  !
{GG 	
tryHH 
{II 
intJJ 
idPlayerJJ 
=JJ 
UserSingletonJJ ,
.JJ, -
GetMainUserJJ- 8
(JJ8 9
)JJ9 :
.JJ: ;
IdPlayerJJ; C
;JJC D(
ConsultUserInformationClientKK ,#
consultInformationProxyKK- D
=KKE F
newKKG J(
ConsultUserInformationClientKKK g
(KKg h
)KKh i
;KKi j
varLL 

playerInfoLL 
=LL  #
consultInformationProxyLL! 8
.LL8 9
ConsultPlayerByIdLL9 J
(LLJ K
idPlayerLLK S
)LLS T
;LLT U#
consultInformationProxyMM '
.MM' (
CloseMM( -
(MM- .
)MM. /
;MM/ 0
ifNN 
(NN 

playerInfoNN 
.NN 
	CodeEventNN (
==NN) +
ExceptionDictionaryNN, ?
.NN? @
SUCCESFULL_EVENTNN@ P
&&NNQ S

playerInfoNNT ^
.NN^ _
ObjectSavedNN_ j
!=NNk m
nullNNn r
)NNr s
{OO 
intPP 
imageIdPP 
=PP  !

playerInfoPP" ,
.PP, -
ObjectSavedPP- 8
.PP8 9
IdActualAvatarPP9 G
;PPG H
stringQQ 
	imageNameQQ $
=QQ% &
imageIdMappingsQQ' 6
.QQ6 7
FirstOrDefaultQQ7 E
(QQE F
xQQF G
=>QQH J
xQQK L
.QQL M
ValueQQM R
==QQS U
imageIdQQV ]
)QQ] ^
.QQ^ _
KeyQQ_ b
;QQb c
ifRR 
(RR 
!RR 
stringRR 
.RR  
IsNullOrEmptyRR  -
(RR- .
	imageNameRR. 7
)RR7 8
)RR8 9
{SS 
BitmapTT 
bmpTT "
=TT# $
(TT% &
BitmapTT& ,
)TT, -

PropertiesTT- 7
.TT7 8
ResourcesImageTT8 F
.TTF G
ResourceManagerTTG V
.TTV W
	GetObjectTTW `
(TT` a
	imageNameTTa j
)TTj k
;TTk l
BitmapSourceVV $
bmpImageVV% -
=VV. /
ImagingVV0 7
.VV7 8)
CreateBitmapSourceFromHBitmapVV8 U
(VVU V
bmpWW 
.WW  

GetHbitmapWW  *
(WW* +
)WW+ ,
,WW, -
IntPtrXX "
.XX" #
ZeroXX# '
,XX' (
	Int32RectYY %
.YY% &
EmptyYY& +
,YY+ ,
BitmapSizeOptionsZZ -
.ZZ- .
FromEmptyOptionsZZ. >
(ZZ> ?
)ZZ? @
)[[ 
;[[ 
imageProfile]] $
.]]$ %
Source]]% +
=]], -
bmpImage]]. 6
;]]6 7
}^^ 
}`` 
}aa 
catchbb 
(bb %
EndpointNotFoundExceptionbb ,
exbb- /
)bb/ 0
{cc 
HandleExceptiondd 
(dd  
exdd  "
,dd" #

Propertiesdd$ .
.dd. /
	Resourcesdd/ 8
.dd8 9
lblEndPointNotFounddd9 L
)ddL M
;ddM N
}ee 
catchff 
(ff /
#CommunicationObjectFaultedExceptionff 6
exff7 9
)ff9 :
{gg 
HandleExceptionhh 
(hh  
exhh  "
,hh" #

Propertieshh$ .
.hh. /
	Resourceshh/ 8
.hh8 9$
lblComunicationExceptionhh9 Q
)hhQ R
;hhR S
}ii 
catchjj 
(jj 
TimeoutExceptionjj #
exjj$ &
)jj& '
{kk 
HandleExceptionll 
(ll  
exll  "
,ll" #

Propertiesll$ .
.ll. /
	Resourcesll/ 8
.ll8 9
lblTimeExceptionll9 I
)llI J
;llJ K
}mm 
catchnn 
(nn "
CommunicationExceptionnn )
exnn* ,
)nn, -
{oo 
HandleExceptionpp 
(pp  
expp  "
,pp" #

Propertiespp$ .
.pp. /
	Resourcespp/ 8
.pp8 9
lblWithoutConectionpp9 L
)ppL M
;ppM N
}qq 
catchrr 
(rr 
SocketExceptionrr "
exrr# %
)rr% &
{ss 
HandleExceptiontt 
(tt  
extt  "
,tt" #

Propertiestt$ .
.tt. /
	Resourcestt/ 8
.tt8 9
GenericEmailIssuett9 J
)ttJ K
;ttK L
}uu 
}vv 	
privateww 
voidww 
HandleExceptionww $
(ww$ %
	Exceptionww% .
exww/ 1
,ww1 2
stringww3 9
errorMessageww: F
)wwF G
{xx 	#
ExceptionHandlerForLogsyy #
.yy# $
LogExceptionyy$ 0
(yy0 1
exyy1 3
,yy3 4
ExceptionDictionaryyy5 H
.yyH I
FATAL_EXCEPTIONyyI X
)yyX Y
;yyY Z
DialogWindowManagerzz 
.zz  !
ShowInfoOrErrorWindowzz  5
(zz5 6

Propertieszz6 @
.zz@ A
	ResourceszzA J
.zzJ K
txbErrorTitlezzK X
,zzX Y
errorMessagezzZ f
,zzf g
Applicationzzh s
.zzs t
Currentzzt {
.zz{ |

MainWindow	zz| 
,
zz !
DialogWindowManager
zz 
.
zz 
ERROR
zz ¡
)
zz¡ ¢
;
zz¢ £
}{{ 	
}|| 
}}} Ëë
kC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Pages\UserRegister.xaml.cs
	namespace 	
JeopardyGame
 
. 
Pages 
{ 
public 

partial 
class 
UserRegister %
:& '
Page( ,
{ 
private 
List 
< 
Label 
> 
ListBoxRules (
=) *
new+ .
List/ 3
<3 4
Label4 9
>9 :
(: ;
); <
;< =
private 
const 
int 
DISALLOWED_VALUES +
=, -
$num. /
;/ 0
private 
const 
int 
ALLOWED_VALUES (
=) *
$num+ ,
;, -
private 
const 
int #
MINIMUN_PASSWORD_LENGTH 1
=2 3
$num4 6
;6 7
private 
const 
int #
MAXIMUM_PASSWORD_LENGTH 1
=2 3
$num4 6
;6 7
public"" 
UserRegister"" 
("" 
)"" 
{## 	
InitializeComponent$$ 
($$  
)$$  !
;$$! "
PrepareWindow%% 
(%% 
)%% 
;%%  
txbNameCreateAccount&&  
.&&  !
	MaxLength&&! *
=&&+ ,
$num&&- /
;&&/ 0$
txbUserNameCreateAccount'' $
.''$ %
	MaxLength''% .
=''/ 0
$num''1 3
;''3 4!
txbEmailCreateAccount(( !
.((! "
	MaxLength((" +
=((, -
$num((. 0
;((0 1$
psbPasswordCreateAccount)) $
.))$ %
	MaxLength))% .
=))/ 0
$num))1 3
;))3 4
}** 	
public,, 
void,, 

LoadFields,, 
(,, 
UserPojo,, '
user,,( ,
),,, -
{-- 	
ListBoxRules.. 
... 
Clear.. 
(.. 
)..  
;..  !
PrepareWindow// 
(// 
)// 
;//  
txbNameCreateAccount00  
.00  !
Text00! %
=00& '
user00( ,
.00, -
Name00- 1
;001 2$
txbUserNameCreateAccount11 $
.11$ %
Text11% )
=11* +
user11, 0
.110 1
UserName111 9
;119 :!
txbEmailCreateAccount22 !
.22! "
Text22" &
=22' (
user22) -
.22- .
EmailAddress22. :
;22: ;$
psbPasswordCreateAccount33 $
.33$ %
Password33% -
=33. /
user330 4
.334 5
Password335 =
;33= >
}44 	
private66 
void66 
PrepareWindow66 "
(66" #
)66# $
{77 	
InitializeListeners88 
(88  
)88  !
;88! "
CreateRuleLabels99 
(99 
)99 
;99 
foreach:: 
(:: 
var:: 
rule:: 
in::  
ListBoxRules::! -
)::- .
{;; 
lsbPasswordRules<<  
.<<  !
Items<<! &
.<<& '
Add<<' *
(<<* +
rule<<+ /
)<</ 0
;<<0 1
}== 
}>> 	
private@@ 
void@@ 
InitializeListeners@@ (
(@@( )
)@@) *
{AA 	$
psbPasswordCreateAccountBB $
.BB$ %
PasswordChangedBB% 4
+=BB5 7
EntryPasswordCharBB8 I
;BBI J$
psbPasswordCreateAccountCC $
.CC$ %
PreviewKeyDownCC% 3
+=CC4 6
EntryTextBoxPasteCC7 H
;CCH I 
txbNameCreateAccountEE  
.EE  !
PreviewTextInputEE! 1
+=EE2 4&
EntryTextBoxCharValidationEE5 O
;EEO P$
txbUserNameCreateAccountFF $
.FF$ %
PreviewTextInputFF% 5
+=FF6 8&
EntryTextBoxCharValidationFF9 S
;FFS T 
txbNameCreateAccountHH  
.HH  !
PreviewKeyDownHH! /
+=HH0 2
EntryTextBoxPasteHH3 D
;HHD E$
txbUserNameCreateAccountII $
.II$ %
PreviewKeyDownII% 3
+=II4 6
EntryTextBoxPasteII7 H
;IIH I!
txbEmailCreateAccountJJ !
.JJ! "
PreviewTextInputJJ" 2
+=JJ3 5&
EntryTextBoxCharValidationJJ6 P
;JJP Q!
txbEmailCreateAccountKK !
.KK! "
PreviewKeyDownKK" 0
+=KK1 3
EntryTextBoxPasteKK4 E
;KKE F
}LL 	
privateNN 
voidNN 
EntryPasswordCharNN &
(NN& '
objectNN' -
senderNN. 4
,NN4 5
RoutedEventArgsNN6 E
eNNF G
)NNG H
{OO 	
intPP (
changeButtonStateForPasswordPP ,
=PP- .
CheckPasswordPP/ <
(PP< =
)PP= >
;PP> ?
ifQQ 
(QQ (
changeButtonStateForPasswordQQ ,
==QQ- /
ALLOWED_VALUESQQ0 >
)QQ> ?
{RR 
bttSaveUserSS 
.SS 
	IsEnabledSS %
=SS& '
trueSS( ,
;SS, -
}TT 
elseUU 
{VV 
bttSaveUserWW 
.WW 
	IsEnabledWW %
=WW& '
falseWW( -
;WW- .
}XX 
}YY 	
private[[ 
void[[ &
EntryTextBoxCharValidation[[ /
([[/ 0
object[[0 6
sender[[7 =
,[[= >$
TextCompositionEventArgs[[? W
e[[X Y
)[[Y Z
{\\ 	
TextBox]] 
currentTextBox]] "
=]]# $
sender]]% +
as]], .
TextBox]]/ 6
;]]6 7%
RegularExpressionsLibrary^^ %%
regularExpressionsLibrary^^& ?
=^^@ A
new^^B E%
RegularExpressionsLibrary^^F _
(^^_ `
)^^` a
;^^a b
try__ 
{`` 
ifaa 
(aa 
(aa %
regularExpressionsLibraryaa .
.aa. /$
ValidationTextBoxRegexesaa/ G
.aaG H
TryGetValueaaH S
(aaS T
currentTextBoxaaT b
.aab c
Nameaac g
,aag h
outaai l
stringaam s
regexaat y
)aay z
)aaz {
&&bb 
!bb 
Regexbb 
.bb 
IsMatchbb  
(bb  !
(bb! "
currentTextBoxbb" 0
.bb0 1
Textbb1 5
+bb6 7
ebb8 9
.bb9 :
Textbb: >
)bb> ?
,bb? @
regexbbA F
,bbF G
RegexOptionsbbH T
.bbT U

IgnoreCasebbU _
,bb_ `
TimeSpanbba i
.bbi j
FromMillisecondsbbj z
(bbz {
$numbb{ ~
)bb~ 
)	bb 
)
bb 
{cc 
edd 
.dd 
Handleddd 
=dd 
truedd  $
;dd$ %
}ee 
}ff 
catchgg 
(gg &
RegexMatchTimeoutExceptiongg -
exgg. 0
)gg0 1
{hh #
ExceptionHandlerForLogsii '
.ii' (
LogExceptionii( 4
(ii4 5
exii5 7
,ii7 8
ExceptionDictionaryii9 L
.iiL M
ERRORiiM R
)iiR S
;iiS T
ejj 
.jj 
Handledjj 
=jj 
truejj  
;jj  !
}kk 
catchll 
(ll !
ArgumentNullExceptionll (
exll) +
)ll+ ,
{mm #
ExceptionHandlerForLogsnn '
.nn' (
LogExceptionnn( 4
(nn4 5
exnn5 7
,nn7 8
ExceptionDictionarynn9 L
.nnL M
ERRORnnM R
)nnR S
;nnS T
eoo 
.oo 
Handledoo 
=oo 
trueoo  
;oo  !
}pp 
}qq 	
privatess 
voidss 
EntryTextBoxPastess &
(ss& '
objectss' -
senderss. 4
,ss4 5
KeyEventArgsss6 B
essC D
)ssD E
{tt 	
ifuu 
(uu 
(uu 
Keyboarduu 
.uu 
	Modifiersuu #
&uu$ %
ModifierKeysuu& 2
.uu2 3
Controluu3 :
)uu: ;
==uu< >
ModifierKeysuu? K
.uuK L
ControluuL S
&&uuT V
(uuW X
euuX Y
.uuY Z
KeyuuZ ]
==uu^ `
Keyuua d
.uud e
Vuue f
)uuf g
)uug h
{vv 
eww 
.ww 
Handledww 
=ww 
trueww  $
;ww$ %
}xx 
}yy 	
private{{ 
void{{ 
CreateRuleLabels{{ %
({{% &
){{& '
{|| 	
Label}} 
PasswordLengthRule}} $
=}}% &
new}}' *
Label}}+ 0
(}}0 1
)}}1 2
;}}2 3
PasswordLengthRule~~ 
.~~ 
Content~~ &
=~~' (

Properties~~) 3
.~~3 4
	Resources~~4 =
.~~= >!
lblPassLengthRuleDesc~~> S
;~~S T
PasswordLengthRule 
. 

Foreground )
=* +
Brushes, 3
.3 4
White4 9
;9 : 
PasswordLengthRule
 
.
 
FontSize
 '
=
( )
$num
* ,
;
, -
Label
 !
PasswordNumbersRule
 %
=
& '
new
( +
Label
, 1
(
1 2
)
2 3
;
3 4!
PasswordNumbersRule
 
.
  
Content
  '
=
( )

Properties
* 4
.
4 5
	Resources
5 >
.
> ?#
lblPassNumberRuleDesc
? T
;
T U!
PasswordNumbersRule
 
.
  

Foreground
  *
=
+ ,
Brushes
- 4
.
4 5
White
5 :
;
: ;!
PasswordNumbersRule
 
.
  
FontSize
  (
=
) *
$num
+ -
;
- .
Label
 "
PasswordCapitalsRule
 &
=
' (
new
) ,
Label
- 2
(
2 3
)
3 4
;
4 5"
PasswordCapitalsRule
  
.
  !
Content
! (
=
) *

Properties
+ 5
.
5 6
	Resources
6 ?
.
? @$
lblPassCapitalRuleDesc
@ V
;
V W"
PasswordCapitalsRule
  
.
  !

Foreground
! +
=
, -
Brushes
. 5
.
5 6
White
6 ;
;
; <"
PasswordCapitalsRule
  
.
  !
FontSize
! )
=
* +
$num
, .
;
. /
Label
 !
PasswordSpeCharRule
 %
=
& '
new
( +
Label
, 1
(
1 2
)
2 3
;
3 4!
PasswordSpeCharRule
 
.
  
Content
  '
=
( )

Properties
* 4
.
4 5
	Resources
5 >
.
> ?$
lblPassSpeCharRuleDesc
? U
;
U V!
PasswordSpeCharRule
 
.
  

Foreground
  *
=
+ ,
Brushes
- 4
.
4 5
White
5 :
;
: ;!
PasswordSpeCharRule
 
.
  
FontSize
  (
=
) *
$num
+ -
;
- .
Label
 %
PasswordPunctuationRule
 )
=
* +
new
, /
Label
0 5
(
5 6
)
6 7
;
7 8%
PasswordPunctuationRule
 #
.
# $
Content
$ +
=
, -

Properties
/ 9
.
9 :
	Resources
: C
.
C D$
lblPassPuntSigRuleDesc
D Z
;
Z [%
PasswordPunctuationRule
 #
.
# $

Foreground
$ .
=
/ 0
Brushes
1 8
.
8 9
White
9 >
;
> ?%
PasswordPunctuationRule
 #
.
# $
FontSize
$ ,
=
- .
$num
/ 1
;
1 2
Label
 #
PasswordSameEmailRule
 '
=
( )
new
* -
Label
. 3
(
3 4
)
4 5
;
5 6#
PasswordSameEmailRule
 !
.
! "
Content
" )
=
* +

Properties
, 6
.
6 7
	Resources
7 @
.
@ A(
lblPassEqualsEmailRuleDesc
A [
;
[ \#
PasswordSameEmailRule
 !
.
! "

Foreground
" ,
=
- .
Brushes
/ 6
.
6 7
White
7 <
;
< =#
PasswordSameEmailRule
 !
.
! "
FontSize
" *
=
+ ,
$num
- /
;
/ 0
ListBoxRules
 
.
 
Add
 
(
  
PasswordLengthRule
 /
)
/ 0
;
0 1
ListBoxRules
 
.
 
Add
 
(
 !
PasswordNumbersRule
 0
)
0 1
;
1 2
ListBoxRules
 
.
 
Add
 
(
 "
PasswordCapitalsRule
 1
)
1 2
;
2 3
ListBoxRules
 
.
 
Add
 
(
 !
PasswordSpeCharRule
 0
)
0 1
;
1 2
ListBoxRules
 
.
 
Add
 
(
 %
PasswordPunctuationRule
 4
)
4 5
;
5 6
ListBoxRules
 
.
 
Add
 
(
 #
PasswordSameEmailRule
 2
)
2 3
;
3 4
}
 	
private
 
void
 !
ClickButtonSaveUser
 (
(
( )
object
) /
sender
0 6
,
6 7
RoutedEventArgs
8 G
e
H I
)
I J
{
 	
UserPojo
   

userToSave
   
=
    !
new
  " %
UserPojo
  & .
(
  . /
)
  / 0
;
  0 1

userToSave
¡¡ 
.
¡¡ 
Name
¡¡ 
=
¡¡ "
txbNameCreateAccount
¡¡ 2
.
¡¡2 3
Text
¡¡3 7
.
¡¡7 8
Trim
¡¡8 <
(
¡¡< =
)
¡¡= >
;
¡¡> ?

userToSave
¢¢ 
.
¢¢ 
UserName
¢¢ 
=
¢¢  !&
txbUserNameCreateAccount
¢¢" :
.
¢¢: ;
Text
¢¢; ?
.
¢¢? @
Trim
¢¢@ D
(
¢¢D E
)
¢¢E F
;
¢¢F G

userToSave
££ 
.
££ 
EmailAddress
££ #
=
££$ %#
txbEmailCreateAccount
££& ;
.
££; <
Text
££< @
.
££@ A
Trim
££A E
(
££E F
)
££F G
;
££G H

userToSave
¤¤ 
.
¤¤ 
Password
¤¤ 
=
¤¤  !&
psbPasswordCreateAccount
¤¤" :
.
¤¤: ;
Password
¤¤; C
.
¤¤C D
Trim
¤¤D H
(
¤¤H I
)
¤¤I J
;
¤¤J K
if
¥¥ 
(
¥¥ 
CheckEmptyFields
¥¥  
(
¥¥  !
)
¥¥! "
==
¥¥# %
ALLOWED_VALUES
¥¥& 4
&&
¥¥5 7%
CheckEmailAddressFormat
¦¦ '
(
¦¦' (
)
¦¦( )
==
¦¦* ,
ALLOWED_VALUES
¦¦- ;
&&
¦¦< >,
CheckUserNameAndEmailExistence
§§ .
(
§§. /

userToSave
§§/ 9
)
§§9 :
==
§§; =
ALLOWED_VALUES
§§> L
)
§§L M
{
¨¨ (
GoToCodeConfirmationWindow
©© *
(
©©* +

userToSave
©©+ 5
)
©©5 6
;
©©6 7
}
ªª 
}
«« 	
private
­­ 
int
­­ 
CheckEmptyFields
­­ $
(
­­$ %
)
­­% &
{
®® 	
int
¯¯ 
answer
¯¯ 
=
¯¯ 
ALLOWED_VALUES
¯¯ '
;
¯¯' (
if
°° 
(
°° 
string
°° 
.
°° 
IsNullOrEmpty
°° $
(
°°$ %"
txbNameCreateAccount
°°% 9
.
°°9 :
Text
°°: >
.
°°> ?
Trim
°°? C
(
°°C D
)
°°D E
)
°°E F
)
°°F G
{
±± 
lblNameWarning
²² 
.
²² 

Visibility
²² )
=
²²* +

Visibility
²², 6
.
²²6 7
Visible
²²7 >
;
²²> ?
answer
³³ 
=
³³ 
DISALLOWED_VALUES
³³ *
;
³³* +
}
´´ 
else
µµ 
{
¶¶ 
lblNameWarning
·· 
.
·· 

Visibility
·· )
=
··* +

Visibility
··, 6
.
··6 7
	Collapsed
··7 @
;
··@ A
}
¸¸ 
if
¹¹ 
(
¹¹ 
string
¹¹ 
.
¹¹ 
IsNullOrEmpty
¹¹ $
(
¹¹$ %&
txbUserNameCreateAccount
¹¹% =
.
¹¹= >
Text
¹¹> B
.
¹¹B C
Trim
¹¹C G
(
¹¹G H
)
¹¹H I
)
¹¹I J
)
¹¹J K
{
ºº  
lblUserNameWarning
»» "
.
»»" #

Visibility
»»# -
=
»». /

Visibility
»»0 :
.
»»: ;
Visible
»»; B
;
»»B C
answer
¼¼ 
=
¼¼ 
DISALLOWED_VALUES
¼¼ *
;
¼¼* +
}
½½ 
else
¾¾ 
{
¿¿  
lblUserNameWarning
ÀÀ "
.
ÀÀ" #

Visibility
ÀÀ# -
=
ÀÀ. /

Visibility
ÀÀ0 :
.
ÀÀ: ;
	Collapsed
ÀÀ; D
;
ÀÀD E
}
ÁÁ 
if
ÂÂ 
(
ÂÂ 
string
ÂÂ 
.
ÂÂ 
IsNullOrEmpty
ÂÂ $
(
ÂÂ$ %#
txbEmailCreateAccount
ÂÂ% :
.
ÂÂ: ;
Text
ÂÂ; ?
.
ÂÂ? @
Trim
ÂÂ@ D
(
ÂÂD E
)
ÂÂE F
)
ÂÂF G
)
ÂÂG H
{
ÃÃ 
lblEmailWarning
ÄÄ 
.
ÄÄ  
Content
ÄÄ  '
=
ÄÄ( )

Properties
ÄÄ* 4
.
ÄÄ4 5
	Resources
ÄÄ5 >
.
ÄÄ> ?
lblEmptyField
ÄÄ? L
;
ÄÄL M
lblEmailWarning
ÅÅ 
.
ÅÅ  

Visibility
ÅÅ  *
=
ÅÅ+ ,

Visibility
ÅÅ- 7
.
ÅÅ7 8
Visible
ÅÅ8 ?
;
ÅÅ? @
answer
ÆÆ 
=
ÆÆ 
DISALLOWED_VALUES
ÆÆ *
;
ÆÆ* +
}
ÇÇ 
else
ÈÈ 
{
ÉÉ 
lblEmailWarning
ÊÊ 
.
ÊÊ  
Content
ÊÊ  '
=
ÊÊ( )
string
ÊÊ* 0
.
ÊÊ0 1
Empty
ÊÊ1 6
;
ÊÊ6 7
lblEmailWarning
ËË 
.
ËË  

Visibility
ËË  *
=
ËË+ ,

Visibility
ËË- 7
.
ËË7 8
	Collapsed
ËË8 A
;
ËËA B
}
ÌÌ 
if
ÍÍ 
(
ÍÍ 
string
ÍÍ 
.
ÍÍ 
IsNullOrEmpty
ÍÍ $
(
ÍÍ$ %&
psbPasswordCreateAccount
ÍÍ% =
.
ÍÍ= >
Password
ÍÍ> F
.
ÍÍF G
Trim
ÍÍG K
(
ÍÍK L
)
ÍÍL M
)
ÍÍM N
)
ÍÍN O
{
ÎÎ  
lblPasswordWarning
ÏÏ "
.
ÏÏ" #

Visibility
ÏÏ# -
=
ÏÏ. /

Visibility
ÏÏ0 :
.
ÏÏ: ;
Visible
ÏÏ; B
;
ÏÏB C
answer
ÐÐ 
=
ÐÐ 
DISALLOWED_VALUES
ÐÐ *
;
ÐÐ* +
}
ÑÑ 
else
ÒÒ 
{
ÓÓ  
lblPasswordWarning
ÔÔ "
.
ÔÔ" #

Visibility
ÔÔ# -
=
ÔÔ. /

Visibility
ÔÔ0 :
.
ÔÔ: ;
	Collapsed
ÔÔ; D
;
ÔÔD E
}
ÕÕ 
return
ÖÖ 
answer
ÖÖ 
;
ÖÖ 
}
×× 	
private
ÙÙ 
int
ÙÙ %
CheckEmailAddressFormat
ÙÙ +
(
ÙÙ+ ,
)
ÙÙ, -
{
ÚÚ 	'
RegularExpressionsLibrary
ÛÛ %
regexInstance
ÛÛ& 3
=
ÛÛ4 5
new
ÛÛ6 9'
RegularExpressionsLibrary
ÛÛ: S
(
ÛÛS T
)
ÛÛT U
;
ÛÛU V
string
ÜÜ 
regexExpression
ÜÜ "
=
ÜÜ# $
regexInstance
ÜÜ% 2
.
ÜÜ2 3!
GetEMAIL_RULES_CHAR
ÜÜ3 F
(
ÜÜF G
)
ÜÜG H
;
ÜÜH I
int
ÝÝ 
answer
ÝÝ 
;
ÝÝ 
String
ÞÞ 
email
ÞÞ 
=
ÞÞ #
txbEmailCreateAccount
ÞÞ 0
.
ÞÞ0 1
Text
ÞÞ1 5
.
ÞÞ5 6
Trim
ÞÞ6 :
(
ÞÞ: ;
)
ÞÞ; <
;
ÞÞ< =
try
ßß 
{
àà 
if
áá 
(
áá 
!
áá 
Regex
áá 
.
áá 
IsMatch
áá "
(
áá" #
email
áá# (
,
áá( )
regexExpression
áá* 9
,
áá9 :
RegexOptions
áá; G
.
ááG H

IgnoreCase
ááH R
,
ááR S
TimeSpan
ááT \
.
áá\ ]
FromMilliseconds
áá] m
(
áám n
$num
áán q
)
ááq r
)
áár s
)
áás t
{
ââ 
lblEmailWarning
ãã #
.
ãã# $
Content
ãã$ +
=
ãã, -

Properties
ãã. 8
.
ãã8 9
	Resources
ãã9 B
.
ããB C
lblInvalidEmail
ããC R
;
ããR S
lblEmailWarning
ää #
.
ää# $

Visibility
ää$ .
=
ää/ 0

Visibility
ää1 ;
.
ää; <
Visible
ää< C
;
ääC D
answer
åå 
=
åå 
DISALLOWED_VALUES
åå .
;
åå. /
}
ææ 
else
çç 
{
èè 
lblEmailWarning
éé #
.
éé# $
Content
éé$ +
=
éé, -
string
éé. 4
.
éé4 5
Empty
éé5 :
;
éé: ;
lblEmailWarning
êê #
.
êê# $

Visibility
êê$ .
=
êê/ 0

Visibility
êê1 ;
.
êê; <
	Collapsed
êê< E
;
êêE F
answer
ëë 
=
ëë 
CheckPassword
ëë *
(
ëë* +
)
ëë+ ,
;
ëë, -
}
ìì 
}
íí 
catch
îî 
(
îî (
RegexMatchTimeoutException
îî -
ex
îî. 0
)
îî0 1
{
ïï %
ExceptionHandlerForLogs
ðð '
.
ðð' (
LogException
ðð( 4
(
ðð4 5
ex
ðð5 7
,
ðð7 8!
ExceptionDictionary
ðð9 L
.
ððL M
ERROR
ððM R
)
ððR S
;
ððS T
answer
ññ 
=
ññ 
DISALLOWED_VALUES
ññ *
;
ññ* +
}
òò 
catch
óó 
(
óó #
ArgumentNullException
óó (
ex
óó) +
)
óó+ ,
{
ôô %
ExceptionHandlerForLogs
õõ '
.
õõ' (
LogException
õõ( 4
(
õõ4 5
ex
õõ5 7
,
õõ7 8!
ExceptionDictionary
õõ9 L
.
õõL M
ERROR
õõM R
)
õõR S
;
õõS T
answer
öö 
=
öö 
DISALLOWED_VALUES
öö *
;
öö* +
}
÷÷ 
return
øø 
answer
øø 
;
øø 
}
ùù 	
private
ûû 
int
ûû 
CheckPassword
ûû !
(
ûû! "
)
ûû" #
{
üü 	
int
ýý 
answer
ýý 
=
ýý 
ALLOWED_VALUES
ýý '
;
ýý' (
try
þþ 
{
ÿÿ '
RegularExpressionsLibrary
 )
regexInstance
* 7
=
8 9
new
: ='
RegularExpressionsLibrary
> W
(
W X
)
X Y
;
Y Z
string
 
regexExpression
 &
;
& '
String
 
passwordChecked
 &
=
' (&
psbPasswordCreateAccount
) A
.
A B
Password
B J
.
J K
ToString
K S
(
S T
)
T U
.
U V
Trim
V Z
(
Z [
)
[ \
;
\ ]
if
 
(
 
passwordChecked
 #
.
# $
Length
$ *
<
+ ,%
MINIMUN_PASSWORD_LENGTH
- D
||
E G
passwordChecked
H W
.
W X
Length
X ^
>
_ `%
MAXIMUM_PASSWORD_LENGTH
a x
)
x y
{
 !
HighLightBrokenRule
 '
(
' (
ListBoxRules
( 4
[
4 5
$num
5 6
]
6 7
)
7 8
;
8 9
answer
 
=
 
DISALLOWED_VALUES
 .
;
. /
}
 
else
 
{
 
ClearBrokenRule
 #
(
# $
ListBoxRules
$ 0
[
0 1
$num
1 2
]
2 3
)
3 4
;
4 5
}
 
regexExpression
 
=
  !
regexInstance
" /
.
/ 0$
GetAt_LEAST_TWO_NUMBER
0 F
(
F G
)
G H
;
H I
if
 
(
 
!
 
Regex
 
.
 
IsMatch
 "
(
" #
passwordChecked
# 2
,
2 3
regexExpression
4 C
,
C D
RegexOptions
E Q
.
Q R

IgnoreCase
R \
,
\ ]
TimeSpan
^ f
.
f g
FromMilliseconds
g w
(
w x
$num
x {
)
{ |
)
| }
)
} ~
{
 !
HighLightBrokenRule
 '
(
' (
ListBoxRules
( 4
[
4 5
$num
5 6
]
6 7
)
7 8
;
8 9
answer
 
=
 
DISALLOWED_VALUES
 .
;
. /
}
 
else
 
{
 
ClearBrokenRule
 #
(
# $
ListBoxRules
$ 0
[
0 1
$num
1 2
]
2 3
)
3 4
;
4 5
}
 
if
 
(
 
!
 !
GetSpecificResource
 (
.
( )3
%HasAtLeastTwoSeparateUppercaseLetters
) N
(
N O
passwordChecked
O ^
)
^ _
)
_ `
{
 !
HighLightBrokenRule
 '
(
' (
ListBoxRules
( 4
[
4 5
$num
5 6
]
6 7
)
7 8
;
8 9
answer
 
=
 
DISALLOWED_VALUES
 .
;
. /
}
 
else
 
{
 
ClearBrokenRule
 #
(
# $
ListBoxRules
$ 0
[
0 1
$num
1 2
]
2 3
)
3 4
;
4 5
}
 
regexExpression
 
=
  !
regexInstance
" /
.
/ 0/
!GetAt_LEAST_ONE_SPECIAL_CHARACTER
0 Q
(
Q R
)
R S
;
S T
if
   
(
   
!
   
Regex
   
.
   
IsMatch
   "
(
  " #
passwordChecked
  # 2
,
  2 3
regexExpression
  4 C
,
  C D
RegexOptions
  E Q
.
  Q R

IgnoreCase
  R \
,
  \ ]
TimeSpan
  ^ f
.
  f g
FromMilliseconds
  g w
(
  w x
$num
  x {
)
  { |
)
  | }
)
  } ~
{
¡¡ !
HighLightBrokenRule
¢¢ '
(
¢¢' (
ListBoxRules
¢¢( 4
[
¢¢4 5
$num
¢¢5 6
]
¢¢6 7
)
¢¢7 8
;
¢¢8 9
answer
££ 
=
££ 
DISALLOWED_VALUES
££ .
;
££. /
}
¤¤ 
else
¥¥ 
{
¦¦ 
ClearBrokenRule
§§ #
(
§§# $
ListBoxRules
§§$ 0
[
§§0 1
$num
§§1 2
]
§§2 3
)
§§3 4
;
§§4 5
}
¨¨ 
regexExpression
©© 
=
©©  !
regexInstance
©©" /
.
©©/ 0,
GetAt_LEAST_ONE_PUTUATION_MARK
©©0 N
(
©©N O
)
©©O P
;
©©P Q
if
ªª 
(
ªª 
!
ªª 
Regex
ªª 
.
ªª 
IsMatch
ªª "
(
ªª" #
passwordChecked
ªª# 2
,
ªª2 3
regexExpression
ªª4 C
,
ªªC D
RegexOptions
ªªE Q
.
ªªQ R

IgnoreCase
ªªR \
,
ªª\ ]
TimeSpan
ªª^ f
.
ªªf g
FromMilliseconds
ªªg w
(
ªªw x
$num
ªªx {
)
ªª{ |
)
ªª| }
)
ªª} ~
{
«« !
HighLightBrokenRule
¬¬ '
(
¬¬' (
ListBoxRules
¬¬( 4
[
¬¬4 5
$num
¬¬5 6
]
¬¬6 7
)
¬¬7 8
;
¬¬8 9
answer
­­ 
=
­­ 
DISALLOWED_VALUES
­­ .
;
­­. /
}
®® 
else
¯¯ 
{
°° 
ClearBrokenRule
±± #
(
±±# $
ListBoxRules
±±$ 0
[
±±0 1
$num
±±1 2
]
±±2 3
)
±±3 4
;
±±4 5
}
²² 
int
³³ 
arrobaIndex
³³ 
=
³³  !
(
³³" ##
txbEmailCreateAccount
³³# 8
.
³³8 9
Text
³³9 =
.
³³= >
IndexOf
³³> E
(
³³E F
$char
³³F I
)
³³I J
!=
³³K M
-
³³N O
$num
³³O P
)
³³P Q
?
³³R S#
txbEmailCreateAccount
³³T i
.
³³i j
Text
³³j n
.
³³n o
IndexOf
³³o v
(
³³v w
$char
³³w z
)
³³z {
:
³³| }
$num
³³~ 
;³³ 
if
´´ 
(
´´ #
txbEmailCreateAccount
´´ )
.
´´) *
Text
´´* .
.
´´. /
Trim
´´/ 3
(
´´3 4
)
´´4 5
.
´´5 6
	Substring
´´6 ?
(
´´? @
$num
´´@ A
,
´´A B
arrobaIndex
´´C N
)
´´N O
.
´´O P
Equals
´´P V
(
´´V W
passwordChecked
´´W f
)
´´f g
)
´´g h
{
µµ !
HighLightBrokenRule
¶¶ '
(
¶¶' (
ListBoxRules
¶¶( 4
[
¶¶4 5
$num
¶¶5 6
]
¶¶6 7
)
¶¶7 8
;
¶¶8 9
answer
·· 
=
·· 
DISALLOWED_VALUES
·· .
;
··. /
}
¸¸ 
else
¹¹ 
{
ºº 
ClearBrokenRule
»» #
(
»»# $
ListBoxRules
»»$ 0
[
»»0 1
$num
»»1 2
]
»»2 3
)
»»3 4
;
»»4 5
}
¼¼ 
}
½½ 
catch
¾¾ 
(
¾¾ (
RegexMatchTimeoutException
¾¾ -
ex
¾¾. 0
)
¾¾0 1
{
¿¿ %
ExceptionHandlerForLogs
ÀÀ '
.
ÀÀ' (
LogException
ÀÀ( 4
(
ÀÀ4 5
ex
ÀÀ5 7
,
ÀÀ7 8!
ExceptionDictionary
ÀÀ9 L
.
ÀÀL M
ERROR
ÀÀM R
)
ÀÀR S
;
ÀÀS T
answer
ÁÁ 
=
ÁÁ 
DISALLOWED_VALUES
ÁÁ *
;
ÁÁ* +
}
ÂÂ 
catch
ÃÃ 
(
ÃÃ #
ArgumentNullException
ÃÃ (
ex
ÃÃ) +
)
ÃÃ+ ,
{
ÄÄ %
ExceptionHandlerForLogs
ÅÅ '
.
ÅÅ' (
LogException
ÅÅ( 4
(
ÅÅ4 5
ex
ÅÅ5 7
,
ÅÅ7 8!
ExceptionDictionary
ÅÅ9 L
.
ÅÅL M
ERROR
ÅÅM R
)
ÅÅR S
;
ÅÅS T
answer
ÆÆ 
=
ÆÆ 
DISALLOWED_VALUES
ÆÆ *
;
ÆÆ* +
}
ÇÇ 
return
ÈÈ 
answer
ÈÈ 
;
ÈÈ 
}
ÉÉ 	
private
ËË 
int
ËË ,
CheckUserNameAndEmailExistence
ËË 2
(
ËË2 3
UserPojo
ËË3 ;
userToVerify
ËË< H
)
ËËH I
{
ÌÌ 	
try
ÍÍ 
{
ÎÎ )
ValidateUserExistanceClient
ÏÏ +
dataCheckerProxy
ÏÏ, <
=
ÏÏ= >
new
ÏÏ? B
(
ÏÏC D
)
ÏÏD E
;
ÏÏE F
GenericClassOfint
ÐÐ !
	userIsNew
ÐÐ" +
=
ÐÐ, -
dataCheckerProxy
ÐÐ. >
.
ÐÐ> ?
UserAlreadyExist
ÐÐ? O
(
ÐÐO P
userToVerify
ÐÐP \
)
ÐÐ\ ]
;
ÐÐ] ^
dataCheckerProxy
ÑÑ  
.
ÑÑ  !
Close
ÑÑ! &
(
ÑÑ& '
)
ÑÑ' (
;
ÑÑ( )
if
ÒÒ 
(
ÒÒ 
	userIsNew
ÒÒ 
.
ÒÒ 
	CodeEvent
ÒÒ '
==
ÒÒ( *!
ExceptionDictionary
ÒÒ+ >
.
ÒÒ> ?
SUCCESFULL_EVENT
ÒÒ? O
||
ÒÒP R
	userIsNew
ÒÒS \
.
ÒÒ\ ]
	CodeEvent
ÒÒ] f
==
ÒÒg i!
ExceptionDictionary
ÒÒj }
.
ÒÒ} ~!
UNSUCCESFULL_EVENTÒÒ~ 
)ÒÒ 
{
ÓÓ 
if
ÔÔ 
(
ÔÔ 
	userIsNew
ÔÔ !
.
ÔÔ! "
ObjectSaved
ÔÔ" -
==
ÔÔ. 0
ALLOWED_VALUES
ÔÔ1 ?
)
ÔÔ? @
{
ÕÕ 
return
ÖÖ 
ALLOWED_VALUES
ÖÖ -
;
ÖÖ- .
}
×× 
else
ØØ 
{
ÙÙ %
ShowSpecificUserMessage
ÚÚ /
(
ÚÚ/ 0
	userIsNew
ÚÚ0 9
.
ÚÚ9 :
ObjectSaved
ÚÚ: E
)
ÚÚE F
;
ÚÚF G
return
ÛÛ 
DISALLOWED_VALUES
ÛÛ 0
;
ÛÛ0 1
}
ÜÜ 
}
ÝÝ 
else
ÞÞ 
{
ßß !
DialogWindowManager
àà '
.
àà' (#
ShowInfoOrErrorWindow
àà( =
(
àà= >

Properties
àà> H
.
ààH I
	Resources
ààI R
.
ààR S
txbErrorTitle
ààS `
,
àà` a

Properties
ààb l
.
ààl m
	Resources
ààm v
.
ààv w"
MessageSQLExceptionààw 
,àà 
Applicationàà 
.àà 
Currentàà 
.àà  

MainWindowàà  ª
,ààª «#
DialogWindowManageràà¬ ¿
.àà¿ À
ERRORààÀ Å
)ààÅ Æ
;ààÆ Ç
return
áá 
DISALLOWED_VALUES
áá ,
;
áá, -
}
ââ 
}
ãã 
catch
ää 
(
ää '
EndpointNotFoundException
ää ,
ex
ää- /
)
ää/ 0
{
åå 
HandleException
ææ 
(
ææ  
ex
ææ  "
,
ææ" #

Properties
ææ$ .
.
ææ. /
	Resources
ææ/ 8
.
ææ8 9!
lblEndPointNotFound
ææ9 L
)
ææL M
;
ææM N
}
èè 
catch
éé 
(
éé 1
#CommunicationObjectFaultedException
éé 6
ex
éé7 9
)
éé9 :
{
êê 
HandleException
ëë 
(
ëë  
ex
ëë  "
,
ëë" #

Properties
ëë$ .
.
ëë. /
	Resources
ëë/ 8
.
ëë8 9&
lblComunicationException
ëë9 Q
)
ëëQ R
;
ëëR S
}
ìì 
catch
íí 
(
íí 
TimeoutException
íí #
ex
íí$ &
)
íí& '
{
îî 
HandleException
ïï 
(
ïï  
ex
ïï  "
,
ïï" #

Properties
ïï$ .
.
ïï. /
	Resources
ïï/ 8
.
ïï8 9
lblTimeException
ïï9 I
)
ïïI J
;
ïïJ K
}
ðð 
catch
ññ 
(
ññ $
CommunicationException
ññ )
ex
ññ* ,
)
ññ, -
{
òò 
HandleException
óó 
(
óó  
ex
óó  "
,
óó" #

Properties
óó$ .
.
óó. /
	Resources
óó/ 8
.
óó8 9!
lblWithoutConection
óó9 L
)
óóL M
;
óóM N
}
ôô 
catch
õõ 
(
õõ 
SocketException
õõ "
ex
õõ# %
)
õõ% &
{
öö 
HandleException
÷÷ 
(
÷÷  
ex
÷÷  "
,
÷÷" #

Properties
÷÷$ .
.
÷÷. /
	Resources
÷÷/ 8
.
÷÷8 9!
lblEndPointNotFound
÷÷9 L
)
÷÷L M
;
÷÷M N
}
øø 
return
ùù 
DISALLOWED_VALUES
ùù $
;
ùù$ %
}
úú 	
private
üü 
void
üü %
ShowSpecificUserMessage
üü ,
(
üü, -
int
üü- 0
unsucces
üü1 9
)
üü9 :
{
ýý 	
if
þþ 
(
þþ 
unsucces
þþ 
==
þþ !
ExceptionDictionary
þþ /
.
þþ/ 0!
EMAIL_ALREADY_EXIST
þþ0 C
)
þþC D
{
ÿÿ !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s
lblRepeatedEmails 
, 
Application 
. 
Current 
. 

MainWindow £
,£ ¤#
DialogWindowManager¥ ¸
.¸ ¹
ERROR¹ ¾
)¾ ¿
;¿ À
}
 
else
 
if
 
(
 
unsucces
 
==
  !
ExceptionDictionary
! 4
.
4 5$
USERNAME_ALREADY_EXIST
5 K
)
K L
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s"
lblRepeatedUserNames 
, 
Application 
. 
Current 
. 

MainWindow ¦
,¦ §#
DialogWindowManager¨ »
.» ¼
ERROR¼ Á
)Á Â
;Â Ã
}
 
else
 
{
 !
DialogWindowManager
 #
.
# $#
ShowInfoOrErrorWindow
$ 9
(
9 :

Properties
: D
.
D E
	Resources
E N
.
N O
txbErrorTitle
O \
,
\ ]

Properties
^ h
.
h i
	Resources
i r
.
r s$
lblFailToRegisterUsers 
, 
Application 
. 
Current 
. 

MainWindow ¨
,¨ ©#
DialogWindowManagerª ½
.½ ¾
ERROR¾ Ã
)Ã Ä
;Ä Å
}
 
}
 	
private
 
void
 !
HighLightBrokenRule
 (
(
( )
Label
) .
missingRule
/ :
)
: ;
{
 	
missingRule
 
.
 

Foreground
 "
=
# $
Brushes
% ,
.
, -
Red
- 0
;
0 1
}
 	
private
 
void
 
ClearBrokenRule
 $
(
$ %
Label
% *
missingRule
+ 6
)
6 7
{
 	
missingRule
 
.
 

Foreground
 "
=
# $
Brushes
% ,
.
, -
White
- 2
;
2 3
}
 	
private
 
void
 $
ClickViewPasswordRules
 +
(
+ ,
object
, 2
sender
3 9
,
9 :"
MouseButtonEventArgs
; O
e
P Q
)
Q R
{
 	
brdPasswordRules
 
.
 

Visibility
 '
=
( )

Visibility
* 4
.
4 5
Visible
5 <
;
< ="
imgViewPasswordRules
  
.
  !

Visibility
! +
=
, -

Visibility
. 8
.
8 9
Hidden
9 ?
;
? @
}
 	
private
 
void
 %
ClickClosePasswordRules
 ,
(
, -
object
- 3
sender
4 :
,
: ;"
MouseButtonEventArgs
< P
e
Q R
)
R S
{
 	
brdPasswordRules
 
.
 

Visibility
 '
=
( )

Visibility
* 4
.
4 5
Hidden
5 ;
;
; <"
imgViewPasswordRules
  
.
  !

Visibility
! +
=
, -

Visibility
. 8
.
8 9
Visible
9 @
;
@ A
}
 	
private
¡¡ 
void
¡¡ 
ClickSeePassword
¡¡ %
(
¡¡% &
object
¡¡& ,
sender
¡¡- 3
,
¡¡3 4"
MouseButtonEventArgs
¡¡5 I
e
¡¡J K
)
¡¡K L
{
¢¢ 	
lblViewPassword
££ 
.
££ 
Content
££ #
=
££$ %&
psbPasswordCreateAccount
££& >
.
££> ?
Password
££? G
.
££G H
ToString
££H P
(
££P Q
)
££Q R
;
££R S&
psbPasswordCreateAccount
¤¤ $
.
¤¤$ %

Visibility
¤¤% /
=
¤¤0 1

Visibility
¤¤2 <
.
¤¤< =
	Collapsed
¤¤= F
;
¤¤F G
lblViewPassword
¥¥ 
.
¥¥ 

Visibility
¥¥ &
=
¥¥' (

Visibility
¥¥) 3
.
¥¥3 4
Visible
¥¥4 ;
;
¥¥; <
}
¦¦ 	
private
¨¨ 
void
¨¨ #
OverLeaveHidePassword
¨¨ *
(
¨¨* +
object
¨¨+ 1
sender
¨¨2 8
,
¨¨8 9
MouseEventArgs
¨¨: H
e
¨¨I J
)
¨¨J K
{
©© 	
if
ªª 
(
ªª 
lblViewPassword
ªª 
.
ªª  
	IsVisible
ªª  )
)
ªª) *
{
«« &
psbPasswordCreateAccount
¬¬ (
.
¬¬( )

Visibility
¬¬) 3
=
¬¬4 5

Visibility
¬¬6 @
.
¬¬@ A
Visible
¬¬A H
;
¬¬H I&
psbPasswordCreateAccount
­­ (
.
­­( )
PasswordChar
­­) 5
=
­­6 7
$char
­­8 ;
;
­­; <&
psbPasswordCreateAccount
®® (
.
®®( )
Password
®®) 1
=
®®2 3
(
®®4 5
string
®®5 ;
)
®®; <
lblViewPassword
®®< K
.
®®K L
Content
®®L S
;
®®S T
lblViewPassword
¯¯ 
.
¯¯  

Visibility
¯¯  *
=
¯¯+ ,

Visibility
¯¯- 7
.
¯¯7 8
	Collapsed
¯¯8 A
;
¯¯A B
}
°° 
}
±± 	
private
³³ 
void
³³ %
ClickButtonCancelSaving
³³ ,
(
³³, -
object
³³- 3
sender
³³4 :
,
³³: ;
RoutedEventArgs
³³< K
e
³³L M
)
³³M N
{
´´ 	
if
µµ 
(
µµ !
DialogWindowManager
µµ #
.
µµ# $$
ShowWindowConfirmation
µµ$ :
(
µµ: ;

Properties
µµ; E
.
µµE F
	Resources
µµF O
.
µµO P
txbErrorTitle
µµP ]
,
µµ] ^

Properties
µµ_ i
.
µµi j
	Resources
µµj s
.
µµs t
lblRepeatedEmailµµt 
,µµ 
Applicationµµ 
.µµ 
Currentµµ 
.µµ 

MainWindowµµ ¤
)µµ¤ ¥
)µµ¥ ¦
{
¶¶ 
GoToLogInWindow
·· 
(
··  
)
··  !
;
··! "
}
¸¸ 
}
¹¹ 	
private
»» 
void
»» 
GoToLogInWindow
»» $
(
»»$ %
)
»»% &
{
¼¼ 	
	LogInUser
½½ 
	logInPage
½½ 
=
½½  !
new
½½" %
	LogInUser
½½& /
(
½½/ 0
)
½½0 1
;
½½1 2
this
¾¾ 
.
¾¾ 
NavigationService
¾¾ "
.
¾¾" #
Navigate
¾¾# +
(
¾¾+ ,
	logInPage
¾¾, 5
)
¾¾5 6
;
¾¾6 7
NavigationService
¿¿ 
.
¿¿ 
RemoveBackEntry
¿¿ -
(
¿¿- .
)
¿¿. /
;
¿¿/ 0
}
ÀÀ 	
private
ÂÂ 
void
ÂÂ (
GoToCodeConfirmationWindow
ÂÂ /
(
ÂÂ/ 0
UserPojo
ÂÂ0 8

userToSave
ÂÂ9 C
)
ÂÂC D
{
ÃÃ 	
CodeConfirmation
ÄÄ 
codeConfirmation
ÄÄ -
=
ÄÄ. /
new
ÄÄ0 3
CodeConfirmation
ÄÄ4 D
(
ÄÄD E

userToSave
ÄÄF P
)
ÄÄP Q
;
ÄÄQ R
this
ÅÅ 
.
ÅÅ 
NavigationService
ÅÅ "
.
ÅÅ" #
Navigate
ÅÅ# +
(
ÅÅ+ ,
codeConfirmation
ÅÅ, <
)
ÅÅ< =
;
ÅÅ= >
NavigationService
ÆÆ 
.
ÆÆ 
RemoveBackEntry
ÆÆ -
(
ÆÆ- .
)
ÆÆ. /
;
ÆÆ/ 0
}
ÇÇ 	
private
ÉÉ 
void
ÉÉ 
HandleException
ÉÉ $
(
ÉÉ$ %
	Exception
ÉÉ% .
ex
ÉÉ/ 1
,
ÉÉ1 2
string
ÉÉ3 9
errorMessage
ÉÉ: F
)
ÉÉF G
{
ÊÊ 	%
ExceptionHandlerForLogs
ËË #
.
ËË# $
LogException
ËË$ 0
(
ËË0 1
ex
ËË1 3
,
ËË3 4!
ExceptionDictionary
ËË5 H
.
ËËH I
FATAL_EXCEPTION
ËËI X
)
ËËX Y
;
ËËY Z!
DialogWindowManager
ÌÌ 
.
ÌÌ  #
ShowInfoOrErrorWindow
ÌÌ  5
(
ÌÌ5 6

Properties
ÌÌ6 @
.
ÌÌ@ A
	Resources
ÌÌA J
.
ÌÌJ K
txbErrorTitle
ÌÌK X
,
ÌÌX Y
errorMessage
ÌÌZ f
,
ÌÌf g
Application
ÌÌh s
.
ÌÌs t
Current
ÌÌt {
.
ÌÌ{ |

MainWindowÌÌ| 
,ÌÌ #
DialogWindowManagerÌÌ 
.ÌÌ 
ERRORÌÌ ¡
)ÌÌ¡ ¢
;ÌÌ¢ £
}
ÍÍ 	
}
ÏÏ 
}ÐÐ ²
kC:\Users\wachi\OneDrive\Documentos\GitHub\JeopardyTecnologias\JeopardyGameClient\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str '
)' (
]( )
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str )
)) *
]* +
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[   
assembly   	
:  	 

	ThemeInfo   
(   &
ResourceDictionaryLocation!! 
.!! 
None!! #
,!!# $&
ResourceDictionaryLocation$$ 
.$$ 
SourceAssembly$$ -
)'' 
]'' 
[44 
assembly44 	
:44	 

AssemblyVersion44 
(44 
$str44 $
)44$ %
]44% &
[55 
assembly55 	
:55	 

AssemblyFileVersion55 
(55 
$str55 (
)55( )
]55) *